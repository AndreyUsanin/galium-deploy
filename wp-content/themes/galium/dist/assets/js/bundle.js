!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){!function(e,n,i){"use strict";var o=function(){function t(t){var o,r,a=function(t){x.length>0&&(isNaN(t)?x.forEach(function(t){y[t].close()}):y[t].close())},s=function(){l(E,g)},l=function(t,e){t.classList?t.classList.add(e):t.className=(t.className+" "+e).trim()},c=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},u=function(t,e,n){t.addEventListener(e,n)},d=function(t,e,n){t.removeEventListener(e,n)},f=function(t){return t instanceof HTMLElement?[t]:Array.isArray(t)?t:"string"==typeof t&&Array.apply(null,n.querySelectorAll(t))},h=function(t,e){var n=t.indexOf(e);return n>-1&&n};for(o in r={slidingElementsSelector:".offside-sliding-element",disableCss3dTransforms:!1,debug:!1},t)r.hasOwnProperty(o)&&(r[o]=t[o]);var v="offside-js",p=v+"--init",m="offside-sliding-element",g=v+"--interact",y=[],b=!0,w=!r.disableCss3dTransforms&&function(){if(!e.getComputedStyle)return!1;var t,o=n.createElement("p"),r={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};for(var a in n.body.insertBefore(o,null),r)o.style[a]!==i&&(o.style[a]="translate3d(1px,1px,1px)",t=e.getComputedStyle(o).getPropertyValue(r[a]));return n.body.removeChild(o),t!==i&&t.length>0&&"none"!==t}(),x=[],E=n.body,C=f(r.slidingElementsSelector),T=r.debug;function A(t,e,n){var i,o;for(i in o={buttonsSelector:"",slidingSide:"left",init:function(){},beforeOpen:function(){},afterOpen:function(){},beforeClose:function(){},afterClose:function(){},beforeDestroy:function(){},afterDestroy:function(){}},e)o.hasOwnProperty(i)&&(o[i]=e[i]);var r=t,p=f(o.buttonsSelector),m=o.slidingSide,g="offside--"+m,w=v+"--is-open",C=v+"--is-"+m,A=n||0,L=function(){!1===h(x,A)?S():M()},S=function(){o.beforeOpen(),b&&(b=!1,s()),a(),l(E,w),l(E,C),l(r,"is-open"),x.push(A),o.afterOpen()},M=function(){var t=h(x,A);!1!==t&&(o.beforeClose(),c(E,w),c(E,C),c(r,"is-open"),x.splice(t,1),o.afterClose())},k=function(t){t.preventDefault(),L()},O=function(){r||console.error('Offside alert: "offside" selector could not match any element'),p.length||console.error('Offside alert: "buttonsSelector" selector could not match any element')};this.toggle=function(){L()},this.open=function(){S()},this.close=function(){M()},this.closeAll=function(){a()},this.destroy=function(){o.beforeDestroy(),M(),p.forEach(function(t){d(t,"click",k)}),c(r,"offside"),c(r,g),delete y[A],o.afterDestroy()},T&&O(),l(r,"offside"),l(r,g),p.forEach(function(t){u(t,"click",k)}),o.init()}return C.forEach(function(t){l(t,m)}),w||l(n.documentElement,"no-csstransforms3d"),l(E,p),{closeOpenOffside:function(){a()},getOffsideInstance:function(t,e){var n=y.length||0,o=function(t,e,n){var o=f(t!==i?t:".offside");return!1!==o?new A(o[0],e,n):null}(t,e,n);if(null!==o)return y[n]=o}}}var o={getInstance:function(e,n){return o.getInstance.factory||(o.getInstance.factory=t(n)),o.getInstance.factory.getOffsideInstance(e,n)}};return o}();t.exports?t.exports=o.getInstance:e.offside=o.getInstance}(window,document)},function(t,e,n){(function(n){var i,o,r;"undefined"!=typeof window&&window,o=[],void 0===(r="function"==typeof(i=function(){return function t(e,n){"use strict";var i=Object.create(t.prototype),o=0,r=0,a=0,s=0,l=[],c=!0,u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},d=null,f=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,h=window.transformProp||function(){var t=document.createElement("div");if(null===t.style.transform){var e=["Webkit","Moz","ms"];for(var n in e)if(void 0!==t.style[e[n]+"Transform"])return e[n]+"Transform"}return"transform"}();i.options={speed:-2,center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,callback:function(){}},n&&Object.keys(n).forEach(function(t){i.options[t]=n[t]}),e||(e=".rellax");var v="string"==typeof e?document.querySelectorAll(e):[e];if(!(v.length>0))throw new Error("The elements you're trying to select don't exist.");if(i.elems=v,i.options.wrapper&&!i.options.wrapper.nodeType){var p=document.querySelector(i.options.wrapper);if(!p)throw new Error("The wrapper you're trying to use don't exist.");i.options.wrapper=p}var m=function t(){for(var e=0;e<l.length;e++)i.elems[e].style.cssText=l[e].style;l=[],r=window.innerHeight,s=window.innerWidth,y(),function(){for(var t=0;t<i.elems.length;t++){var e=g(i.elems[t]);l.push(e)}}(),c&&(window.addEventListener("resize",t),c=!1),w()},g=function(t){var e=t.getAttribute("data-rellax-percentage"),n=t.getAttribute("data-rellax-speed"),o=t.getAttribute("data-rellax-zindex")||0,a=i.options.wrapper?i.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;if(i.options.relativeToWrapper){var l=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;a=l-i.options.wrapper.offsetTop}var c=i.options.vertical&&(e||i.options.center)?a:0,u=i.options.horizontal&&(e||i.options.center)?window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0,d=c+t.getBoundingClientRect().top,f=t.clientHeight||t.offsetHeight||t.scrollHeight,h=u+t.getBoundingClientRect().left,v=t.clientWidth||t.offsetWidth||t.scrollWidth,p=e||(c-d+r)/(f+r),m=e||(u-h+s)/(v+s);i.options.center&&(m=.5,p=.5);var g=n||i.options.speed,y=b(m,p,g),w=t.style.cssText,x="";if(w.indexOf("transform")>=0){var E=w.indexOf("transform"),C=w.slice(E),T=C.indexOf(";");x=T?" "+C.slice(11,T).replace(/\s/g,""):" "+C.slice(11).replace(/\s/g,"")}return{baseX:y.x,baseY:y.y,top:d,left:h,height:f,width:v,speed:g,style:w,transform:x,zindex:o}},y=function(){var t=o,e=a;if(o=i.options.wrapper?i.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,a=i.options.wrapper?i.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,i.options.relativeToWrapper){var n=(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset;o=n-i.options.wrapper.offsetTop}return!(t==o||!i.options.vertical)||!(e==a||!i.options.horizontal)},b=function(t,e,n){var o={},r=n*(100*(1-t)),a=n*(100*(1-e));return o.x=i.options.round?Math.round(r):Math.round(100*r)/100,o.y=i.options.round?Math.round(a):Math.round(100*a)/100,o},w=function(){for(var t,e=0;e<i.elems.length;e++){var n=(o-l[e].top+r)/(l[e].height+r),c=(a-l[e].left+s)/(l[e].width+s),u=(t=b(c,n,l[e].speed)).y-l[e].baseY,d=t.x-l[e].baseX,f=l[e].zindex,v="translate3d("+(i.options.horizontal?d:"0")+"px,"+(i.options.vertical?u:"0")+"px,"+f+"px) "+l[e].transform;i.elems[e].style[h]=v}i.options.callback(t)};return i.destroy=function(){for(var t=0;t<i.elems.length;t++)i.elems[t].style.cssText=l[t].style;c||(window.removeEventListener("resize",m),c=!0),f(d),d=null},m(),function t(){y()&&!1===c&&w(),d=u(t)}(),i.refresh=m,i}})?i.apply(e,o):i)||(t.exports=r)}).call(this,n(4))},function(t,e,n){t.exports=n(8)},function(t,e){t.exports=jQuery},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(i=window)}t.exports=i},function(t,e){var n=document.querySelectorAll(".doc-card-page__button"),i=document.querySelector(".doc-output"),o=document.getElementById("patient-form");o&&o.addEventListener("submit",function(t){t.preventDefault();var e,n,i=document.getElementById("patient-name");/^[A-Za-zА-Яа-я]{3,20}$/.test(i.value)?(i.classList.remove("is-invalid"),e=!0):i.classList.add("is-invalid");var r=document.getElementById("patient-phone");/[0-9]/.test(r.value)?(r.classList.remove("is-invalid"),n=!0):r.classList.add("is-invalid");if(!n||!e)return!1;console.log(n,e),o.submit()}),n.forEach(function(t){t.addEventListener("click",function(e){!function(t){fetch("../docs.json").then(function(t){return t.json()}).then(function(e){var n;return console.log(e),e.forEach(function(e){e.id===t&&(n=e)}),function(t){i.innerHTML='\n    <img class="doc-modal__img" src="'.concat(t.imgSrc,'"/> \n    <h3 class="doc-modal__title">').concat(t.name,'</h3>\n    <input type="hidden" name="Доктор" value="').concat(t.name,'" />\n  ')}(n),e})}(t.dataset.doc),e.preventDefault()})})},,,function(t,e,n){"use strict";n.r(e);n(3);var i=window,o=i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.msRequestAnimationFrame||function(t){return setTimeout(t,16)},r=window,a=r.cancelAnimationFrame||r.mozCancelAnimationFrame||function(t){clearTimeout(t)};function s(){for(var t,e,n,i=arguments[0]||{},o=1,r=arguments.length;o<r;o++)if(null!==(t=arguments[o]))for(e in t)i!==(n=t[e])&&void 0!==n&&(i[e]=n);return i}function l(t){return["true","false"].indexOf(t)>=0?JSON.parse(t):t}function c(t,e,n,i){if(i)try{t.setItem(e,n)}catch(t){}return n}function u(){var t=document,e=t.body;return e||((e=t.createElement("body")).fake=!0),e}var d=document.documentElement;function f(t){var e="";return t.fake&&(e=d.style.overflow,t.style.background="",t.style.overflow=d.style.overflow="hidden",d.appendChild(t)),e}function h(t,e){t.fake&&(t.remove(),d.style.overflow=e,d.offsetHeight)}function v(t,e,n,i){"insertRule"in t?t.insertRule(e+"{"+n+"}",i):t.addRule(e,n,i)}function p(t){return("insertRule"in t?t.cssRules:t.rules).length}function m(t,e,n){for(var i=0,o=t.length;i<o;i++)e.call(n,t[i],i)}var g="classList"in document.createElement("_"),y=g?function(t,e){return t.classList.contains(e)}:function(t,e){return t.className.indexOf(e)>=0},b=g?function(t,e){y(t,e)||t.classList.add(e)}:function(t,e){y(t,e)||(t.className+=" "+e)},w=g?function(t,e){y(t,e)&&t.classList.remove(e)}:function(t,e){y(t,e)&&(t.className=t.className.replace(e,""))};function x(t,e){return t.hasAttribute(e)}function E(t,e){return t.getAttribute(e)}function C(t){return void 0!==t.item}function T(t,e){if(t=C(t)||t instanceof Array?t:[t],"[object Object]"===Object.prototype.toString.call(e))for(var n=t.length;n--;)for(var i in e)t[n].setAttribute(i,e[i])}function A(t,e){t=C(t)||t instanceof Array?t:[t];for(var n=(e=e instanceof Array?e:[e]).length,i=t.length;i--;)for(var o=n;o--;)t[i].removeAttribute(e[o])}function L(t){for(var e=[],n=0,i=t.length;n<i;n++)e.push(t[n]);return e}function S(t,e){"none"!==t.style.display&&(t.style.display="none")}function M(t,e){"none"===t.style.display&&(t.style.display="")}function k(t){return"none"!==window.getComputedStyle(t).display}function O(t){if("string"==typeof t){var e=[t],n=t.charAt(0).toUpperCase()+t.substr(1);["Webkit","Moz","ms","O"].forEach(function(i){"ms"===i&&"transform"!==t||e.push(i+n)}),t=e}for(var i=document.createElement("fakeelement"),o=(t.length,0);o<t.length;o++){var r=t[o];if(void 0!==i.style[r])return r}return!1}function N(t,e){var n=!1;return/^Webkit/.test(t)?n="webkit"+e+"End":/^O/.test(t)?n="o"+e+"End":t&&(n=e.toLowerCase()+"end"),n}var P=!1;try{var D=Object.defineProperty({},"passive",{get:function(){P=!0}});window.addEventListener("test",null,D)}catch(_){}var H=!!P&&{passive:!0};function B(t,e,n){for(var i in e){var o=["touchstart","touchmove"].indexOf(i)>=0&&!n&&H;t.addEventListener(i,e[i],o)}}function j(t,e){for(var n in e){var i=["touchstart","touchmove"].indexOf(n)>=0&&H;t.removeEventListener(n,e[n],i)}}function I(){return{topics:{},on:function(t,e){this.topics[t]=this.topics[t]||[],this.topics[t].push(e)},off:function(t,e){if(this.topics[t])for(var n=0;n<this.topics[t].length;n++)if(this.topics[t][n]===e){this.topics[t].splice(n,1);break}},emit:function(t,e){e.type=t,this.topics[t]&&this.topics[t].forEach(function(n){n(e,t)})}}}function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.keys||(Object.keys=function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)});var _,R,q,F,W,K,Y,X,V,Q=function t(e){e=s({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0},e||{});var n=document,i=window,r={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},d={},g=e.useLocalStorage;if(g){var C=navigator.userAgent,P=new Date;try{(d=i.localStorage)?(d.setItem(P,P),g=d.getItem(P)==P,d.removeItem(P)):g=!1,g||(d={})}catch(t){g=!1}g&&(d.tnsApp&&d.tnsApp!==C&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(t){d.removeItem(t)}),localStorage.tnsApp=C)}var D=d.tC?l(d.tC):c(d,"tC",function(){var t=document,e=u(),n=f(e),i=t.createElement("div"),o=!1;e.appendChild(i);try{for(var r,a="(10px * 10)",s=["calc"+a,"-moz-calc"+a,"-webkit-calc"+a],l=0;l<3;l++)if(r=s[l],i.style.width=r,100===i.offsetWidth){o=r.replace(a,"");break}}catch(t){}return e.fake?h(e,n):i.remove(),o}(),g),H=d.tPL?l(d.tPL):c(d,"tPL",function(){var t,e=document,n=u(),i=f(n),o=e.createElement("div"),r=e.createElement("div"),a="";o.className="tns-t-subp2",r.className="tns-t-ct";for(var s=0;s<70;s++)a+="<div></div>";return r.innerHTML=a,o.appendChild(r),n.appendChild(o),t=Math.abs(o.getBoundingClientRect().left-r.children[67].getBoundingClientRect().left)<2,n.fake?h(n,i):o.remove(),t}(),g),_=d.tMQ?l(d.tMQ):c(d,"tMQ",function(){var t,e=document,n=u(),i=f(n),o=e.createElement("div"),r=e.createElement("style"),a="@media all and (min-width:1px){.tns-mq-test{position:absolute}}";return r.type="text/css",o.className="tns-mq-test",n.appendChild(r),n.appendChild(o),r.styleSheet?r.styleSheet.cssText=a:r.appendChild(e.createTextNode(a)),t=window.getComputedStyle?window.getComputedStyle(o).position:o.currentStyle.position,n.fake?h(n,i):o.remove(),"absolute"===t}(),g),R=d.tTf?l(d.tTf):c(d,"tTf",O("transform"),g),q=d.t3D?l(d.t3D):c(d,"t3D",function(t){if(!t)return!1;if(!window.getComputedStyle)return!1;var e,n=document,i=u(),o=f(i),r=n.createElement("p"),a=t.length>9?"-"+t.slice(0,-9).toLowerCase()+"-":"";return a+="transform",i.insertBefore(r,null),r.style[t]="translate3d(1px,1px,1px)",e=window.getComputedStyle(r).getPropertyValue(a),i.fake?h(i,o):r.remove(),void 0!==e&&e.length>0&&"none"!==e}(R),g),F=d.tTDu?l(d.tTDu):c(d,"tTDu",O("transitionDuration"),g),W=d.tTDe?l(d.tTDe):c(d,"tTDe",O("transitionDelay"),g),K=d.tADu?l(d.tADu):c(d,"tADu",O("animationDuration"),g),Y=d.tADe?l(d.tADe):c(d,"tADe",O("animationDelay"),g),X=d.tTE?l(d.tTE):c(d,"tTE",N(F,"Transition"),g),V=d.tAE?l(d.tAE):c(d,"tAE",N(K,"Animation"),g),Q=i.console&&"function"==typeof i.console.warn,G=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],$={};if(G.forEach(function(t){if("string"==typeof e[t]){var i=e[t],o=n.querySelector(i);if($[t]=i,!o||!o.nodeName)return void(Q&&console.warn("Can't find",e[t]));e[t]=o}}),!(e.container.children.length<1)){var J=e.responsive,U=e.nested,Z="carousel"===e.mode;if(J){0 in J&&(e=s(e,J[0]),delete J[0]);var tt={};for(var et in J){var nt=J[et];nt="number"==typeof nt?{items:nt}:nt,tt[et]=nt}J=tt,tt=null}if(Z||function t(e){for(var n in e)Z||("slideBy"===n&&(e[n]="page"),"edgePadding"===n&&(e[n]=!1),"autoHeight"===n&&(e[n]=!1)),"responsive"===n&&t(e[n])}(e),!Z){e.axis="horizontal",e.slideBy="page",e.edgePadding=!1;var it=e.animateIn,ot=e.animateOut,rt=e.animateDelay,at=e.animateNormal}var st,lt,ct="horizontal"===e.axis,ut=n.createElement("div"),dt=n.createElement("div"),ft=e.container,ht=ft.parentNode,vt=ft.outerHTML,pt=ft.children,mt=pt.length,gt=Nn(),yt=!1;J&&Jn(),Z&&(ft.className+=" tns-vpfix");var bt,wt,xt,Et,Ct,Tt,At,Lt,St=e.autoWidth,Mt=Bn("fixedWidth"),kt=Bn("edgePadding"),Ot=Bn("gutter"),Nt=Dn(),Pt=Bn("center"),Dt=St?1:Math.floor(Bn("items")),Ht=Bn("slideBy"),Bt=e.viewportMax||e.fixedWidthViewportWidth,jt=Bn("arrowKeys"),It=Bn("speed"),zt=e.rewind,_t=!zt&&e.loop,Rt=Bn("autoHeight"),qt=Bn("controls"),Ft=Bn("controlsText"),Wt=Bn("nav"),Kt=Bn("touch"),Yt=Bn("mouseDrag"),Xt=Bn("autoplay"),Vt=Bn("autoplayTimeout"),Qt=Bn("autoplayText"),Gt=Bn("autoplayHoverPause"),$t=Bn("autoplayResetOnVisibility"),Jt=(Lt=document.createElement("style"),At&&Lt.setAttribute("media",At),document.querySelector("head").appendChild(Lt),Lt.sheet?Lt.sheet:Lt.styleSheet),Ut=e.lazyload,Zt=(e.lazyloadSelector,[]),te=_t?(Ct=function(){if(St||Mt&&!Bt)return mt-1;var t=Mt?"fixedWidth":"items",n=[];if((Mt||e[t]<mt)&&n.push(e[t]),J)for(var i in J){var o=J[i][t];o&&(Mt||o<mt)&&n.push(o)}return n.length||n.push(0),Math.ceil(Mt?Bt/Math.min.apply(null,n):Math.max.apply(null,n))}(),Tt=Z?Math.ceil((5*Ct-mt)/2):4*Ct-mt,Tt=Math.max(Ct,Tt),Hn("edgePadding")?Tt+1:Tt):0,ee=Z?mt+2*te:mt+te,ne=!(!Mt&&!St||_t),ie=Mt?Ti():null,oe=!Z||!_t,re=ct?"left":"top",ae="",se="",le=Mt?function(){return Pt&&!_t?mt-1:Math.ceil(-ie/(Mt+Ot))}:St?function(){for(var t=ee;t--;)if(bt[t]>-ie)return t}:function(){return Pt&&Z&&!_t?mt-1:_t||Z?Math.max(0,ee-Math.ceil(Dt)):ee-1},ce=Mn(Bn("startIndex")),ue=ce,de=(Sn(),0),fe=St?null:le(),he=e.preventActionWhenRunning,ve=e.swipeAngle,pe=!ve||"?",me=!1,ge=e.onInit,ye=new I,be=" tns-slider tns-"+e.mode,we=ft.id||(Et=window.tnsId,window.tnsId=Et?Et+1:1,"tns"+window.tnsId),xe=Bn("disable"),Ee=!1,Ce=e.freezable,Te=!(!Ce||St)&&$n(),Ae=!1,Le={click:Di,keydown:function(t){t=qi(t);var e=[r.LEFT,r.RIGHT].indexOf(t.keyCode);e>=0&&(0===e?Ve.disabled||Di(t,-1):Qe.disabled||Di(t,1))}},Se={click:function(t){if(me){if(he)return;Ni()}var e=Fi(t=qi(t));for(;e!==Ue&&!x(e,"data-nav");)e=e.parentNode;if(x(e,"data-nav")){var n=nn=Number(E(e,"data-nav")),i=Mt||St?n*mt/tn:n*Dt,o=Be?n:Math.min(Math.ceil(i),mt-1);Pi(o,t),on===n&&(un&&zi(),nn=-1)}},keydown:function(t){t=qi(t);var e=n.activeElement;if(!x(e,"data-nav"))return;var i=[r.LEFT,r.RIGHT,r.ENTER,r.SPACE].indexOf(t.keyCode),o=Number(E(e,"data-nav"));i>=0&&(0===i?o>0&&Ri(Je[o-1]):1===i?o<tn-1&&Ri(Je[o+1]):(nn=o,Pi(o,t)))}},Me={mouseover:function(){un&&(Bi(),dn=!0)},mouseout:function(){dn&&(Hi(),dn=!1)}},ke={visibilitychange:function(){n.hidden?un&&(Bi(),hn=!0):hn&&(Hi(),hn=!1)}},Oe={keydown:function(t){t=qi(t);var e=[r.LEFT,r.RIGHT].indexOf(t.keyCode);e>=0&&Di(t,0===e?-1:1)}},Ne={touchstart:Xi,touchmove:Vi,touchend:Qi,touchcancel:Qi},Pe={mousedown:Xi,mousemove:Vi,mouseup:Qi,mouseleave:Qi},De=Hn("controls"),He=Hn("nav"),Be=!!St||e.navAsThumbnails,je=Hn("autoplay"),Ie=Hn("touch"),ze=Hn("mouseDrag"),_e="tns-slide-active",Re="tns-complete",qe={load:function(t){ai(Fi(t))},error:function(t){e=Fi(t),b(e,"failed"),si(e);var e}},Fe="force"===e.preventScrollOnTouch;if(De)var We,Ke,Ye=e.controlsContainer,Xe=e.controlsContainer?e.controlsContainer.outerHTML:"",Ve=e.prevButton,Qe=e.nextButton,Ge=e.prevButton?e.prevButton.outerHTML:"",$e=e.nextButton?e.nextButton.outerHTML:"";if(He)var Je,Ue=e.navContainer,Ze=e.navContainer?e.navContainer.outerHTML:"",tn=St?mt:$i(),en=0,nn=-1,on=On(),rn=on,an="tns-nav-active",sn="Carousel Page ",ln=" (Current Slide)";if(je)var cn,un,dn,fn,hn,vn="forward"===e.autoplayDirection?1:-1,pn=e.autoplayButton,mn=e.autoplayButton?e.autoplayButton.outerHTML:"",gn=["<span class='tns-visually-hidden'>"," animation</span>"];if(Ie||ze)var yn,bn,wn={},xn={},En=!1,Cn=ct?function(t,e){return t.x-e.x}:function(t,e){return t.y-e.y};St||Ln(xe||Te),R&&(re=R,ae="translate",q?(ae+=ct?"3d(":"3d(0px, ",se=ct?", 0px, 0px)":", 0px)"):(ae+=ct?"X(":"Y(",se=")")),Z&&(ft.className=ft.className.replace("tns-vpfix","")),function(){Hn("gutter");ut.className="tns-outer",dt.className="tns-inner",ut.id=we+"-ow",dt.id=we+"-iw",""===ft.id&&(ft.id=we);be+=H||St?" tns-subpixel":" tns-no-subpixel",be+=D?" tns-calc":" tns-no-calc",St&&(be+=" tns-autowidth");be+=" tns-"+e.axis,ft.className+=be,Z?((st=n.createElement("div")).id=we+"-mw",st.className="tns-ovh",ut.appendChild(st),st.appendChild(dt)):ut.appendChild(dt);if(Rt){var t=st||dt;t.className+=" tns-ah"}if(ht.insertBefore(ut,ft),dt.appendChild(ft),m(pt,function(t,e){b(t,"tns-item"),t.id||(t.id=we+"-item"+e),!Z&&at&&b(t,at),T(t,{"aria-hidden":"true",tabindex:"-1"})}),te){for(var i=n.createDocumentFragment(),o=n.createDocumentFragment(),r=te;r--;){var a=r%mt,s=pt[a].cloneNode(!0);if(A(s,"id"),o.insertBefore(s,o.firstChild),Z){var l=pt[mt-1-a].cloneNode(!0);A(l,"id"),i.appendChild(l)}}ft.insertBefore(i,ft.firstChild),ft.appendChild(o),pt=ft.children}}(),function(){if(!Z)for(var t=ce,n=ce+Math.min(mt,Dt);t<n;t++){var o=pt[t];o.style.left=100*(t-ce)/Dt+"%",b(o,it),w(o,at)}ct&&(H||St?(v(Jt,"#"+we+" > .tns-item","font-size:"+i.getComputedStyle(pt[0]).fontSize+";",p(Jt)),v(Jt,"#"+we,"font-size:0;",p(Jt))):Z&&m(pt,function(t,e){t.style.marginLeft=function(t){return D?D+"("+100*t+"% / "+ee+")":100*t/ee+"%"}(e)}));if(_){if(F){var r=st&&e.autoHeight?qn(e.speed):"";v(Jt,"#"+we+"-mw",r,p(Jt))}r=jn(e.edgePadding,e.gutter,e.fixedWidth,e.speed,e.autoHeight),v(Jt,"#"+we+"-iw",r,p(Jt)),Z&&(r=ct&&!St?"width:"+In(e.fixedWidth,e.gutter,e.items)+";":"",F&&(r+=qn(It)),v(Jt,"#"+we,r,p(Jt))),r=ct&&!St?zn(e.fixedWidth,e.gutter,e.items):"",e.gutter&&(r+=_n(e.gutter)),Z||(F&&(r+=qn(It)),K&&(r+=Fn(It))),r&&v(Jt,"#"+we+" > .tns-item",r,p(Jt))}else{fi(),dt.style.cssText=jn(kt,Ot,Mt,Rt),Z&&ct&&!St&&(ft.style.width=In(Mt,Ot,Dt));var r=ct&&!St?zn(Mt,Ot,Dt):"";Ot&&(r+=_n(Ot)),r&&v(Jt,"#"+we+" > .tns-item",r,p(Jt))}if(J&&_)for(var a in J){a=parseInt(a);var s=J[a],r="",l="",c="",u="",d="",f=St?null:Bn("items",a),h=Bn("fixedWidth",a),g=Bn("speed",a),y=Bn("edgePadding",a),x=Bn("autoHeight",a),E=Bn("gutter",a);F&&st&&Bn("autoHeight",a)&&"speed"in s&&(l="#"+we+"-mw{"+qn(g)+"}"),("edgePadding"in s||"gutter"in s)&&(c="#"+we+"-iw{"+jn(y,E,h,g,x)+"}"),Z&&ct&&!St&&("fixedWidth"in s||"items"in s||Mt&&"gutter"in s)&&(u="width:"+In(h,E,f)+";"),F&&"speed"in s&&(u+=qn(g)),u&&(u="#"+we+"{"+u+"}"),("fixedWidth"in s||Mt&&"gutter"in s||!Z&&"items"in s)&&(d+=zn(h,E,f)),"gutter"in s&&(d+=_n(E)),!Z&&"speed"in s&&(F&&(d+=qn(g)),K&&(d+=Fn(g))),d&&(d="#"+we+" > .tns-item{"+d+"}"),(r=l+c+u+d)&&Jt.insertRule("@media (min-width: "+a/16+"em) {"+r+"}",Jt.cssRules.length)}}(),Wn();var Tn=_t?Z?function(){var t=de,e=fe;t+=Ht,e-=Ht,kt?(t+=1,e-=1):Mt&&(Nt+Ot)%(Mt+Ot)&&(e-=1),te&&(ce>e?ce-=mt:ce<t&&(ce+=mt))}:function(){if(ce>fe)for(;ce>=de+mt;)ce-=mt;else if(ce<de)for(;ce<=fe-mt;)ce+=mt}:function(){ce=Math.max(de,Math.min(fe,ce))},An=Z?function(){var t,e,n,i,o,r,a,s,l,c,u;Ei(ft,""),F||!It?(Si(),It&&k(ft)||Ni()):(t=ft,e=re,n=ae,i=se,o=Ai(),r=It,a=Ni,s=Math.min(r,10),l=o.indexOf("%")>=0?"%":"px",o=o.replace(l,""),c=Number(t.style[e].replace(n,"").replace(i,"").replace(l,"")),u=(o-c)/r*s,setTimeout(function o(){r-=s,c+=u,t.style[e]=n+c+l+i,r>0?setTimeout(o,s):a()},s)),ct||Gi()}:function(){Zt=[];var t={};t[X]=t[V]=Ni,j(pt[ue],t),B(pt[ce],t),Mi(ue,it,ot,!0),Mi(ce,at,it),X&&V&&It&&k(ft)||Ni()};return{version:"2.9.1",getInfo:Ui,events:ye,goTo:Pi,play:function(){Xt&&!un&&(Ii(),fn=!1)},pause:function(){un&&(zi(),fn=!0)},isOn:yt,updateSliderHeight:vi,refresh:Wn,destroy:function(){if(Jt.disabled=!0,Jt.ownerNode&&Jt.ownerNode.remove(),j(i,{resize:Qn}),jt&&j(n,Oe),Ye&&j(Ye,Le),Ue&&j(Ue,Se),j(ft,Me),j(ft,ke),pn&&j(pn,{click:_i}),Xt&&clearInterval(cn),Z&&X){var t={};t[X]=Ni,j(ft,t)}Kt&&j(ft,Ne),Yt&&j(ft,Pe);var o=[vt,Xe,Ge,$e,Ze,mn];for(var r in G.forEach(function(t,n){var i="container"===t?ut:e[t];if("object"===z(i)){var r=!!i.previousElementSibling&&i.previousElementSibling,a=i.parentNode;i.outerHTML=o[n],e[t]=r?r.nextElementSibling:a.firstElementChild}}),G=it=ot=rt=at=ct=ut=dt=ft=ht=vt=pt=mt=lt=gt=St=Mt=kt=Ot=Nt=Dt=Ht=Bt=jt=It=zt=_t=Rt=Jt=Ut=bt=Zt=te=ee=ne=ie=oe=re=ae=se=le=ce=ue=de=fe=ve=pe=me=ge=ye=be=we=xe=Ee=Ce=Te=Ae=Le=Se=Me=ke=Oe=Ne=Pe=De=He=Be=je=Ie=ze=_e=Re=qe=wt=qt=Ft=Ye=Xe=Ve=Qe=We=Ke=Wt=Ue=Ze=Je=tn=en=nn=on=rn=an=sn=ln=Xt=Vt=vn=Qt=Gt=pn=mn=$t=gn=cn=un=dn=fn=hn=wn=xn=yn=En=bn=Cn=Kt=Yt=null,this)"rebuild"!==r&&(this[r]=null);yt=!1},rebuild:function(){return t(s(e,$))}}}function Ln(t){t&&(qt=Wt=Kt=Yt=jt=Xt=Gt=$t=!1)}function Sn(){for(var t=Z?ce-te:ce;t<0;)t+=mt;return t%mt+1}function Mn(t){return t=t?Math.max(0,Math.min(_t?mt-1:mt-Dt,t)):0,Z?t+te:t}function kn(t){for(null==t&&(t=ce),Z&&(t-=te);t<0;)t+=mt;return Math.floor(t%mt)}function On(){var t,e=kn();return t=Be?e:Mt||St?Math.ceil((e+1)*tn/mt-1):Math.floor(e/Dt),!_t&&Z&&ce===fe&&(t=tn-1),t}function Nn(){return i.innerWidth||n.documentElement.clientWidth||n.body.clientWidth}function Pn(t){return"top"===t?"afterbegin":"beforeend"}function Dn(){var t=kt?2*kt-Ot:0;return function t(e){var i,o,r=n.createElement("div");return e.appendChild(r),o=(i=r.getBoundingClientRect()).right-i.left,r.remove(),o||t(e.parentNode)}(ht)-t}function Hn(t){if(e[t])return!0;if(J)for(var n in J)if(J[n][t])return!0;return!1}function Bn(t,n){if(null==n&&(n=gt),"items"===t&&Mt)return Math.floor((Nt+Ot)/(Mt+Ot))||1;var i=e[t];if(J)for(var o in J)n>=parseInt(o)&&t in J[o]&&(i=J[o][t]);return"slideBy"===t&&"page"===i&&(i=Bn("items")),Z||"slideBy"!==t&&"items"!==t||(i=Math.floor(i)),i}function jn(t,e,n,i,o){var r="";if(void 0!==t){var a=t;e&&(a-=e),r=ct?"margin: 0 "+a+"px 0 "+t+"px;":"margin: "+t+"px 0 "+a+"px 0;"}else if(e&&!n){var s="-"+e+"px";r="margin: 0 "+(ct?s+" 0 0":"0 "+s+" 0")+";"}return!Z&&o&&F&&i&&(r+=qn(i)),r}function In(t,e,n){return t?(t+e)*ee+"px":D?D+"("+100*ee+"% / "+n+")":100*ee/n+"%"}function zn(t,e,n){var i;if(t)i=t+e+"px";else{Z||(n=Math.floor(n));var o=Z?ee:n;i=D?D+"(100% / "+o+")":100/o+"%"}return i="width:"+i,"inner"!==U?i+";":i+" !important;"}function _n(t){var e="";!1!==t&&(e=(ct?"padding-":"margin-")+(ct?"right":"bottom")+": "+t+"px;");return e}function Rn(t,e){var n=t.substring(0,t.length-e).toLowerCase();return n&&(n="-"+n+"-"),n}function qn(t){return Rn(F,18)+"transition-duration:"+t/1e3+"s;"}function Fn(t){return Rn(K,17)+"animation-duration:"+t/1e3+"s;"}function Wn(){if(Hn("autoHeight")||St||!ct){var t=ft.querySelectorAll("img");m(t,function(t){var e=t.src;e&&e.indexOf("data:image")<0?(B(t,qe),t.src="",t.src=e,b(t,"loading")):Ut||ai(t)}),o(function(){ui(L(t),function(){wt=!0})}),!St&&ct&&(t=li(ce,Math.min(ce+Dt-1,ee-1))),Ut?Kn():o(function(){ui(L(t),Kn)})}else Z&&Li(),Xn(),Vn()}function Kn(){if(St){var t=_t?ce:mt-1;!function e(){pt[t-1].getBoundingClientRect().right.toFixed(2)===pt[t].getBoundingClientRect().left.toFixed(2)?Yn():setTimeout(function(){e()},16)}()}else Yn()}function Yn(){ct&&!St||(pi(),St?(ie=Ti(),Ce&&(Te=$n()),fe=le(),Ln(xe||Te)):Gi()),Z&&Li(),Xn(),Vn()}function Xn(){if(mi(),ut.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+ii()+"</span>  of "+mt+"</div>"),xt=ut.querySelector(".tns-liveregion .current"),je){var t=Xt?"stop":"start";pn?T(pn,{"data-action":t}):e.autoplayButtonOutput&&(ut.insertAdjacentHTML(Pn(e.autoplayPosition),'<button data-action="'+t+'">'+gn[0]+t+gn[1]+Qt[0]+"</button>"),pn=ut.querySelector("[data-action]")),pn&&B(pn,{click:_i}),Xt&&(Ii(),Gt&&B(ft,Me),$t&&B(ft,ke))}if(He){if(Ue)T(Ue,{"aria-label":"Carousel Pagination"}),m(Je=Ue.children,function(t,e){T(t,{"data-nav":e,tabindex:"-1","aria-label":sn+(e+1),"aria-controls":we})});else{for(var n="",i=Be?"":'style="display:none"',o=0;o<mt;o++)n+='<button data-nav="'+o+'" tabindex="-1" aria-controls="'+we+'" '+i+' aria-label="'+sn+(o+1)+'"></button>';n='<div class="tns-nav" aria-label="Carousel Pagination">'+n+"</div>",ut.insertAdjacentHTML(Pn(e.navPosition),n),Ue=ut.querySelector(".tns-nav"),Je=Ue.children}if(Ji(),F){var r=F.substring(0,F.length-18).toLowerCase(),a="transition: all "+It/1e3+"s";r&&(a="-"+r+"-"+a),v(Jt,"[aria-controls^="+we+"-item]",a,p(Jt))}T(Je[on],{"aria-label":sn+(on+1)+ln}),A(Je[on],"tabindex"),b(Je[on],an),B(Ue,Se)}De&&(Ye||Ve&&Qe||(ut.insertAdjacentHTML(Pn(e.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button data-controls="prev" tabindex="-1" aria-controls="'+we+'">'+Ft[0]+'</button><button data-controls="next" tabindex="-1" aria-controls="'+we+'">'+Ft[1]+"</button></div>"),Ye=ut.querySelector(".tns-controls")),Ve&&Qe||(Ve=Ye.children[0],Qe=Ye.children[1]),e.controlsContainer&&T(Ye,{"aria-label":"Carousel Navigation",tabindex:"0"}),(e.controlsContainer||e.prevButton&&e.nextButton)&&T([Ve,Qe],{"aria-controls":we,tabindex:"-1"}),(e.controlsContainer||e.prevButton&&e.nextButton)&&(T(Ve,{"data-controls":"prev"}),T(Qe,{"data-controls":"next"})),We=yi(Ve),Ke=yi(Qe),xi(),Ye?B(Ye,Le):(B(Ve,Le),B(Qe,Le))),Un()}function Vn(){if(Z&&X){var t={};t[X]=Ni,B(ft,t)}Kt&&B(ft,Ne,e.preventScrollOnTouch),Yt&&B(ft,Pe),jt&&B(n,Oe),"inner"===U?ye.on("outerResized",function(){Gn(),ye.emit("innerLoaded",Ui())}):(J||Mt||St||Rt||!ct)&&B(i,{resize:Qn}),Rt&&("outer"===U?ye.on("innerLoaded",ci):xe||ci()),ri(),xe?ei():Te&&ti(),ye.on("indexChanged",di),"inner"===U&&ye.emit("innerLoaded",Ui()),"function"==typeof ge&&ge(Ui()),yt=!0}function Qn(t){o(function(){Gn(qi(t))})}function Gn(t){if(yt){"outer"===U&&ye.emit("outerResized",Ui(t)),gt=Nn();var i,o=lt,r=!1;J&&(Jn(),(i=o!==lt)&&ye.emit("newBreakpointStart",Ui(t)));var a,s,l=Dt,c=xe,u=Te,d=jt,f=qt,h=Wt,g=Kt,y=Yt,x=Xt,E=Gt,C=$t,T=ce;if(i){var A=Mt,L=Rt,k=Ft,O=Pt,N=Qt;if(!_)var P=Ot,D=kt}if(jt=Bn("arrowKeys"),qt=Bn("controls"),Wt=Bn("nav"),Kt=Bn("touch"),Pt=Bn("center"),Yt=Bn("mouseDrag"),Xt=Bn("autoplay"),Gt=Bn("autoplayHoverPause"),$t=Bn("autoplayResetOnVisibility"),i&&(xe=Bn("disable"),Mt=Bn("fixedWidth"),It=Bn("speed"),Rt=Bn("autoHeight"),Ft=Bn("controlsText"),Qt=Bn("autoplayText"),Vt=Bn("autoplayTimeout"),_||(kt=Bn("edgePadding"),Ot=Bn("gutter"))),Ln(xe),Nt=Dn(),ct&&!St||xe||(pi(),ct||(Gi(),r=!0)),(Mt||St)&&(ie=Ti(),fe=le()),(i||Mt)&&(Dt=Bn("items"),Ht=Bn("slideBy"),(s=Dt!==l)&&(Mt||St||(fe=le()),Tn())),i&&xe!==c&&(xe?ei():function(){if(!Ee)return;if(Jt.disabled=!1,ft.className+=be,Li(),_t)for(var t=te;t--;)Z&&M(pt[t]),M(pt[ee-t-1]);if(!Z)for(var e=ce,n=ce+mt;e<n;e++){var i=pt[e],o=e<ce+Dt?it:at;i.style.left=100*(e-ce)/Dt+"%",b(i,o)}Zn(),Ee=!1}()),Ce&&(i||Mt||St)&&(Te=$n())!==u&&(Te?(Si(Ai(Mn(0))),ti()):(!function(){if(!Ae)return;kt&&_&&(dt.style.margin="");if(te)for(var t="tns-transparent",e=te;e--;)Z&&w(pt[e],t),w(pt[ee-e-1],t);Zn(),Ae=!1}(),r=!0)),Ln(xe||Te),Xt||(Gt=$t=!1),jt!==d&&(jt?B(n,Oe):j(n,Oe)),qt!==f&&(qt?Ye?M(Ye):(Ve&&M(Ve),Qe&&M(Qe)):Ye?S(Ye):(Ve&&S(Ve),Qe&&S(Qe))),Wt!==h&&(Wt?M(Ue):S(Ue)),Kt!==g&&(Kt?B(ft,Ne,e.preventScrollOnTouch):j(ft,Ne)),Yt!==y&&(Yt?B(ft,Pe):j(ft,Pe)),Xt!==x&&(Xt?(pn&&M(pn),un||fn||Ii()):(pn&&S(pn),un&&zi())),Gt!==E&&(Gt?B(ft,Me):j(ft,Me)),$t!==C&&($t?B(n,ke):j(n,ke)),i){if(Mt===A&&Pt===O||(r=!0),Rt!==L&&(Rt||(dt.style.height="")),qt&&Ft!==k&&(Ve.innerHTML=Ft[0],Qe.innerHTML=Ft[1]),pn&&Qt!==N){var H=Xt?1:0,I=pn.innerHTML,z=I.length-N[H].length;I.substring(z)===N[H]&&(pn.innerHTML=I.substring(0,z)+Qt[H])}}else Pt&&(Mt||St)&&(r=!0);if((s||Mt&&!St)&&(tn=$i(),Ji()),(a=ce!==T)?(ye.emit("indexChanged",Ui()),r=!0):s?a||di():(Mt||St)&&(ri(),mi(),ni()),!s&&Z||function(){for(var t=ce+Math.min(mt,Dt),e=ee;e--;){var n=pt[e];e>=ce&&e<t?(b(n,"tns-moving"),n.style.left=100*(e-ce)/Dt+"%",b(n,it),w(n,at)):n.style.left&&(n.style.left="",b(n,at),w(n,it)),w(n,ot)}setTimeout(function(){m(pt,function(t){w(t,"tns-moving")})},300)}(),!xe&&!Te){if(i&&!_&&(Rt===autoheightTem&&It===speedTem||fi(),kt===D&&Ot===P||(dt.style.cssText=jn(kt,Ot,Mt,It,Rt)),ct)){Z&&(ft.style.width=In(Mt,Ot,Dt));var R=zn(Mt,Ot,Dt)+_n(Ot);!function(t,e){"deleteRule"in t?t.deleteRule(e):t.removeRule(e)}(Jt,p(Jt)-1),v(Jt,"#"+we+" > .tns-item",R,p(Jt))}Rt&&ci(),r&&(Li(),ue=ce)}i&&ye.emit("newBreakpointEnd",Ui(t))}}function $n(){if(!Mt&&!St)return mt<=(Pt?Dt-(Dt-1)/2:Dt);var t=Mt?(Mt+Ot)*mt:bt[mt],e=kt?Nt+2*kt:Nt+Ot;return Pt&&(e-=Mt?(Nt-Mt)/2:(Nt-(bt[ce+1]-bt[ce]-Ot))/2),t<=e}function Jn(){for(var t in lt=0,J)t=parseInt(t),gt>=t&&(lt=t)}function Un(){!Xt&&pn&&S(pn),!Wt&&Ue&&S(Ue),qt||(Ye?S(Ye):(Ve&&S(Ve),Qe&&S(Qe)))}function Zn(){Xt&&pn&&M(pn),Wt&&Ue&&M(Ue),qt&&(Ye?M(Ye):(Ve&&M(Ve),Qe&&M(Qe)))}function ti(){if(!Ae){if(kt&&(dt.style.margin="0px"),te)for(var t="tns-transparent",e=te;e--;)Z&&b(pt[e],t),b(pt[ee-e-1],t);Un(),Ae=!0}}function ei(){if(!Ee){if(Jt.disabled=!0,ft.className=ft.className.replace(be.substring(1),""),A(ft,["style"]),_t)for(var t=te;t--;)Z&&S(pt[t]),S(pt[ee-t-1]);if(ct&&Z||A(dt,["style"]),!Z)for(var e=ce,n=ce+mt;e<n;e++){var i=pt[e];A(i,["style"]),w(i,it),w(i,at)}Un(),Ee=!0}}function ni(){var t=ii();xt.innerHTML!==t&&(xt.innerHTML=t)}function ii(){var t=oi(),e=t[0]+1,n=t[1]+1;return e===n?e+"":e+" to "+n}function oi(t){null==t&&(t=Ai());var e,n,i,o=ce;if(Pt||kt?(St||Mt)&&(n=-(parseFloat(t)+kt),i=n+Nt+2*kt):St&&(n=bt[ce],i=n+Nt),St)bt.forEach(function(t,r){r<ee&&((Pt||kt)&&t<=n+.5&&(o=r),i-t>=.5&&(e=r))});else{if(Mt){var r=Mt+Ot;Pt||kt?(o=Math.floor(n/r),e=Math.ceil(i/r-1)):e=o+Math.ceil(Nt/r)-1}else if(Pt||kt){var a=Dt-1;if(Pt?(o-=a/2,e=ce+a/2):e=ce+a,kt){var s=kt*Dt/Nt;o-=s,e+=s}o=Math.floor(o),e=Math.ceil(e)}else e=o+Dt-1;o=Math.max(o,0),e=Math.min(e,ee-1)}return[o,e]}function ri(){Ut&&!xe&&li.apply(null,oi()).forEach(function(t){if(!y(t,Re)){var e={};e[X]=function(t){t.stopPropagation()},B(t,e),B(t,qe),t.src=E(t,"data-src");var n=E(t,"data-srcset");n&&(t.srcset=n),b(t,"loading")}})}function ai(t){b(t,"loaded"),si(t)}function si(t){b(t,"tns-complete"),w(t,"loading"),j(t,qe)}function li(t,e){for(var n=[];t<=e;)m(pt[t].querySelectorAll("img"),function(t){n.push(t)}),t++;return n}function ci(){var t=li.apply(null,oi());o(function(){ui(t,vi)})}function ui(t,e){return wt?e():(t.forEach(function(e,n){y(e,Re)&&t.splice(n,1)}),t.length?void o(function(){ui(t,e)}):e())}function di(){ri(),mi(),ni(),xi(),function(){if(Wt&&(on=nn>=0?nn:On(),nn=-1,on!==rn)){var t=Je[rn],e=Je[on];T(t,{tabindex:"-1","aria-label":sn+(rn+1)}),w(t,an),T(e,{"aria-label":sn+(on+1)+ln}),A(e,"tabindex"),b(e,an),rn=on}}()}function fi(){Z&&Rt&&(st.style[F]=It/1e3+"s")}function hi(t,e){for(var n=[],i=t,o=Math.min(t+e,ee);i<o;i++)n.push(pt[i].offsetHeight);return Math.max.apply(null,n)}function vi(){var t=Rt?hi(ce,Dt):hi(te,mt),e=st||dt;e.style.height!==t&&(e.style.height=t+"px")}function pi(){bt=[0];var t=ct?"left":"top",e=ct?"right":"bottom",n=pt[0].getBoundingClientRect()[t];m(pt,function(i,o){o&&bt.push(i.getBoundingClientRect()[t]-n),o===ee-1&&bt.push(i.getBoundingClientRect()[e]-n)})}function mi(){var t=oi(),e=t[0],n=t[1];m(pt,function(t,i){i>=e&&i<=n?x(t,"aria-hidden")&&(A(t,["aria-hidden","tabindex"]),b(t,_e)):x(t,"aria-hidden")||(T(t,{"aria-hidden":"true",tabindex:"-1"}),w(t,_e))})}function gi(t){return t.nodeName.toLowerCase()}function yi(t){return"button"===gi(t)}function bi(t){return"true"===t.getAttribute("aria-disabled")}function wi(t,e,n){t?e.disabled=n:e.setAttribute("aria-disabled",n.toString())}function xi(){if(qt&&!zt&&!_t){var t=We?Ve.disabled:bi(Ve),e=Ke?Qe.disabled:bi(Qe),n=ce<=de,i=!zt&&ce>=fe;n&&!t&&wi(We,Ve,!0),!n&&t&&wi(We,Ve,!1),i&&!e&&wi(Ke,Qe,!0),!i&&e&&wi(Ke,Qe,!1)}}function Ei(t,e){F&&(t.style[F]=e)}function Ci(t){return null==t&&(t=ce),St?(Nt-(kt?Ot:0)-(bt[t+1]-bt[t]-Ot))/2:Mt?(Nt-Mt)/2:(Dt-1)/2}function Ti(){var t=Nt+(kt?Ot:0)-(Mt?(Mt+Ot)*ee:bt[ee]);return Pt&&!_t&&(t=Mt?-(Mt+Ot)*(ee-1)-Ci():Ci(ee-1)-bt[ee-1]),t>0&&(t=0),t}function Ai(t){var e;if(null==t&&(t=ce),ct&&!St)if(Mt)e=-(Mt+Ot)*t,Pt&&(e+=Ci());else{var n=R?ee:Dt;Pt&&(t-=Ci()),e=100*-t/n}else e=-bt[t],Pt&&St&&(e+=Ci());return ne&&(e=Math.max(e,ie)),e+=!ct||St||Mt?"px":"%"}function Li(t){Ei(ft,"0s"),Si(t)}function Si(t){null==t&&(t=Ai()),ft.style[re]=ae+t+se}function Mi(t,e,n,i){var o=t+Dt;_t||(o=Math.min(o,ee));for(var r=t;r<o;r++){var a=pt[r];i||(a.style.left=100*(r-ce)/Dt+"%"),rt&&W&&(a.style[W]=a.style[Y]=rt*(r-t)/1e3+"s"),w(a,e),b(a,n),i&&Zt.push(a)}}function ki(t,e){oe&&Tn(),(ce!==ue||e)&&(ye.emit("indexChanged",Ui()),ye.emit("transitionStart",Ui()),Rt&&ci(),un&&t&&["click","keydown"].indexOf(t.type)>=0&&zi(),me=!0,An())}function Oi(t){return t.toLowerCase().replace(/-/g,"")}function Ni(t){if(Z||me){if(ye.emit("transitionEnd",Ui(t)),!Z&&Zt.length>0)for(var e=0;e<Zt.length;e++){var n=Zt[e];n.style.left="",Y&&W&&(n.style[Y]="",n.style[W]=""),w(n,ot),b(n,at)}if(!t||!Z&&t.target.parentNode===ft||t.target===ft&&Oi(t.propertyName)===Oi(re)){if(!oe){var i=ce;Tn(),ce!==i&&(ye.emit("indexChanged",Ui()),Li())}"inner"===U&&ye.emit("innerLoaded",Ui()),me=!1,ue=ce}}}function Pi(t,e){if(!Te)if("prev"===t)Di(e,-1);else if("next"===t)Di(e,1);else{if(me){if(he)return;Ni()}var n=kn(),i=0;if("first"===t?i=-n:"last"===t?i=Z?mt-Dt-n:mt-1-n:("number"!=typeof t&&(t=parseInt(t)),isNaN(t)||(e||(t=Math.max(0,Math.min(mt-1,t))),i=t-n)),!Z&&i&&Math.abs(i)<Dt){var o=i>0?1:-1;i+=ce+i-mt>=de?mt*o:2*mt*o*-1}ce+=i,Z&&_t&&(ce<de&&(ce+=mt),ce>fe&&(ce-=mt)),kn(ce)!==kn(ue)&&ki(e)}}function Di(t,e){if(me){if(he)return;Ni()}var n;if(!e){for(var i=Fi(t=qi(t));i!==Ye&&[Ve,Qe].indexOf(i)<0;)i=i.parentNode;var o=[Ve,Qe].indexOf(i);o>=0&&(n=!0,e=0===o?-1:1)}if(zt){if(ce===de&&-1===e)return void Pi("last",t);if(ce===fe&&1===e)return void Pi("first",t)}e&&(ce+=Ht*e,St&&(ce=Math.floor(ce)),ki(n||t&&"keydown"===t.type?t:null))}function Hi(){cn=setInterval(function(){Di(null,vn)},Vt),un=!0}function Bi(){clearInterval(cn),un=!1}function ji(t,e){T(pn,{"data-action":t}),pn.innerHTML=gn[0]+t+gn[1]+e}function Ii(){Hi(),pn&&ji("stop",Qt[1])}function zi(){Bi(),pn&&ji("start",Qt[0])}function _i(){un?(zi(),fn=!0):(Ii(),fn=!1)}function Ri(t){t.focus()}function qi(t){return Wi(t=t||i.event)?t.changedTouches[0]:t}function Fi(t){return t.target||i.event.srcElement}function Wi(t){return t.type.indexOf("touch")>=0}function Ki(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function Yi(){return r=xn.y-wn.y,a=xn.x-wn.x,t=Math.atan2(r,a)*(180/Math.PI),n=ve,i=!1,(o=Math.abs(90-Math.abs(t)))>=90-n?i="horizontal":o<=n&&(i="vertical"),i===e.axis;var t,n,i,o,r,a}function Xi(t){if(me){if(he)return;Ni()}Xt&&un&&Bi(),En=!0,bn&&(a(bn),bn=null);var e=qi(t);ye.emit(Wi(t)?"touchStart":"dragStart",Ui(t)),!Wi(t)&&["img","a"].indexOf(gi(Fi(t)))>=0&&Ki(t),xn.x=wn.x=e.clientX,xn.y=wn.y=e.clientY,Z&&(yn=parseFloat(ft.style[re].replace(ae,"")),Ei(ft,"0s"))}function Vi(t){if(En){var e=qi(t);xn.x=e.clientX,xn.y=e.clientY,Z?bn||(bn=o(function(){!function t(e){if(!pe)return void(En=!1);a(bn);En&&(bn=o(function(){t(e)}));"?"===pe&&(pe=Yi());if(pe){!Fe&&Wi(e)&&(Fe=!0);try{e.type&&ye.emit(Wi(e)?"touchMove":"dragMove",Ui(e))}catch(t){}var n=yn,i=Cn(xn,wn);if(!ct||Mt||St)n+=i,n+="px";else{var r=R?i*Dt*100/((Nt+Ot)*ee):100*i/(Nt+Ot);n+=r,n+="%"}ft.style[re]=ae+n+se}}(t)})):("?"===pe&&(pe=Yi()),pe&&(Fe=!0)),Fe&&t.preventDefault()}}function Qi(t){if(En){bn&&(a(bn),bn=null),Z&&Ei(ft,""),En=!1;var n=qi(t);xn.x=n.clientX,xn.y=n.clientY;var i=Cn(xn,wn);if(Math.abs(i)){if(!Wi(t)){var r=Fi(t);B(r,{click:function t(e){Ki(e),j(r,{click:t})}})}Z?bn=o(function(){if(ct&&!St){var e=-i*Dt/(Nt+Ot);e=i>0?Math.floor(e):Math.ceil(e),ce+=e}else{var n=-(yn+i);if(n<=0)ce=de;else if(n>=bt[ee-1])ce=fe;else for(var o=0;o<ee&&n>=bt[o];)ce=o,n>bt[o]&&i<0&&(ce+=1),o++}ki(t,i),ye.emit(Wi(t)?"touchEnd":"dragEnd",Ui(t))}):pe&&Di(t,i>0?-1:1)}}"auto"===e.preventScrollOnTouch&&(Fe=!1),ve&&(pe="?"),Xt&&!un&&Hi()}function Gi(){(st||dt).style.height=bt[ce+Dt]-bt[ce]+"px"}function $i(){var t=Mt?(Mt+Ot)*mt/Nt:mt/Dt;return Math.min(Math.ceil(t),mt)}function Ji(){if(Wt&&!Be&&tn!==en){var t=en,e=tn,n=M;for(en>tn&&(t=tn,e=en,n=S);t<e;)n(Je[t]),t++;en=tn}}function Ui(t){return{container:ft,slideItems:pt,navContainer:Ue,navItems:Je,controlsContainer:Ye,hasControls:De,prevButton:Ve,nextButton:Qe,items:Dt,slideBy:Ht,cloneCount:te,slideCount:mt,slideCountNew:ee,index:ce,indexCached:ue,displayIndex:Sn(),navCurrentIndex:on,navCurrentIndexCached:rn,pages:tn,pagesCached:en,sheet:Jt,isOn:yt,event:t||{}}}Q&&console.warn("No slides found in",e.container)},G=n(0),$=n.n(G),J=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},U=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Z=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},tt=(_=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden])","iframe","object","embed","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],R=function(){function t(e){var n=e.targetModal,i=e.triggers,o=void 0===i?[]:i,r=e.onShow,a=void 0===r?function(){}:r,s=e.onClose,l=void 0===s?function(){}:s,c=e.openTrigger,u=void 0===c?"data-micromodal-trigger":c,d=e.closeTrigger,f=void 0===d?"data-micromodal-close":d,h=e.disableScroll,v=void 0!==h&&h,p=e.disableFocus,m=void 0!==p&&p,g=e.awaitCloseAnimation,y=void 0!==g&&g,b=e.debugMode,w=void 0!==b&&b;J(this,t),this.modal=document.getElementById(n),this.config={debugMode:w,disableScroll:v,openTrigger:u,closeTrigger:f,onShow:a,onClose:l,awaitCloseAnimation:y,disableFocus:m},o.length>0&&this.registerTriggers.apply(this,Z(o)),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this)}return U(t,[{key:"registerTriggers",value:function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(e){e.addEventListener("click",function(){return t.showModal()})})}},{key:"showModal",value:function(){this.activeElement=document.activeElement,this.modal.setAttribute("aria-hidden","false"),this.modal.classList.add("is-open"),this.setFocusToFirstNode(),this.scrollBehaviour("disable"),this.addEventListeners(),this.config.onShow(this.modal)}},{key:"closeModal",value:function(){var t=this.modal;this.modal.setAttribute("aria-hidden","true"),this.removeEventListeners(),this.scrollBehaviour("enable"),this.activeElement.focus(),this.config.onClose(this.modal),this.config.awaitCloseAnimation?this.modal.addEventListener("animationend",function e(){t.classList.remove("is-open"),t.removeEventListener("animationend",e,!1)},!1):t.classList.remove("is-open")}},{key:"scrollBehaviour",value:function(t){if(this.config.disableScroll){var e=document.querySelector("body");switch(t){case"enable":Object.assign(e.style,{overflow:"initial",height:"initial"});break;case"disable":Object.assign(e.style,{overflow:"hidden",height:"100vh"})}}}},{key:"addEventListeners",value:function(){this.modal.addEventListener("touchstart",this.onClick),this.modal.addEventListener("click",this.onClick),document.addEventListener("keydown",this.onKeydown)}},{key:"removeEventListeners",value:function(){this.modal.removeEventListener("touchstart",this.onClick),this.modal.removeEventListener("click",this.onClick),document.removeEventListener("keydown",this.onKeydown)}},{key:"onClick",value:function(t){t.target.hasAttribute(this.config.closeTrigger)&&(this.closeModal(),t.preventDefault())}},{key:"onKeydown",value:function(t){27===t.keyCode&&this.closeModal(t),9===t.keyCode&&this.maintainFocus(t)}},{key:"getFocusableNodes",value:function(){var t=this.modal.querySelectorAll(_);return Object.keys(t).map(function(e){return t[e]})}},{key:"setFocusToFirstNode",value:function(){if(!this.config.disableFocus){var t=this.getFocusableNodes();t.length&&t[0].focus()}}},{key:"maintainFocus",value:function(t){var e=this.getFocusableNodes();if(this.modal.contains(document.activeElement)){var n=e.indexOf(document.activeElement);t.shiftKey&&0===n&&(e[e.length-1].focus(),t.preventDefault()),t.shiftKey||n!==e.length-1||(e[0].focus(),t.preventDefault())}else e[0].focus()}}]),t}(),q=null,F=function(t){if(!document.getElementById(t))return console.warn("MicroModal v0.3.1: ❗Seems like you have missed %c'"+t+"'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","ID somewhere in your code. Refer example below to resolve it."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<div class="modal" id="'+t+'"></div>'),!1},W=function(t,e){if(function(t){if(t.length<=0)console.warn("MicroModal v0.3.1: ❗Please specify at least one %c'micromodal-trigger'","background-color: #f8f9fa;color: #50596c;font-weight: bold;","data attribute."),console.warn("%cExample:","background-color: #f8f9fa;color: #50596c;font-weight: bold;",'<a href="#" data-micromodal-trigger="my-modal"></a>')}(t),!e)return!0;for(var n in e)F(n);return!0},{init:function(t){var e=Object.assign({},{openTrigger:"data-micromodal-trigger"},t),n=[].concat(Z(document.querySelectorAll("["+e.openTrigger+"]"))),i=function(t,e){var n=[];return t.forEach(function(t){var i=t.attributes[e].value;void 0===n[i]&&(n[i]=[]),n[i].push(t)}),n}(n,e.openTrigger);if(!0!==e.debugMode||!1!==W(n,i))for(var o in i){var r=i[o];e.targetModal=o,e.triggers=[].concat(Z(r)),new R(e)}},show:function(t,e){var n=e||{};n.targetModal=t,!0===n.debugMode&&!1===F(t)||(q=new R(n)).showModal()},close:function(){q.closeModal()}}),et=n(1),nt=n.n(et);function it(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ot(){return(ot=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}).apply(this,arguments)}function rt(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Array.from||(Array.from=(K=Object.prototype.toString,Y=function(t){return"function"==typeof t||"[object Function]"===K.call(t)},X=Math.pow(2,53)-1,V=function(t){var e=function(t){var e=Number(t);return isNaN(e)?0:0!==e&&isFinite(e)?(e>0?1:-1)*Math.floor(Math.abs(e)):e}(t);return Math.min(Math.max(e,0),X)},function(t){var e=Object(t);if(null==t)throw new TypeError("Array.from requires an array-like object - not null or undefined");var n,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!Y(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(n=arguments[2])}for(var o,r=V(e.length),a=Y(this)?Object(new this(r)):new Array(r),s=0;s<r;)o=e[s],a[s]=i?void 0===n?i(o,s):i.call(n,o,s):o,s+=1;return a.length=r,a})),function(t,e){var n=(t.body||t.documentElement).style,i="",o="";""==n.WebkitAnimation&&(i="-webkit-"),""==n.MozAnimation&&(i="-moz-"),""==n.OAnimation&&(i="-o-"),""==n.WebkitTransition&&(o="-webkit-"),""==n.MozTransition&&(o="-moz-"),""==n.OTransition&&(o="-o-"),Object.defineProperty(Object.prototype,"onCSSAnimationEnd",{value:function(t){var e=function e(n){t(),n.target.removeEventListener(n.type,e)};return this.addEventListener("webkitAnimationEnd",e),this.addEventListener("mozAnimationEnd",e),this.addEventListener("oAnimationEnd",e),this.addEventListener("oanimationend",e),this.addEventListener("animationend",e),(""!=i||"animation"in n)&&"0s"!=getComputedStyle(this)[i+"animation-duration"]||t(),this},enumerable:!1,writable:!0}),Object.defineProperty(Object.prototype,"onCSSTransitionEnd",{value:function(t){var e=function e(n){t(),n.target.removeEventListener(n.type,e)};return this.addEventListener("webkitTransitionEnd",e),this.addEventListener("mozTransitionEnd",e),this.addEventListener("oTransitionEnd",e),this.addEventListener("transitionend",e),this.addEventListener("transitionend",e),(""!=o||"transition"in n)&&"0s"!=getComputedStyle(this)[o+"transition-duration"]||t(),this},enumerable:!1,writable:!0})}(document,window);var at=function(){function t(e,n){var i=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var o="string"==typeof e?document.querySelector(e):e;if(null!=o){var r={headerClass:".js-badger-accordion-header",panelClass:".js-badger-accordion-panel",panelInnerClass:".js-badger-accordion-panel-inner",hiddenClass:"-ba-is-hidden",activeClass:"-ba-is-active",get hidenClass(){return this.hiddenClass},initializedClass:"badger-accordion--initialized",get initalisedClass(){return this.initializedClass},headerDataAttr:"data-badger-accordion-header-id",openMultiplePanels:!1,openHeadersOnLoad:[],headerOpenLabel:"",headerCloseLabel:"",roles:!0};this.settings=ot({},r,n),this.container=o;var a=Array.from(this.container.children),s=a.filter(function(t){return!t.classList.contains(i.settings.panelClass.substr(1))});this.headers=s.reduce(function(t,e){var n,o=Array.from(e.children).filter(function(t){return t.classList.contains(i.settings.headerClass.substr(1))});return t=(n=[]).concat.apply(n,rt(t).concat([o]))},[]),this.panels=a.filter(function(t){return t.classList.contains(i.settings.panelClass.substr(1))}),this.toggleEl=void 0!==this.settings.toggleEl?Array.from(this.container.querySelectorAll(this.settings.toggleEl)):this.headers,this.states=[].map.call(this.headers,function(){return{state:"closed"}}),this.ids=[].map.call(this.headers,function(){return{id:Math.floor(1e6*Math.random()+1)}}),this.toggling=!1,this.container?this.init():console.log("Something is wrong with you markup...")}}var e,n,i;return e=t,(n=[{key:"init",value:function(){this._setupAttributes(),this._initalState(),this.calculateAllPanelsHeight(),this._insertDataAttrs(),this._addListeners(),this._finishInitialization()}},{key:"_setRole",value:function(t,e){("boolean"==typeof this.settings.roles&&this.settings.roles||void 0!==this.settings.roles[t]&&!1!==this.settings.roles[t])&&e.setAttribute("role",t)}},{key:"_initalState",value:function(){var t=this.settings.openHeadersOnLoad;t.length&&this._openHeadersOnLoad(t),this._renderDom()}},{key:"_insertDataAttrs",value:function(){var t=this;this.headers.forEach(function(e,n){e.setAttribute(t.settings.headerDataAttr,n)})}},{key:"_finishInitialization",value:function(){this.container.classList.add(this.settings.initializedClass),this._setRole("presentation",this.container)}},{key:"_addListeners",value:function(){var t=this;this.headers.forEach(function(e,n){e.addEventListener("click",function(){t.handleClick(e,n)})})}},{key:"handleClick",value:function(t,e){var n=this.settings.headerClass.substr(1);t.classList.contains(n)&&!1===this.toggling&&(this.toggling=!0,this.setState(e),this._renderDom())}},{key:"setState",value:function(t){var e=this,n=this.getState();this.settings.openMultiplePanels||n.filter(function(e,n){n!=t&&(e.state="closed")}),n.filter(function(n,i){if(i==t){var o=e.toggleState(n.state);return n.state=o}})}},{key:"_renderDom",value:function(){var t=this;this.states.filter(function(e,n){"open"===e.state&&t.open(n,!1)}),this.states.filter(function(e,n){"closed"===e.state&&t.close(n,!1)})}},{key:"open",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.setState(t),this.togglePanel("open",t)}},{key:"close",value:function(t){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.setState(t),this.togglePanel("closed",t)}},{key:"openAll",value:function(){var t=this;this.headers.forEach(function(e,n){t.togglePanel("open",n)})}},{key:"closeAll",value:function(){var t=this;this.headers.forEach(function(e,n){t.togglePanel("closed",n)})}},{key:"togglePanel",value:function(t,e){var n=this;if(void 0!==t&&void 0!==e)if("closed"===t){var i=this.headers[e],o=this.panels[e];o.classList.add(this.settings.hiddenClass),o.classList.remove(this.settings.activeClass),i.classList.remove(this.settings.activeClass),i.setAttribute("aria-expanded",!1),o.onCSSTransitionEnd(function(){return n.toggling=!1})}else if("open"===t){var r=this.headers[e],a=this.panels[e];a.classList.remove(this.settings.hiddenClass),a.classList.add(this.settings.activeClass),r.classList.add(this.settings.activeClass),r.setAttribute("aria-expanded",!0),a.onCSSTransitionEnd(function(){return n.toggling=!1})}}},{key:"getState",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.length&&Array.isArray(e)?e.map(function(e){return t.states[e]}):this.states}},{key:"toggleState",value:function(t){if(void 0!==t)return"closed"===t?"open":"closed"}},{key:"_openHeadersOnLoad",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e.length&&Array.isArray(e)&&e.filter(function(t){return null!=t}).forEach(function(e){t.setState(e)})}},{key:"_setupAttributes",value:function(){this._setupHeaders(),this._setupPanels(),this._insertDataAttrs()}},{key:"_setPanelHeight",value:function(){this.calculateAllPanelsHeight()}},{key:"calculatePanelHeight",value:function(t){var e=t.querySelector(this.settings.panelInnerClass).offsetHeight;return t.style.maxHeight="".concat(e,"px")}},{key:"calculateAllPanelsHeight",value:function(){var t=this;this.panels.forEach(function(e){t.calculatePanelHeight(e)})}},{key:"_setupHeaders",value:function(){var t=this;this.headers.forEach(function(e,n){e.setAttribute("id","badger-accordion-header-".concat(t.ids[n].id)),e.setAttribute("aria-controls","badger-accordion-panel-".concat(t.ids[n].id))})}},{key:"_setupPanels",value:function(){var t=this;this.panels.forEach(function(e,n){e.setAttribute("id","badger-accordion-panel-".concat(t.ids[n].id)),e.setAttribute("aria-labelledby","badger-accordion-header-".concat(t.ids[n].id)),!0!==t.settings.roles&&!1===t.settings.roles.region||t._setRole("region",e)})}}])&&it(e.prototype,n),i&&it(e,i),t}();n(5),new at(document.querySelector(".js-badger-accordion"));if(document.querySelector(".rellax"))new nt.a(".rellax",{speed:-2,center:!1,round:!0,vertical:!0});if(document.querySelector(".doc-slider"))Q({container:".doc-slider",items:4,gutter:40,controls:!0,controlsContainer:".doc-slider__controls",nav:!1,responsive:{1280:{items:4,controls:!0},980:{items:3,controls:!0},763:{items:2},480:{items:1},0:{items:1}}});if(document.querySelector(".slider"))Q({navContainer:".slider-controls",navAsThumbnails:!0,controls:!1});var st=$()(".offside-menu",{slidingElementsSelector:".offside__container",buttonsSelector:".offside__button, .offside__close",beforeOpen:function(){document.body.classList.add("offside-js--interact")},afterOpen:function(){document.body.classList.add("overflow-y")},beforeClose:function(){},afterClose:function(){document.body.classList.remove("offside-js--interact"),document.body.classList.remove("overflow-y")}});document.querySelector(".page-overlay").addEventListener("click",st.closeAll),window.onload=function(){for(var t=document.querySelectorAll(".tabs__link"),e=document.querySelectorAll(".tabs__item"),n=0;n<t.length;n++)t[n].addEventListener("click",function(n){n.preventDefault();for(var i=this.hash.replace("#",""),o=0;o<e.length;o++){var r=e[o];r.classList.remove("is-visible"),t[o].classList.remove("is-active"),r.id===i&&r.classList.add("is-visible")}this.classList.add("is-active")})},tt.init()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29mZnNpZGUtanMvZGlzdC9vZmZzaWRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWxsYXgvcmVsbGF4LmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcImpRdWVyeVwiIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9qcy9jb21wb25lbnRzL2RvY3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3JhZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvY2FmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9leHRlbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2NoZWNrU3RvcmFnZVZhbHVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9zZXRMb2NhbFN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2dldEJvZHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2RvY0VsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3NldEZha2VCb2R5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9yZXNldEZha2VCb2R5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9hZGRDU1NSdWxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9nZXRDc3NSdWxlc0xlbmd0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvZm9yRWFjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvY2xhc3NMaXN0U3VwcG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvaGFzQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2FkZENsYXNzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9yZW1vdmVDbGFzcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvaGFzQXR0ci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvZ2V0QXR0ci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvaXNOb2RlTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvc2V0QXR0cnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3JlbW92ZUF0dHJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9hcnJheUZyb21Ob2RlTGlzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvaGlkZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3Nob3dFbGVtZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9pc1Zpc2libGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3doaWNoUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2dldEVuZFByb3BlcnR5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9wYXNzaXZlT3B0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9hZGRFdmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3JlbW92ZUV2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvdGlueS1zbGlkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL21pY3JvbW9kYWwvZGlzdC9taWNyb21vZGFsLmVzLmpzIiwid2VicGFjazovLy8uLi9zcmMvanMvYXJyYXktZnJvbS1wb2x5ZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvY2FsYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvcGVyY2VudGFnZUxheW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvbWVkaWFxdWVyeVN1cHBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL2hhczNEVHJhbnNmb3Jtcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvZ2V0U2xpZGVJZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvY3JlYXRlU3R5bGVTaGVldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL2hlbHBlcnMvanNUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3JlbW92ZUNTU1J1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Rpbnktc2xpZGVyL3NyYy9oZWxwZXJzL3RvRGVncmVlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90aW55LXNsaWRlci9zcmMvaGVscGVycy9nZXRUb3VjaERpcmVjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi4vc3JjL2pzL3RyYW5zaXRpb24tZW5kLmpzIiwid2VicGFjazovLy8uLi9zcmMvanMvYmFkZ2VyLWFjY29yZGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2pzL2J1bmRsZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIndpbmRvdyIsImRvY3VtZW50IiwidW5kZWZpbmVkIiwib2Zmc2lkZSIsImluaXRPZmZzaWRlRmFjdG9yeSIsIm9wdGlvbnMiLCJmYWN0b3J5U2V0dGluZ3MiLCJjbG9zZUFsbCIsIm9mZnNpZGVJZCIsIm9wZW5PZmZzaWRlc0lkIiwibGVuZ3RoIiwiaXNOYU4iLCJmb3JFYWNoIiwiaW5zdGFudGlhdGVkT2Zmc2lkZXMiLCJjbG9zZSIsInR1cm5PbkNzc1RyYW5zaXRpb25zIiwiYWRkQ2xhc3MiLCJib2R5IiwidHJhbnNpdGlvbnNDbGFzcyIsImVsIiwiY2xhc3NMaXN0IiwiYWRkIiwiY2xhc3NOYW1lIiwidHJpbSIsInJlbW92ZUNsYXNzIiwicmVtb3ZlIiwicmVwbGFjZSIsIlJlZ0V4cCIsInNwbGl0Iiwiam9pbiIsImFkZEV2ZW50IiwiZXZlbnROYW1lIiwiZXZlbnRIYW5kbGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImdldERvbUVsZW1lbnRzIiwiZWxzIiwiSFRNTEVsZW1lbnQiLCJBcnJheSIsImlzQXJyYXkiLCJhcHBseSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpc0luQXJyYXkiLCJhcnIiLCJpbmRleCIsImluZGV4T2YiLCJzbGlkaW5nRWxlbWVudHNTZWxlY3RvciIsImRpc2FibGVDc3MzZFRyYW5zZm9ybXMiLCJkZWJ1ZyIsImdsb2JhbENsYXNzIiwiaW5pdENsYXNzIiwic2xpZGluZ0VsZW1lbnRzQ2xhc3MiLCJmaXJzdEludGVyYWN0aW9uIiwiaGFzM2QiLCJnZXRDb21wdXRlZFN0eWxlIiwiY3JlYXRlRWxlbWVudCIsInRyYW5zZm9ybXMiLCJ3ZWJraXRUcmFuc2Zvcm0iLCJPVHJhbnNmb3JtIiwibXNUcmFuc2Zvcm0iLCJNb3pUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJpbnNlcnRCZWZvcmUiLCJzdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJyZW1vdmVDaGlsZCIsIl9oYXMzZCIsInNsaWRpbmdFbGVtZW50cyIsIk9mZnNpZGVJbnN0YW5jZSIsImRvbUVsIiwib2Zmc2lkZVNldHRpbmdzIiwiYnV0dG9uc1NlbGVjdG9yIiwic2xpZGluZ1NpZGUiLCJpbml0IiwiYmVmb3JlT3BlbiIsImFmdGVyT3BlbiIsImJlZm9yZUNsb3NlIiwiYWZ0ZXJDbG9zZSIsImJlZm9yZURlc3Ryb3kiLCJhZnRlckRlc3Ryb3kiLCJvZmZzaWRlQnV0dG9ucyIsIm9mZnNpZGVTaWRlQ2xhc3MiLCJvZmZzaWRlQ2xhc3MiLCJvZmZzaWRlQm9keU9wZW5DbGFzcyIsIm9mZnNpZGVCb2R5T3BlblNpZGVDbGFzcyIsImlkIiwiX3RvZ2dsZU9mZnNpZGUiLCJfb3Blbk9mZnNpZGUiLCJfY2xvc2VPZmZzaWRlIiwicHVzaCIsInNwbGljZSIsIl9vbkJ1dHRvbkNsaWNrIiwiZSIsInByZXZlbnREZWZhdWx0IiwiX2NoZWNrRWxlbWVudHMiLCJjb25zb2xlIiwiZXJyb3IiLCJ0aGlzIiwidG9nZ2xlIiwib3BlbiIsImRlc3Ryb3kiLCJpdGVtIiwiZG9jdW1lbnRFbGVtZW50IiwiY2xvc2VPcGVuT2Zmc2lkZSIsImdldE9mZnNpZGVJbnN0YW5jZSIsIm9mZnNpZGVJbnN0YW5jZSIsImNyZWF0ZU9mZnNpZGVJbnN0YW5jZSIsInNpbmdsZXRvbiIsImdldEluc3RhbmNlIiwiZmFjdG9yeSIsImRlZmluZSIsIl9fV0VCUEFDS19BTURfREVGSU5FX1JFU1VMVF9fIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfRkFDVE9SWV9fIiwiUmVsbGF4Iiwic2VsZiIsInBvc1kiLCJzY3JlZW5ZIiwicG9zWCIsInNjcmVlblgiLCJibG9ja3MiLCJwYXVzZSIsImxvb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJtc1JlcXVlc3RBbmltYXRpb25GcmFtZSIsIm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYWxsYmFjayIsInNldFRpbWVvdXQiLCJsb29wSWQiLCJjbGVhckxvb3AiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJUaW1lb3V0IiwidHJhbnNmb3JtUHJvcCIsInRlc3RFbCIsInZlbmRvcnMiLCJ2ZW5kb3IiLCJzcGVlZCIsImNlbnRlciIsIndyYXBwZXIiLCJyZWxhdGl2ZVRvV3JhcHBlciIsInJvdW5kIiwidmVydGljYWwiLCJob3Jpem9udGFsIiwia2V5cyIsImVsZW1lbnRzIiwiRXJyb3IiLCJlbGVtcyIsIm5vZGVUeXBlIiwicXVlcnlTZWxlY3RvciIsImNzc1RleHQiLCJpbm5lckhlaWdodCIsImlubmVyV2lkdGgiLCJzZXRQb3NpdGlvbiIsImJsb2NrIiwiY3JlYXRlQmxvY2siLCJjYWNoZUJsb2NrcyIsImFuaW1hdGUiLCJkYXRhUGVyY2VudGFnZSIsImdldEF0dHJpYnV0ZSIsImRhdGFTcGVlZCIsImRhdGFaaW5kZXgiLCJ3cmFwcGVyUG9zWSIsInNjcm9sbFRvcCIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsUG9zWSIsIm9mZnNldFRvcCIsInBhZ2VYT2Zmc2V0Iiwic2Nyb2xsTGVmdCIsImJsb2NrVG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwiYmxvY2tIZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJzY3JvbGxIZWlnaHQiLCJibG9ja0xlZnQiLCJsZWZ0IiwiYmxvY2tXaWR0aCIsImNsaWVudFdpZHRoIiwib2Zmc2V0V2lkdGgiLCJzY3JvbGxXaWR0aCIsInBlcmNlbnRhZ2VZIiwicGVyY2VudGFnZVgiLCJiYXNlcyIsInVwZGF0ZVBvc2l0aW9uIiwidHJpbW1lZFN0eWxlIiwic2xpY2UiLCJkZWxpbWl0ZXIiLCJiYXNlWCIsIngiLCJiYXNlWSIsInkiLCJoZWlnaHQiLCJ3aWR0aCIsInppbmRleCIsIm9sZFkiLCJvbGRYIiwicGFyZW50Tm9kZSIsInJlc3VsdCIsInZhbHVlWCIsInZhbHVlWSIsIk1hdGgiLCJwb3NpdGlvbnMiLCJwb3NpdGlvblkiLCJwb3NpdGlvblgiLCJ0cmFuc2xhdGUiLCJ1cGRhdGUiLCJyZWZyZXNoIiwiX19XRUJQQUNLX0FNRF9ERUZJTkVfQVJSQVlfXyIsImpRdWVyeSIsImciLCJGdW5jdGlvbiIsIl90eXBlb2YiLCJkb2NNb2RhbEJ0bnMiLCJtb2RhbENvbnRlbnQiLCJwYXRpZW50Rm9ybSIsImdldEVsZW1lbnRCeUlkIiwidmFsaWROYW1lIiwidmFsaWRQaG9uZSIsInRlc3QiLCJwaG9uZSIsImxvZyIsInN1Ym1pdCIsImJ0biIsImRvYyIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwianNvbiIsImRhdGEiLCJkb2NPdXRwdXQiLCJlbGVtIiwiaW5uZXJIVE1MIiwiY29uY2F0IiwiaW1nU3JjIiwiZGlzcGxheURvYyIsImdldERvYyIsImRhdGFzZXQiLCJ3aW4iLCJyYWYiLCJjYiIsImNhZiIsImV4dGVuZCIsIm9iaiIsImNvcHkiLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJjaGVja1N0b3JhZ2VWYWx1ZSIsIkpTT04iLCJwYXJzZSIsInNldExvY2FsU3RvcmFnZSIsInN0b3JhZ2UiLCJhY2Nlc3MiLCJzZXRJdGVtIiwiZ2V0Qm9keSIsImZha2UiLCJkb2NFbGVtZW50Iiwic2V0RmFrZUJvZHkiLCJkb2NPdmVyZmxvdyIsIm92ZXJmbG93IiwiYmFja2dyb3VuZCIsImFwcGVuZENoaWxkIiwicmVzZXRGYWtlQm9keSIsImFkZENTU1J1bGUiLCJzaGVldCIsInNlbGVjdG9yIiwicnVsZXMiLCJpbnNlcnRSdWxlIiwiYWRkUnVsZSIsImdldENzc1J1bGVzTGVuZ3RoIiwiY3NzUnVsZXMiLCJzY29wZSIsImNsYXNzTGlzdFN1cHBvcnQiLCJoYXNDbGFzcyIsInN0ciIsImNvbnRhaW5zIiwiaGFzQXR0ciIsImF0dHIiLCJoYXNBdHRyaWJ1dGUiLCJnZXRBdHRyIiwiaXNOb2RlTGlzdCIsInNldEF0dHJzIiwiYXR0cnMiLCJ0b1N0cmluZyIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJzIiwiYXR0ckxlbmd0aCIsImoiLCJyZW1vdmVBdHRyaWJ1dGUiLCJhcnJheUZyb21Ob2RlTGlzdCIsIm5sIiwiaGlkZUVsZW1lbnQiLCJmb3JjZUhpZGUiLCJkaXNwbGF5Iiwic2hvd0VsZW1lbnQiLCJpc1Zpc2libGUiLCJ3aGljaFByb3BlcnR5IiwicHJvcHMiLCJQcm9wcyIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic3Vic3RyIiwicHJlZml4IiwicHJvcCIsImdldEVuZFByb3BlcnR5IiwicHJvcEluIiwicHJvcE91dCIsImVuZFByb3AiLCJ0b0xvd2VyQ2FzZSIsInN1cHBvcnRzUGFzc2l2ZSIsIm9wdHMiLCJwYXNzaXZlT3B0aW9uIiwicGFzc2l2ZSIsImFkZEV2ZW50cyIsInByZXZlbnRTY3JvbGxpbmciLCJvcHRpb24iLCJyZW1vdmVFdmVudHMiLCJFdmVudHMiLCJ0b3BpY3MiLCJvbiIsImZuIiwib2ZmIiwiZW1pdCIsInR5cGUiLCJFbGVtZW50IiwidG9TdHIiLCJpc0NhbGxhYmxlIiwibWF4U2FmZUludGVnZXIiLCJ0b0xlbmd0aCIsInRucyIsImNvbnRhaW5lciIsImF4aXMiLCJpdGVtcyIsImd1dHRlciIsImVkZ2VQYWRkaW5nIiwiZml4ZWRXaWR0aCIsImF1dG9XaWR0aCIsInZpZXdwb3J0TWF4Iiwic2xpZGVCeSIsImNvbnRyb2xzIiwiY29udHJvbHNQb3NpdGlvbiIsImNvbnRyb2xzVGV4dCIsImNvbnRyb2xzQ29udGFpbmVyIiwicHJldkJ1dHRvbiIsIm5leHRCdXR0b24iLCJuYXYiLCJuYXZQb3NpdGlvbiIsIm5hdkNvbnRhaW5lciIsIm5hdkFzVGh1bWJuYWlscyIsImFycm93S2V5cyIsImF1dG9wbGF5IiwiYXV0b3BsYXlQb3NpdGlvbiIsImF1dG9wbGF5VGltZW91dCIsImF1dG9wbGF5RGlyZWN0aW9uIiwiYXV0b3BsYXlUZXh0IiwiYXV0b3BsYXlIb3ZlclBhdXNlIiwiYXV0b3BsYXlCdXR0b24iLCJhdXRvcGxheUJ1dHRvbk91dHB1dCIsImF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHkiLCJhbmltYXRlSW4iLCJhbmltYXRlT3V0IiwiYW5pbWF0ZU5vcm1hbCIsImFuaW1hdGVEZWxheSIsInJld2luZCIsImF1dG9IZWlnaHQiLCJyZXNwb25zaXZlIiwibGF6eWxvYWQiLCJsYXp5bG9hZFNlbGVjdG9yIiwidG91Y2giLCJtb3VzZURyYWciLCJzd2lwZUFuZ2xlIiwibmVzdGVkIiwicHJldmVudEFjdGlvbldoZW5SdW5uaW5nIiwicHJldmVudFNjcm9sbE9uVG91Y2giLCJmcmVlemFibGUiLCJvbkluaXQiLCJ1c2VMb2NhbFN0b3JhZ2UiLCJLRVlTIiwiRU5URVIiLCJTUEFDRSIsIkxFRlQiLCJSSUdIVCIsInRuc1N0b3JhZ2UiLCJsb2NhbFN0b3JhZ2VBY2Nlc3MiLCJicm93c2VySW5mbyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInVpZCIsIkRhdGUiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwicmVtb3ZlSXRlbSIsIkNBTEMiLCJkaXYiLCJ2YWwiLCJ2YWxzIiwiY2FsYyIsIlBFUkNFTlRBR0VMQVlPVVQiLCJzdXBwb3J0ZWQiLCJvdXRlciIsImFicyIsImNoaWxkcmVuIiwiY291bnQiLCJwZXJjZW50YWdlTGF5b3V0IiwiQ1NTTVEiLCJwb3NpdGlvbiIsInJ1bGUiLCJzdHlsZVNoZWV0IiwiY3JlYXRlVGV4dE5vZGUiLCJjdXJyZW50U3R5bGUiLCJtZWRpYXF1ZXJ5U3VwcG9ydCIsIlRSQU5TRk9STSIsIkhBUzNEVFJBTlNGT1JNUyIsInRmIiwiY3NzVEYiLCJoYXMzRFRyYW5zZm9ybXMiLCJUUkFOU0lUSU9ORFVSQVRJT04iLCJUUkFOU0lUSU9OREVMQVkiLCJBTklNQVRJT05EVVJBVElPTiIsIkFOSU1BVElPTkRFTEFZIiwiVFJBTlNJVElPTkVORCIsIkFOSU1BVElPTkVORCIsInN1cHBvcnRDb25zb2xlV2FybiIsIndhcm4iLCJ0bnNMaXN0Iiwib3B0aW9uc0VsZW1lbnRzIiwibm9kZU5hbWUiLCJjYXJvdXNlbCIsInJlc3BvbnNpdmVUZW0iLCJ1cGRhdGVPcHRpb25zIiwibWlkZGxlV3JhcHBlciIsImJyZWFrcG9pbnRab25lIiwib3V0ZXJXcmFwcGVyIiwiaW5uZXJXcmFwcGVyIiwiY29udGFpbmVyUGFyZW50IiwiY29udGFpbmVySFRNTCIsIm91dGVySFRNTCIsInNsaWRlSXRlbXMiLCJzbGlkZUNvdW50Iiwid2luZG93V2lkdGgiLCJnZXRXaW5kb3dXaWR0aCIsImlzT24iLCJzZXRCcmVha3BvaW50Wm9uZSIsInNsaWRlUG9zaXRpb25zIiwiaW1nc0NvbXBsZXRlIiwibGl2ZXJlZ2lvbkN1cnJlbnQiLCJpdGVtc01heCIsIm1lZGlhIiwiZ2V0T3B0aW9uIiwidmlld3BvcnQiLCJnZXRWaWV3cG9ydFdpZHRoIiwiZmxvb3IiLCJmaXhlZFdpZHRoVmlld3BvcnRXaWR0aCIsInNsaWRlSXRlbXNPdXQiLCJjbG9uZUNvdW50IiwiYnAiLCJ0ZW0iLCJjZWlsIiwibWluIiwibWF4IiwiZ2V0SXRlbXNNYXgiLCJoYXNPcHRpb24iLCJzbGlkZUNvdW50TmV3IiwiaGFzUmlnaHREZWFkWm9uZSIsInJpZ2h0Qm91bmRhcnkiLCJnZXRSaWdodEJvdW5kYXJ5IiwidXBkYXRlSW5kZXhCZWZvcmVUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm1BdHRyIiwidHJhbnNmb3JtUHJlZml4IiwidHJhbnNmb3JtUG9zdGZpeCIsImdldEluZGV4TWF4IiwiZ2V0U3RhcnRJbmRleCIsImluZGV4Q2FjaGVkIiwiaW5kZXhNaW4iLCJnZXRDdXJyZW50U2xpZGUiLCJpbmRleE1heCIsIm1vdmVEaXJlY3Rpb25FeHBlY3RlZCIsInJ1bm5pbmciLCJldmVudHMiLCJuZXdDb250YWluZXJDbGFzc2VzIiwic2xpZGVJZCIsInRuc0lkIiwiZGlzYWJsZSIsImRpc2FibGVkIiwiZnJlZXplIiwiZ2V0RnJlZXplIiwiZnJvemVuIiwiY29udHJvbHNFdmVudHMiLCJjbGljayIsIm9uQ29udHJvbHNDbGljayIsImtleWRvd24iLCJnZXRFdmVudCIsImtleUluZGV4Iiwia2V5Q29kZSIsIm5hdkV2ZW50cyIsIm9uVHJhbnNpdGlvbkVuZCIsImdldFRhcmdldCIsIm5hdkluZGV4IiwibmF2Q2xpY2tlZCIsIk51bWJlciIsInRhcmdldEluZGV4QmFzZSIsInBhZ2VzIiwidGFyZ2V0SW5kZXgiLCJnb1RvIiwibmF2Q3VycmVudEluZGV4IiwiYW5pbWF0aW5nIiwic3RvcEF1dG9wbGF5IiwiY3VyRWxlbWVudCIsImFjdGl2ZUVsZW1lbnQiLCJzZXRGb2N1cyIsIm5hdkl0ZW1zIiwiaG92ZXJFdmVudHMiLCJtb3VzZW92ZXIiLCJzdG9wQXV0b3BsYXlUaW1lciIsImF1dG9wbGF5SG92ZXJQYXVzZWQiLCJtb3VzZW91dCIsInNldEF1dG9wbGF5VGltZXIiLCJ2aXNpYmlsaXR5RXZlbnQiLCJ2aXNpYmlsaXR5Y2hhbmdlIiwiaGlkZGVuIiwiYXV0b3BsYXlWaXNpYmlsaXR5UGF1c2VkIiwiZG9jbWVudEtleWRvd25FdmVudCIsInRvdWNoRXZlbnRzIiwidG91Y2hzdGFydCIsIm9uUGFuU3RhcnQiLCJ0b3VjaG1vdmUiLCJvblBhbk1vdmUiLCJ0b3VjaGVuZCIsIm9uUGFuRW5kIiwidG91Y2hjYW5jZWwiLCJkcmFnRXZlbnRzIiwibW91c2Vkb3duIiwibW91c2Vtb3ZlIiwibW91c2V1cCIsIm1vdXNlbGVhdmUiLCJoYXNDb250cm9scyIsImhhc05hdiIsImhhc0F1dG9wbGF5IiwiaGFzVG91Y2giLCJoYXNNb3VzZURyYWciLCJzbGlkZUFjdGl2ZUNsYXNzIiwiaW1nQ29tcGxldGVDbGFzcyIsImltZ0V2ZW50cyIsImxvYWQiLCJpbWdMb2FkZWQiLCJpbWciLCJpbWdDb21wbGV0ZWQiLCJwcmV2ZW50U2Nyb2xsIiwicHJldklzQnV0dG9uIiwibmV4dElzQnV0dG9uIiwiY29udHJvbHNDb250YWluZXJIVE1MIiwicHJldkJ1dHRvbkhUTUwiLCJuZXh0QnV0dG9uSFRNTCIsIm5hdkNvbnRhaW5lckhUTUwiLCJnZXRQYWdlcyIsInBhZ2VzQ2FjaGVkIiwiZ2V0Q3VycmVudE5hdkluZGV4IiwibmF2Q3VycmVudEluZGV4Q2FjaGVkIiwibmF2QWN0aXZlQ2xhc3MiLCJuYXZTdHIiLCJuYXZTdHJDdXJyZW50IiwiYXV0b3BsYXlUaW1lciIsImF1dG9wbGF5VXNlclBhdXNlZCIsImF1dG9wbGF5QnV0dG9uSFRNTCIsImF1dG9wbGF5SHRtbFN0cmluZ3MiLCJ0cmFuc2xhdGVJbml0IiwicmFmSW5kZXgiLCJpbml0UG9zaXRpb24iLCJsYXN0UG9zaXRpb24iLCJwYW5TdGFydCIsImdldERpc3QiLCJhIiwiYiIsInJlc2V0VmFyaWJsZXNXaGVuRGlzYWJsZSIsIndwIiwiYXJpYS1oaWRkZW4iLCJ0YWJpbmRleCIsImZyYWdtZW50QmVmb3JlIiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsImZyYWdtZW50QWZ0ZXIiLCJudW0iLCJjbG9uZUZpcnN0IiwiY2xvbmVOb2RlIiwiZmlyc3RDaGlsZCIsImNsb25lTGFzdCIsImluaXRTdHJ1Y3R1cmUiLCJmb250U2l6ZSIsInNsaWRlIiwibWFyZ2luTGVmdCIsImdldFNsaWRlTWFyZ2luTGVmdCIsImdldFRyYW5zaXRpb25EdXJhdGlvblN0eWxlIiwiZ2V0SW5uZXJXcmFwcGVyU3R5bGVzIiwiZ2V0Q29udGFpbmVyV2lkdGgiLCJnZXRTbGlkZVdpZHRoU3R5bGUiLCJnZXRTbGlkZUd1dHRlclN0eWxlIiwiZ2V0QW5pbWF0aW9uRHVyYXRpb25TdHlsZSIsInVwZGF0ZV9jYXJvdXNlbF90cmFuc2l0aW9uX2R1cmF0aW9uIiwicGFyc2VJbnQiLCJtaWRkbGVXcmFwcGVyU3RyIiwiaW5uZXJXcmFwcGVyU3RyIiwiY29udGFpbmVyU3RyIiwic2xpZGVTdHIiLCJpdGVtc0JQIiwiZml4ZWRXaWR0aEJQIiwic3BlZWRCUCIsImVkZ2VQYWRkaW5nQlAiLCJhdXRvSGVpZ2h0QlAiLCJndXR0ZXJCUCIsImluaXRTaGVldCIsImluaXRTbGlkZXJUcmFuc2Zvcm0iLCJ1cGRhdGVJbmRleCIsImxlZnRFZGdlIiwicmlnaHRFZGdlIiwidHJhbnNmb3JtQ29yZSIsImVsZW1lbnQiLCJwb3N0Zml4IiwidG8iLCJkdXJhdGlvbiIsInRpY2siLCJ1bml0IiwiZnJvbSIsInBvc2l0aW9uVGljayIsInJlc2V0RHVyYXRpb24iLCJkb0NvbnRhaW5lclRyYW5zZm9ybSIsImdldENvbnRhaW5lclRyYW5zZm9ybVZhbHVlIiwibW92ZUVsZW1lbnQiLCJ1cGRhdGVDb250ZW50V3JhcHBlckhlaWdodCIsImV2ZSIsImFuaW1hdGVTbGlkZSIsInZlcnNpb24iLCJnZXRJbmZvIiwiaW5mbyIsInBsYXkiLCJzdGFydEF1dG9wbGF5IiwidXBkYXRlU2xpZGVySGVpZ2h0IiwidXBkYXRlSW5uZXJXcmFwcGVySGVpZ2h0Iiwib3duZXJOb2RlIiwicmVzaXplIiwib25SZXNpemUiLCJ0b2dnbGVBdXRvcGxheSIsImNsZWFySW50ZXJ2YWwiLCJodG1sTGlzdCIsInByZXZFbCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJwYXJlbnRFbCIsIm5leHRFbGVtZW50U2libGluZyIsImZpcnN0RWxlbWVudENoaWxkIiwicmVidWlsZCIsImNvbmRpdGlvbiIsImluZCIsImdldEFic0luZGV4IiwiYWJzSW5kZXgiLCJnZXRJbnNlcnRQb3NpdGlvbiIsInBvcyIsImdhcCIsImdldENsaWVudFdpZHRoIiwicmVjdCIsInJpZ2h0Iiwid3ciLCJlZGdlUGFkZGluZ1RlbSIsImd1dHRlclRlbSIsImZpeGVkV2lkdGhUZW0iLCJzcGVlZFRlbSIsImd1dHRlclRlbVVuaXQiLCJpdGVtc1RlbSIsImRpdmlkZW5kIiwiZ2V0Q1NTUHJlZml4Iiwic3Vic3RyaW5nIiwiaW1ncyIsInNyYyIsImltZ3NMb2FkZWRDaGVjayIsImdldEltYWdlQXJyYXkiLCJpbml0U2xpZGVyVHJhbnNmb3JtU3R5bGVDaGVjayIsImRvQ29udGFpbmVyVHJhbnNmb3JtU2lsZW50IiwiaW5pdFRvb2xzIiwiaW5pdEV2ZW50cyIsInN0eWxlc0FwcGxpY2F0aW9uQ2hlY2siLCJ0b0ZpeGVkIiwiaW5pdFNsaWRlclRyYW5zZm9ybUNvcmUiLCJzZXRTbGlkZVBvc2l0aW9ucyIsInVwZGF0ZVNsaWRlU3RhdHVzIiwiaW5zZXJ0QWRqYWNlbnRIVE1MIiwiZ2V0TGl2ZVJlZ2lvblN0ciIsInR4dCIsImRhdGEtYWN0aW9uIiwiYXJpYS1sYWJlbCIsImRhdGEtbmF2IiwiYXJpYS1jb250cm9scyIsIm5hdkh0bWwiLCJoaWRkZW5TdHIiLCJ1cGRhdGVOYXZWaXNpYmlsaXR5IiwiZGF0YS1jb250cm9scyIsImlzQnV0dG9uIiwidXBkYXRlQ29udHJvbHNTdGF0dXMiLCJkaXNhYmxlVUkiLCJyZXNpemVUYXNrcyIsImRvQXV0b0hlaWdodCIsImRvTGF6eUxvYWQiLCJkaXNhYmxlU2xpZGVyIiwiZnJlZXplU2xpZGVyIiwiYWRkaXRpb25hbFVwZGF0ZXMiLCJicENoYW5nZWQiLCJicmVha3BvaW50Wm9uZVRlbSIsIm5lZWRDb250YWluZXJUcmFuc2Zvcm0iLCJpbmRDaGFuZ2VkIiwiaXRlbXNDaGFuZ2VkIiwiZGlzYWJsZVRlbSIsImZyZWV6ZVRlbSIsImFycm93S2V5c1RlbSIsImNvbnRyb2xzVGVtIiwibmF2VGVtIiwidG91Y2hUZW0iLCJtb3VzZURyYWdUZW0iLCJhdXRvcGxheVRlbSIsImF1dG9wbGF5SG92ZXJQYXVzZVRlbSIsImF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHlUZW0iLCJpbmRleFRlbSIsImF1dG9IZWlnaHRUZW0iLCJjb250cm9sc1RleHRUZW0iLCJjZW50ZXJUZW0iLCJhdXRvcGxheVRleHRUZW0iLCJjbGFzc04iLCJlbmFibGVVSSIsImVuYWJsZVNsaWRlciIsIm1hcmdpbiIsInVuZnJlZXplU2xpZGVyIiwiaHRtbCIsImxlbiIsInVwZGF0ZUxpdmVSZWdpb24iLCJ1cGRhdGVHYWxsZXJ5U2xpZGVQb3NpdGlvbnMiLCJhdXRvaGVpZ2h0VGVtIiwiZGVsZXRlUnVsZSIsInJlbW92ZVJ1bGUiLCJyZW1vdmVDU1NSdWxlIiwidnAiLCJnZXRWaXNpYmxlU2xpZGVSYW5nZSIsInN0YXJ0IiwiZW5kIiwicmFuZ2VzdGFydCIsInJhbmdlZW5kIiwicGFyc2VGbG9hdCIsInBvaW50IiwiY2VsbCIsInN0b3BQcm9wYWdhdGlvbiIsInNyY3NldCIsIm5hdlByZXYiLCJuYXZDdXJyZW50IiwidXBkYXRlTmF2U3RhdHVzIiwiZ2V0TWF4U2xpZGVIZWlnaHQiLCJzbGlkZVN0YXJ0Iiwic2xpZGVSYW5nZSIsImhlaWdodHMiLCJtYXhIZWlnaHQiLCJhdHRyMiIsImJhc2UiLCJyYW5nZSIsImdldExvd2VyQ2FzZU5vZGVOYW1lIiwiaXNBcmlhRGlzYWJsZWQiLCJkaXNFbmFibGVFbGVtZW50IiwicHJldkRpc2FibGVkIiwibmV4dERpc2FibGVkIiwiZGlzYWJsZVByZXYiLCJkaXNhYmxlTmV4dCIsImdldENlbnRlckdhcCIsImRlbm9taW5hdG9yIiwibnVtYmVyIiwiY2xhc3NPdXQiLCJjbGFzc0luIiwiaXNPdXQiLCJyZW5kZXIiLCJzbGlkZXJNb3ZlZCIsInN0clRyYW5zIiwiZXZlbnQiLCJwcm9wZXJ0eU5hbWUiLCJpbmRleEdhcCIsImZhY3RvciIsImRpciIsInBhc3NFdmVudE9iamVjdCIsInRhcmdldEluIiwic2V0SW50ZXJ2YWwiLCJ1cGRhdGVBdXRvcGxheUJ1dHRvbiIsImFjdGlvbiIsImZvY3VzIiwiaXNUb3VjaEV2ZW50IiwiY2hhbmdlZFRvdWNoZXMiLCJzcmNFbGVtZW50IiwicHJldmVudERlZmF1bHRCZWhhdmlvciIsInJldHVyblZhbHVlIiwiZ2V0TW92ZURpcmVjdGlvbkV4cGVjdGVkIiwiYW5nbGUiLCJhdGFuMiIsIlBJIiwiZGlyZWN0aW9uIiwiJCIsImNsaWVudFgiLCJjbGllbnRZIiwicGFuVXBkYXRlIiwiZXJyIiwiZGlzdCIsInByZXZlbnRDbGljayIsImluZGV4TW92ZWQiLCJtb3ZlZCIsInJvdWdoIiwiZGlzcGxheUluZGV4IiwiY2xhc3NDYWxsQ2hlY2siLCJUeXBlRXJyb3IiLCJjcmVhdGVDbGFzcyIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwidG9Db25zdW1hYmxlQXJyYXkiLCJNaWNyb01vZGFsIiwidGFyZ2V0TW9kYWwiLCJ0cmlnZ2VycyIsIm9uU2hvdyIsIm9uQ2xvc2UiLCJvcGVuVHJpZ2dlciIsInUiLCJjbG9zZVRyaWdnZXIiLCJoIiwiZiIsImRpc2FibGVTY3JvbGwiLCJ2IiwiZGlzYWJsZUZvY3VzIiwiYXdhaXRDbG9zZUFuaW1hdGlvbiIsImsiLCJkZWJ1Z01vZGUiLCJ3IiwibW9kYWwiLCJjb25maWciLCJyZWdpc3RlclRyaWdnZXJzIiwib25DbGljayIsIm9uS2V5ZG93biIsInNob3dNb2RhbCIsInNldEZvY3VzVG9GaXJzdE5vZGUiLCJzY3JvbGxCZWhhdmlvdXIiLCJhZGRFdmVudExpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiYXNzaWduIiwiY2xvc2VNb2RhbCIsIm1haW50YWluRm9jdXMiLCJtYXAiLCJnZXRGb2N1c2FibGVOb2RlcyIsInNoaWZ0S2V5IiwiYXR0cmlidXRlcyIsInNob3ciLCJpc0Zpbml0ZSIsInRvSW50ZWdlciIsImFycmF5TGlrZSIsIlQiLCJtYXBGbiIsImtWYWx1ZSIsIkEiLCJwcmVmaXhBbmltYXRpb24iLCJwcmVmaXhUcmFuc2l0aW9uIiwicnVuT25jZSIsImRlZmF1bHRzIiwiaGVhZGVyQ2xhc3MiLCJwYW5lbENsYXNzIiwicGFuZWxJbm5lckNsYXNzIiwiaGlkZGVuQ2xhc3MiLCJhY3RpdmVDbGFzcyIsImluaXRpYWxpemVkQ2xhc3MiLCJoZWFkZXJEYXRhQXR0ciIsIm9wZW5NdWx0aXBsZVBhbmVscyIsIm9wZW5IZWFkZXJzT25Mb2FkIiwiaGVhZGVyT3BlbkxhYmVsIiwiaGVhZGVyQ2xvc2VMYWJlbCIsInJvbGVzIiwic2V0dGluZ3MiLCJfZXh0ZW5kcyIsImhlYWRlclBhcmVudCIsImZpbHRlciIsImhlYWRlciIsIl90aGlzMiIsImhlYWRlcnMiLCJyZWR1Y2UiLCJhY2MiLCJjaGlsZCIsIl9yZWYiLCJfdG9Db25zdW1hYmxlQXJyYXkiLCJwYW5lbHMiLCJwYW5lbCIsInRvZ2dsZUVsIiwic3RhdGVzIiwic3RhdGUiLCJpZHMiLCJ0b2dnbGluZyIsIl9zZXR1cEF0dHJpYnV0ZXMiLCJfaW5pdGFsU3RhdGUiLCJjYWxjdWxhdGVBbGxQYW5lbHNIZWlnaHQiLCJfaW5zZXJ0RGF0YUF0dHJzIiwiX2FkZExpc3RlbmVycyIsIl9maW5pc2hJbml0aWFsaXphdGlvbiIsInJvbGUiLCJoZWFkZXJzVG9PcGVuIiwiX29wZW5IZWFkZXJzT25Mb2FkIiwiX3JlbmRlckRvbSIsIl90aGlzMyIsIl9zZXRSb2xlIiwiX3RoaXMiLCJ0YXJnZXRIZWFkZXIiLCJoZWFkZXJJbmRleCIsInRhcmdldEhlYWRlckNsYXNzIiwic2V0U3RhdGUiLCJ0YXJnZXRIZWFkZXJJZCIsImdldFN0YXRlIiwibmV3U3RhdGUiLCJfdGhpczQiLCJ0b2dnbGVTdGF0ZSIsIl90aGlzNSIsInRvZ2dsZVBhbmVsIiwiX3RoaXM2IiwiX3RoaXM3IiwiYW5pbWF0aW9uQWN0aW9uIiwicGFuZWxUb0Nsb3NlIiwiX3RoaXM4IiwicGFuZWxUb09wZW4iLCJoZWFkZXJJZHMiLCJfdGhpczkiLCJjdXJyZW50U3RhdGUiLCJfdGhpczEwIiwiX3NldHVwSGVhZGVycyIsIl9zZXR1cFBhbmVscyIsImFjdGl2ZUhlaWdodCIsIl90aGlzMTEiLCJjYWxjdWxhdGVQYW5lbEhlaWdodCIsIl90aGlzMTIiLCJfdGhpczEzIiwicmVnaW9uIiwiQmFkZ2VyQWNjb3JkaW9uIiwiMTI4MCIsIjk4MCIsIjc2MyIsIjQ4MCIsIjAiLCJteU9mZnNpZGUiLCJvbmxvYWQiLCJ0YWJMaW5rcyIsInRhYkNvbnRlbnRzIiwiaGFzaCIsInRhYkNvbnRlbnQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdB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QUlyQnhCLFNBQVNzSixjQUFjLGlCQUM3QnRILGlCQUFpQixRQUFTeTRCLEdBQVVuNkIsVUFLNUNQLE9BQU8yNkIsT0FBUyxXQU1kLElBSkEsSUFBSUMsRUFBVzM2QixTQUFTeUMsaUJBQWlCLGVBQ3JDbTRCLEVBQWM1NkIsU0FBU3lDLGlCQUFpQixlQUduQzFFLEVBQUksRUFBR0EsRUFBSTQ4QixFQUFTbDZCLE9BQVExQyxJQUNuQzQ4QixFQUFTNThCLEdBQUdpRSxpQkFBaUIsUUFBUyxTQUFVNEQsR0FDOUNBLEVBQUVDLGlCQUlGLElBSEEsSUFBSVIsRUFBS1ksS0FBSzQwQixLQUFLcDVCLFFBQVEsSUFBSyxJQUd2QndRLEVBQUksRUFBR0EsRUFBSTJvQixFQUFZbjZCLE9BQVF3UixJQUFLLENBQzNDLElBQUk2b0IsRUFBYUYsRUFBWTNvQixHQUM3QjZvQixFQUFXMzVCLFVBQVVLLE9BQU8sY0FDNUJtNUIsRUFBUzFvQixHQUFHOVEsVUFBVUssT0FBTyxhQUN6QnM1QixFQUFXejFCLEtBQU9BLEdBQ3BCeTFCLEVBQVczNUIsVUFBVUMsSUFBSSxjQUk3QjZFLEtBQUs5RSxVQUFVQyxJQUFJLGdCQU96Qnd4QixHQUFXbnVCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyKTtcbiIsIi8qIG9mZnNpZGUtanMgMS40LjAgMjYtMDMtMjAxOFxuKiBNaW5pbWFsIEphdmFTY3JpcHQga2l0IHdpdGhvdXQgbGlicmFyeSBkZXBlbmRlbmNpZXMgdG8gcHVzaCB0aGluZ3Mgb2ZmLWNhbnZhcyB1c2luZyBqdXN0IGNsYXNzIG1hbmlwdWxhdGlvblxuKiBodHRwczovL2dpdGh1Yi5jb20vdG9vbXVjaGRlc2lnbi9vZmZzaWRlLmdpdFxuKlxuKiBieSBBbmRyZWEgQ2FycmFyb1xuKiBBdmFpbGFibGUgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4qL1xuXG47KGZ1bmN0aW9uICggd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkICkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8vIFNlbGYtaW52b2tpbmcgZnVuY3Rpb24gcmV0dXJuaW5nIHRoZSBvYmplY3Qgd2hpY2ggY29udGFpbnNcbiAgICAvLyB0aGUgXCJnZXRJbnN0YW5jZVwiIG1ldGhvZCB1c2VkIGZvciBpbml0aWFsaXppbmdcbiAgICAvLyB0aGUgT2Zmc2lkZSBzaWdsZXRvbiBmYWN0b3J5XG4gICAgdmFyIG9mZnNpZGUgPSAoZnVuY3Rpb24gKCkge1xuXG4gICAgICAgIC8vIEdsb2JhbCBPZmZzaWRlIHNpbmdsZXRvbi1mYWN0b3J5IGNvbnN0cnVjdG9yXG4gICAgICAgIGZ1bmN0aW9uIGluaXRPZmZzaWRlRmFjdG9yeSggb3B0aW9ucyApIHtcblxuICAgICAgICAgICAgLy8gVXRpbGl0eSBmdW5jdGlvbnNcbiAgICAgICAgICAgIC8vIFNoYXJlZCBhbW9uZyBmYWN0b3J5IGFuZCBPZmZzaWRlIGluc3RhbmNlcywgdG9vXG5cbiAgICAgICAgICAgIC8vIENsb3NlIGFsbCBvcGVuIE9mZnNpZGVzLlxuICAgICAgICAgICAgLy8gSWYgYW4gT2Zmc2lkZSBpbnN0YW5jZSBpZCBpcyBwcm92aWRlZCwgaXQganVzdCBjbG9zZXMgdGhlIG1hdGNoaW5nIGluc3RhbmNlIGluc3RlYWRcbiAgICAgICAgICAgIHZhciBjbG9zZUFsbCA9IGZ1bmN0aW9uKCBvZmZzaWRlSWQgKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBMb29rIGZvciBhbiBvcGVuIE9mZnNpZGUgaWRcbiAgICAgICAgICAgICAgICBpZiAoIG9wZW5PZmZzaWRlc0lkLmxlbmd0aCA+IDAgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xvc2UgbWF0Y2hpbmcgT2Zmc2lkZSBpbnN0YW5jZSBpZiBhbiBJRCBpcyBwcm92aWRlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoICFpc05hTiggb2Zmc2lkZUlkICkgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlZE9mZnNpZGVzWyBvZmZzaWRlSWQgXS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZSBhbGwgT2Zmc2lkZSBpbnN0YW5jZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wZW5PZmZzaWRlc0lkLmZvckVhY2goIGZ1bmN0aW9uKCBvZmZzaWRlSWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFudGlhdGVkT2Zmc2lkZXNbIG9mZnNpZGVJZCBdLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgLy8gQXBwZW5kIGEgY2xhc3MgdG8gYm9keSBpbiBvcmRlciB0byB0dXJuIG9uIGVsZW1lbnRzIENTUyAzRCB0cmFuc2l0aW9uc1xuICAgICAgICAgICAgLy8gb25seSB3aGVuIGhhcHBlbnMgdGhlIGZpcnN0IGludGVyYXRpb24gd2l0aCBhbiBPZmZzaWRlIGluc3RhbmNlLlxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIHdvdWxkIHNlZSBPZmZzaWRlIGluc3RhbmNlcyBiZWluZyBzbW9vdGhseSBwdXNoZWRcbiAgICAgICAgICAgIC8vIG91dCBvZiB0aGUgc2NyZWVuIGR1cmluZyBET00gaW5pdGlhbGl6YXRpb24uXG4gICAgICAgICAgICB0dXJuT25Dc3NUcmFuc2l0aW9ucyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKCBib2R5LCB0cmFuc2l0aW9uc0NsYXNzICk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBhZGRDbGFzcyA9IGZ1bmN0aW9uKCBlbCwgYyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIGVsLmNsYXNzTGlzdCApIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZChjKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc05hbWUgPSAoIGVsLmNsYXNzTmFtZSArICcgJyArIGMgKS50cmltKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcmVtb3ZlQ2xhc3MgPSBmdW5jdGlvbiggZWwsIGMgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCBlbC5jbGFzc0xpc3QgKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoYyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UoIG5ldyBSZWdFeHAoICcoXnxcXFxcYiknICsgYy5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knICksICcgJyApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGFkZEV2ZW50ID0gZnVuY3Rpb24oIGVsLCBldmVudE5hbWUsIGV2ZW50SGFuZGxlciApIHtcbiAgICAgICAgICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCBldmVudE5hbWUsIGV2ZW50SGFuZGxlciApO1xuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgcmVtb3ZlRXZlbnQgPSBmdW5jdGlvbiggZWwsIGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVyICkge1xuICAgICAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoIGV2ZW50TmFtZSwgZXZlbnRIYW5kbGVyICk7XG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAvLyBSZXR1cm4gYSBjb2xsZWN0aW9uIChhcnJheSkgb2YgRE9NIGVsZW1lbnRzIGZyb206XG4gICAgICAgICAgICAvLyAtIEEgRE9NIGVsZW1lbnRcbiAgICAgICAgICAgIC8vIC0gQW4gYXJyYXkgb2YgRE9NIGVsZW1lbnRzXG4gICAgICAgICAgICAvLyAtIEEgc3RyaW5nIHNlbGVjdG9yXG4gICAgICAgICAgICBnZXREb21FbGVtZW50cyA9IGZ1bmN0aW9uKCBlbHMgKSB7XG5cbiAgICAgICAgICAgICAgICAvLyBcImVsc1wiIGlzIGEgRE9NIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMjAyNzUvMjkwMjgyMVxuICAgICAgICAgICAgICAgIGlmKCBlbHMgaW5zdGFuY2VvZiBIVE1MRWxlbWVudCApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyBlbHMgXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBcImVsc1wiIGlzIGFuIGFycmF5XG4gICAgICAgICAgICAgICAgZWxzZSBpZiggQXJyYXkuaXNBcnJheSggZWxzICkgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbHM7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gXCJlbHNcIiBpcyBhIHN0cmluZ1xuICAgICAgICAgICAgICAgIGVsc2UgaWYoIHR5cGVvZiBlbHMgPT09ICdzdHJpbmcnICkge1xuICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0IE5vZGVsaXN0IGludG8gYW4gYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgLy8gaHR0cDovL3d3dy5qc3RpcHMuY28vZW4vY29udmVydGluZy1hLW5vZGUtbGlzdC10by1hbi1hcnJheS9cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEFycmF5LmFwcGx5KCBudWxsLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCBlbHMgKSApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGEgdmFsdWUgZXhpc3RzIGluIGFuIGFycmF5LiBSZXR1cm5zOlxuICAgICAgICAgICAgLy8gLSBhcnJheSBpbmRleCBpZiB2YWx1ZSBleGlzdHNcbiAgICAgICAgICAgIC8vIC0gXCJmYWxzZVwiIGlmIHZhbHVlIGlzIG5vdCBmb3VuZFxuICAgICAgICAgICAgLy8gU2VlOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS81NzY3MzU3XG4gICAgICAgICAgICBpc0luQXJyYXkgPSBmdW5jdGlvbiggYXJyLCB2YWx1ZSApIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBhcnIuaW5kZXhPZiggdmFsdWUgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5kZXggPiAtMSA/IGluZGV4IDogZmFsc2U7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvLyBPZmZzaWRlLmpzIGZhY3RvcnkgaW5pdGlhbGl6YXRpb25cblxuICAgICAgICAgICAgdmFyIGksXG4gICAgICAgICAgICAgICAgZmFjdG9yeVNldHRpbmdzOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9mZnNpZGUgZmFjdG9yeSBwcml2YXRlIHNldHRpbmdzXG5cbiAgICAgICAgICAgIC8vIERlZmF1bHQgZmFjdG9yeSBzZXR0aW5nc1xuICAgICAgICAgICAgZmFjdG9yeVNldHRpbmdzID0ge1xuXG4gICAgICAgICAgICAgICAgc2xpZGluZ0VsZW1lbnRzU2VsZWN0b3I6ICcub2Zmc2lkZS1zbGlkaW5nLWVsZW1lbnQnLCAgICAvLyBTdHJpbmc6IERlZmF1bHQgc2xpZGluZyBlbGVtZW50cyBzZWxlY3RvcnMgKCcjZm9vLCAjYmFyJylcbiAgICAgICAgICAgICAgICBkaXNhYmxlQ3NzM2RUcmFuc2Zvcm1zOiBmYWxzZSwgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc2FibGUgQ1NTIDNkIFRyYW5zZm9ybXMgc3VwcG9ydCAoZm9yIHRlc3RpbmcgcHVycG9zZXMpXG4gICAgICAgICAgICAgICAgZGVidWc6IGZhbHNlLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBCb29sZWFuOiBJZiB0cnVlLCBwcmludCBlcnJvcnMgaW4gY29uc29sZVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gVXNlciBkZWZpbmVkIGZhY3Rvcnkgc2V0dGluZ3NcbiAgICAgICAgICAgIGZvciAoIGkgaW4gb3B0aW9ucyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIGZhY3RvcnlTZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eSggaSApICkge1xuICAgICAgICAgICAgICAgICAgICBmYWN0b3J5U2V0dGluZ3NbaV0gPSBvcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gUHJpdmF0ZSBmYWN0b3J5IHByb3BlcnRpZXNcbiAgICAgICAgICAgIHZhciBnbG9iYWxDbGFzcyA9ICdvZmZzaWRlLWpzJywgICAgICAgICAgICAgICAgICAgICAgICAgLy8gR2xvYmFsIE9mZnNpZGUgY2xhc3NlcyBuYW1lc3BhY2VcbiAgICAgICAgICAgICAgICBpbml0Q2xhc3MgPSBnbG9iYWxDbGFzcyArICctLWluaXQnLCAgICAgICAgICAgICAgICAgLy8gQ2xhc3MgYXBwZW5kZWQgdG8gYm9keSB3aGVuIE9mZnNpZGUgaXMgaW50aWFsaXplZFxuICAgICAgICAgICAgICAgIHNsaWRpbmdFbGVtZW50c0NsYXNzID0gJ29mZnNpZGUtc2xpZGluZy1lbGVtZW50JywgICAvLyBDbGFzcyBhcHBlbmRlZCB0byBzbGlkaW5nIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbnNDbGFzcyA9IGdsb2JhbENsYXNzICsgJy0taW50ZXJhY3QnLCAgICAgIC8vIENsYXNzIGFwcGVuZGVkIHRvIGJvZHkgd2hlbiByZWFkeSB0byB0dXJuIG9uIE9mZnNpZGUgQ1NTIHRyYW5zaXRpb25zIChBZGRlZCB3aGVuIGZpcnN0IG1lbnUgaW50ZXJhY3Rpb24gaGFwcGVucylcbiAgICAgICAgICAgICAgICBpbnN0YW50aWF0ZWRPZmZzaWRlcyA9IFtdLCAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXJyYXkgY29udGFpbmluZyBhbGwgaW5zdGFudGlhdGVkIG9mZnNpZGUgZWxlbWVudHNcbiAgICAgICAgICAgICAgICBmaXJzdEludGVyYWN0aW9uID0gdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gS2VlcCB0cmFjayBvZiBmaXJzdCBPZmZzaWRlIGludGVyYWN0aW9uXG4gICAgICAgICAgICAgICAgaGFzM2QgPSBmYWN0b3J5U2V0dGluZ3MuZGlzYWJsZUNzczNkVHJhbnNmb3JtcyA/IGZhbHNlIDogX2hhczNkKCksICAgICAgIC8vIEJyb3dzZXIgc3VwcG9ydHMgQ1NTIDNkIFRyYW5zZm9ybXNcbiAgICAgICAgICAgICAgICBvcGVuT2Zmc2lkZXNJZCA9IFtdLCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJhY2tzIG9wZW5lZCBPZmZzaWRlIGluc3RhbmNlcyBpZCdzXG4gICAgICAgICAgICAgICAgYm9keSA9IGRvY3VtZW50LmJvZHksXG4gICAgICAgICAgICAgICAgc2xpZGluZ0VsZW1lbnRzID0gZ2V0RG9tRWxlbWVudHMoIGZhY3RvcnlTZXR0aW5ncy5zbGlkaW5nRWxlbWVudHNTZWxlY3RvciApLCAgICAgLy8gU2xpZGluZyBlbGVtZW50c1xuICAgICAgICAgICAgICAgIGRlYnVnID0gZmFjdG9yeVNldHRpbmdzLmRlYnVnO1xuXG4gICAgICAgICAgICAvLyBPZmZzaWRlIHNpbmdsZXRvbi1mYWN0b3J5IERvbSBpbml0aWFsaXphdGlvblxuICAgICAgICAgICAgLy8gSXQncyBjYWxsZWQganVzdCBvbmNlIG9uIE9mZnNpZGUgc2luZ2xldG9uLWZhY3RvcnkgaW5pdC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9mYWN0b3J5RG9tSW5pdCgpIHtcblxuICAgICAgICAgICAgICAgIC8vIEFkZCBjbGFzcyB0byBzbGlkaW5nIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgc2xpZGluZ0VsZW1lbnRzLmZvckVhY2goIGZ1bmN0aW9uKCBpdGVtICkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyggaXRlbSwgc2xpZGluZ0VsZW1lbnRzQ2xhc3MgKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIERPTSBGYWxsYmFja3Mgd2hlbiBDU1MgdHJhbnNmb3JtIDNkIG5vdCBhdmFpbGFibGVcbiAgICAgICAgICAgICAgICBpZiAoICFoYXMzZCApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gQ1NTIDNkIFRyYW5zZm9ybSBmYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyggZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCAnbm8tY3NzdHJhbnNmb3JtczNkJyApOyAvL0FkZHMgTW9kZXJuaXpyLWxpa2UgY2xhc3MgdG8gSFRNTCBlbGVtZW50IHdoZW4gQ1NTIDNEIFRyYW5zZm9ybXMgbm90IGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIEFkZCBpbml0IGNsYXNzIHRvIGJvZHlcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyggYm9keSwgaW5pdENsYXNzICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFByaXZhdGUgT2Zmc2lkZSBmYWN0b3J5IG1ldGhvZHNcblxuICAgICAgICAgICAgLy8gVGVzdGluZyBmb3IgQ1NTIDNEIFRyYW5zZm9ybSBTdXBwb3J0XG4gICAgICAgICAgICAvLyBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9sb3JlbnpvcG9saWRvcmkvMzc5NDIyNlxuICAgICAgICAgICAgZnVuY3Rpb24gX2hhczNkKCkge1xuXG4gICAgICAgICAgICAgICAgaWYgKCAhd2luZG93LmdldENvbXB1dGVkU3R5bGUgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXG4gICAgICAgICAgICAgICAgaGFzM2QsXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ3dlYmtpdFRyYW5zZm9ybSc6Jy13ZWJraXQtdHJhbnNmb3JtJyxcbiAgICAgICAgICAgICAgICAgICAgJ09UcmFuc2Zvcm0nOictby10cmFuc2Zvcm0nLFxuICAgICAgICAgICAgICAgICAgICAnbXNUcmFuc2Zvcm0nOictbXMtdHJhbnNmb3JtJyxcbiAgICAgICAgICAgICAgICAgICAgJ01velRyYW5zZm9ybSc6Jy1tb3otdHJhbnNmb3JtJyxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zZm9ybSc6J3RyYW5zZm9ybSdcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gQWRkIGl0IHRvIHRoZSBib2R5IHRvIGdldCB0aGUgY29tcHV0ZWQgc3R5bGVcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5Lmluc2VydEJlZm9yZShlbCwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgICBmb3IoIHZhciB0IGluIHRyYW5zZm9ybXMgKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoIGVsLnN0eWxlW3RdICE9PSB1bmRlZmluZWQgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsLnN0eWxlW3RdID0gJ3RyYW5zbGF0ZTNkKDFweCwxcHgsMXB4KSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXMzZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKHRyYW5zZm9ybXNbdF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gKCBoYXMzZCAhPT0gdW5kZWZpbmVkICYmIGhhczNkLmxlbmd0aCA+IDAgJiYgaGFzM2QgIT09ICdub25lJyApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBPZmZzaWRlIGNvbnN0cnVjdG9yIHdyYXBwZXJcbiAgICAgICAgICAgIC8vIEl0IHN1cHBsaWVzIGEgd3JhcHBlciBhcm91bmQgT2Zmc2lkZUluc3RhbmNlIGNvbnN0cnVjdG9yXG4gICAgICAgICAgICAvLyB0byBwcmV2ZW50IGluc3RhbmNlIGluaXRpYWxpemF0aW9uIHdoZW4gY2FzdGVkIG9uIGEgbm9uLWV4aXN0aW5nIERPTSBlbGVtZW50XG4gICAgICAgICAgICAvLyBTZWU6IGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzg2MTg3OTJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZU9mZnNpZGVJbnN0YW5jZSggZWwsIG9wdGlvbnMsIG9mZnNpZGVJZCApIHtcblxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHByb3ZpZGVkIGVsZW1lbnQgZXhpc3RzIGJlZm9yZSB1c2luZyBpdCB0byBpbnN0YW50aWF0ZSBhbiBPZmZzaWRlIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgdmFyIGRvbUVsID0gZWwgIT09IHVuZGVmaW5lZCA/XG4gICAgICAgICAgICAgICAgICAgIGdldERvbUVsZW1lbnRzKCBlbCApIDpcbiAgICAgICAgICAgICAgICAgICAgZ2V0RG9tRWxlbWVudHMoICcub2Zmc2lkZScgKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHByb3ZpZGVkIGVsIGV4aXN0cyBpbml0aWFsaXplIGFuIE9mZnNpZGUgaW5zdGFuY2UsIGVsc2UgcmV0dXJuIG51bGxcbiAgICAgICAgICAgICAgICByZXR1cm4gZG9tRWwgIT09IGZhbHNlID9cbiAgICAgICAgICAgICAgICAgICAgbmV3IE9mZnNpZGVJbnN0YW5jZSggZG9tRWxbMF0sIG9wdGlvbnMsIG9mZnNpZGVJZCApIDpcbiAgICAgICAgICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gT2Zmc2lkZSBjb25zdHJ1Y3RvclxuICAgICAgICAgICAgLy8gU2V0IHVwIGFuZCBpbml0aWFsaXplIGEgbmV3IE9mZnNpZGUgaW5zdGFuY2VcbiAgICAgICAgICAgIC8vIENhbGxlZCBieSBPZmZzaWRlIGZhY3RvcnkgXCJnZXRPZmZzaWRlSW5zdGFuY2UoKVwiIG1ldGhvZFxuICAgICAgICAgICAgZnVuY3Rpb24gT2Zmc2lkZUluc3RhbmNlKCBkb21FbCwgb3B0aW9ucywgb2Zmc2lkZUlkICkge1xuXG4gICAgICAgICAgICAgICAgdmFyIGksXG4gICAgICAgICAgICAgICAgICAgIG9mZnNpZGVTZXR0aW5ncztcblxuICAgICAgICAgICAgICAgIC8vIERlZmF1bHQgT2Zmc2lkZSBpbnN0YW5jZSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIG9mZnNpZGVTZXR0aW5ncyA9IHtcblxuICAgICAgICAgICAgICAgICAgICBidXR0b25zU2VsZWN0b3I6ICcnLCAgICAgICAgICAgICAgICAvLyBTdHJpbmc6IE9mZnNpZGUgdG9nZ2xlIGJ1dHRvbnMgc2VsZWN0b3JzICgnI2ZvbywgI2JhcicpXG4gICAgICAgICAgICAgICAgICAgIHNsaWRpbmdTaWRlOiAnbGVmdCcsICAgICAgICAgICAgICAgIC8vIFN0cmluZzogT2Zmc2lkZSBlbGVtZW50IHB1c2hlZCBvbiBsZWZ0IG9yIHJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIGluaXQ6IGZ1bmN0aW9uKCl7fSwgICAgICAgICAgICAgICAgIC8vIEZ1bmN0aW9uOiBBZnRlciBpbml0IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIGJlZm9yZU9wZW46IGZ1bmN0aW9uKCl7fSwgICAgICAgICAgIC8vIEZ1bmN0aW9uOiBCZWZvcmUgb3BlbiBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBhZnRlck9wZW46IGZ1bmN0aW9uKCl7fSwgICAgICAgICAgICAvLyBGdW5jdGlvbjogQWZ0ZXIgb3BlbiBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVDbG9zZTogZnVuY3Rpb24oKXt9LCAgICAgICAgICAvLyBGdW5jdGlvbjogQmVmb3JlIGNsb3NlIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIGFmdGVyQ2xvc2U6IGZ1bmN0aW9uKCl7fSwgICAgICAgICAgIC8vIEZ1bmN0aW9uOiBBZnRlciBjbG9zZSBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbigpe30sICAgICAgICAvLyBGdW5jdGlvbjogQWZ0ZXIgZGVzdHJveSBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBhZnRlckRlc3Ryb3k6IGZ1bmN0aW9uKCl7fSwgICAgICAgICAvLyBGdW5jdGlvbjogQWZ0ZXIgZGVzdHJveSBjYWxsYmFja1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAvLyBVc2VyIGRlZmluZWQgT2Zmc2lkZSBpbnN0YW5jZSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIGZvciAoIGkgaW4gb3B0aW9ucyApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBvZmZzaWRlU2V0dGluZ3MuaGFzT3duUHJvcGVydHkoIGkgKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNpZGVTZXR0aW5nc1tpXSA9IG9wdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBPZmZzaWRlIGluc3RhbmNlIHByaXZhdGUgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIHZhciBvZmZzaWRlID0gZG9tRWwsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIZWxsbywgSSdtIHRoZSBPZmZzaWRlIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIG9mZnNpZGVCdXR0b25zID0gZ2V0RG9tRWxlbWVudHMoIG9mZnNpZGVTZXR0aW5ncy5idXR0b25zU2VsZWN0b3IgKSwgICAgIC8vIE9mZnNpZGUgdG9nZ2xlIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICAgICAgc2xpZGluZ1NpZGUgPSBvZmZzaWRlU2V0dGluZ3Muc2xpZGluZ1NpZGUsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNpZGVDbGFzcyA9ICdvZmZzaWRlJywgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsYXNzIGFkZGVkIHRvIE9mZnNpZGUgaW5zdGFuY2Ugd2hlbiBpbml0aWFsaXplZFxuICAgICAgICAgICAgICAgICAgICBvZmZzaWRlU2lkZUNsYXNzID0gb2Zmc2lkZUNsYXNzICsgJy0tJyArIHNsaWRpbmdTaWRlLCAgICAgICAgICAgICAgICAgICAvLyBDbGFzcyBhZGRlZCB0byBPZmZzaWRlIGluc3RhbmNlIHdoZW4gaW5pdGlhbGl6ZWQgKGVnLiBvZmZzaWRlIG9mZnNpZGUtLWxlZnQpXG4gICAgICAgICAgICAgICAgICAgIG9mZnNpZGVPcGVuQ2xhc3MgPSAnaXMtb3BlbicsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENsYXNzIGFwcGVuZGVkIHRvIE9mZnNpZGUgaW5zdGFuY2Ugd2hlbiBvcGVuXG4gICAgICAgICAgICAgICAgICAgIG9mZnNpZGVCb2R5T3BlbkNsYXNzID0gZ2xvYmFsQ2xhc3MgKyAnLS0nICsgJ2lzLW9wZW4nLCAgICAgICAgICAgICAgICAgIC8vIENsYXNzIGFwcGVuZGVkIHRvIGJvZHkgd2hlbiBhbiBPZmZzaWRlIGluc3RhbmNlIGlzIG9wZW4gKG9mZnNpZGUtanMtLWlzLW9wZW4pXG4gICAgICAgICAgICAgICAgICAgIG9mZnNpZGVCb2R5T3BlblNpZGVDbGFzcyA9IGdsb2JhbENsYXNzICsgJy0taXMtJyArIHNsaWRpbmdTaWRlLCAgICAgICAgIC8vIENsYXNzIGFwcGVuZGVkIHRvIGJvZHkgd2hlbiBPZmZzaWRlIGluc3RhbmNlIGlzIG9wZW4gKGVnLiBvZmZzaWRlLWpzLS1pcy1sZWZ0IC8gb2Zmc2lkZS1qcy0taXMtb3BlbilcbiAgICAgICAgICAgICAgICAgICAgaWQgPSBvZmZzaWRlSWQgfHwgMDsgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9mZnNpZGUgaW5zdGFuY2UgaWRcblxuICAgICAgICAgICAgICAgIC8vIE9mZnNpZGUgaW5zdGFuY2UgcHJpdmF0ZSBtZXRob2RzXG5cbiAgICAgICAgICAgICAgICB2YXIgX3RvZ2dsZU9mZnNpZGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBQcmVtaXNlOiBKdXN0IDEgT2Zmc2lkZSBpbnN0YW5jZSBhdCB0aW1lIGNhbiBiZSBvcGVuLlxuXG4gICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGN1cnJlbnRseSB0b2dnbGluZyBPZmZzaWRlIHN0YXR1c1xuICAgICAgICAgICAgICAgICAgICBpc0luQXJyYXkoIG9wZW5PZmZzaWRlc0lkLCBpZCApID09PSBmYWxzZSA/IF9vcGVuT2Zmc2lkZSgpIDogX2Nsb3NlT2Zmc2lkZSgpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBfb3Blbk9mZnNpZGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBiZWZvcmVPcGVuIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIG9mZnNpZGVTZXR0aW5ncy5iZWZvcmVPcGVuKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVHVybiBvbiBDU1MgdHJhbnNpdGlvbnMgb24gZmlyc3QgaW50ZXJhY3Rpb24gd2l0aCBhbiBPZmZzaWRlIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgIGlmICggZmlyc3RJbnRlcmFjdGlvbiApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcnN0SW50ZXJhY3Rpb24gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR1cm5PbkNzc1RyYW5zaXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBhbm90aGVyIE9mZnNpZGUgaW5zdGFuY2UgaXMgYWxyZWFkeSBvcGVuLFxuICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZSBpdCBiZWZvcmUgZ29pbmcgb25cbiAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGwoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgZ2xvYmFsIGJvZHkgYWN0aXZlIGNsYXNzIGZvciBjdXJyZW50IE9mZnNpZGUgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoIGJvZHksIG9mZnNpZGVCb2R5T3BlbkNsYXNzICk7XG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKCBib2R5LCBvZmZzaWRlQm9keU9wZW5TaWRlQ2xhc3MgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgT2Zmc2lkZSBpbnN0YW5jZSBvcGVuIGNsYXNzXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKCBvZmZzaWRlLCBvZmZzaWRlT3BlbkNsYXNzICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVXBkYXRlIG9wZW4gT2Zmc2lkZSBpbnN0YW5jZXMgdHJhY2tlclxuICAgICAgICAgICAgICAgICAgICBvcGVuT2Zmc2lkZXNJZC5wdXNoKCBpZCApO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyT3BlbiBjYWxsYmFja1xuICAgICAgICAgICAgICAgICAgICBvZmZzaWRlU2V0dGluZ3MuYWZ0ZXJPcGVuKCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIF9jbG9zZU9mZnNpZGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICAvLyBQcm9jZWVkIHdpdGggY2xvc2luZyBzdHVmZiBvbmx5IGlmXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgT2Zmc2lkZSBpbnN0YW5jZSBpcyBsaXN0ZWQgYW1vbmcgb3Blbk9mZnNpZGVzSWQgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gaXNJbkFycmF5KCBvcGVuT2Zmc2lkZXNJZCwgaWQgKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGluZGV4ICE9PSBmYWxzZSApIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYmVmb3JlQ2xvc2UgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNpZGVTZXR0aW5ncy5iZWZvcmVDbG9zZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgZ2xvYmFsIGJvZHkgYWN0aXZlIGNsYXNzIGZvciBjdXJyZW50IE9mZnNpZGUgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKCBib2R5LCBvZmZzaWRlQm9keU9wZW5DbGFzcyApO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoIGJvZHksIG9mZnNpZGVCb2R5T3BlblNpZGVDbGFzcyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgT2Zmc2lkZSBpbnN0YW5jZSBvcGVuIGNsYXNzXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyggb2Zmc2lkZSwgb2Zmc2lkZU9wZW5DbGFzcyApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgb3BlbiBPZmZzaWRlIGluc3RhbmNlcyB0cmFja2VyXG4gICAgICAgICAgICAgICAgICAgICAgICBvcGVuT2Zmc2lkZXNJZC5zcGxpY2UoIGluZGV4LCAxICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFmdGVyQ2xvc2UgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNpZGVTZXR0aW5ncy5hZnRlckNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgX2Nsb3NlQWxsID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgY2xvc2VBbGwoKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLy8gT2Zmc2lkZSBidXR0b25zIGNsaWNrIGhhbmRsZXJcbiAgICAgICAgICAgICAgICBfb25CdXR0b25DbGljayA9IGZ1bmN0aW9uKCBlICkge1xuXG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RvZ2dsZU9mZnNpZGUoKTtcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAvLyBHZXQgT2Zmc2lkZSBpbnN0YW5jZSB1bmlxdWUgSURcbiAgICAgICAgICAgICAgICBfZ2V0SWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICAgICAgLy8gU2V0IHVwIGFuZCBpbml0aWFsaXplIGEgbmV3IE9mZnNpZGUgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICBfaW5pdE9mZnNpZGUgPSBmdW5jdGlvbigpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIGRlYnVnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2NoZWNrRWxlbWVudHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBjbGFzc2VzIHRvIE9mZnNpZGUgaW5zdGFuY2UgKC5vZmZzaWRlIGFuZCAub2Zmc2lkZXtzbGlkaW5nU2lkZX0pXG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKCBvZmZzaWRlLCBvZmZzaWRlQ2xhc3MgKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQ2xhc3MoIG9mZnNpZGUsIG9mZnNpZGVTaWRlQ2xhc3MgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUb2dnbGUgT2Zmc2lkZSBvbiBjbGljayBldmVudFxuICAgICAgICAgICAgICAgICAgICBvZmZzaWRlQnV0dG9ucy5mb3JFYWNoKCBmdW5jdGlvbiggaXRlbSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50KCBpdGVtLCAnY2xpY2snLCBfb25CdXR0b25DbGljayApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJbml0IGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgICAgIG9mZnNpZGVTZXR0aW5ncy5pbml0KCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIF9kZXN0cm95T2Zmc2lkZSA9IGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGJlZm9yZURlc3Ryb3kgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2lkZVNldHRpbmdzLmJlZm9yZURlc3Ryb3koKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBDbG9zZSBPZmZzaWRlIGludGFuY2UgYmVmb3JlIGRlc3Ryb3lcbiAgICAgICAgICAgICAgICAgICAgX2Nsb3NlT2Zmc2lkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBjbGljayBldmVudCBmcm9tIE9mZnNpZGUgYnV0dG9uc1xuICAgICAgICAgICAgICAgICAgICBvZmZzaWRlQnV0dG9ucy5mb3JFYWNoKCBmdW5jdGlvbiggaXRlbSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUV2ZW50KCBpdGVtLCAnY2xpY2snLCBfb25CdXR0b25DbGljayApO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgY2xhc3NlcyBhcHBlbmRlZCBvbiBpbml0IHBoYXNlXG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKCBvZmZzaWRlLCBvZmZzaWRlQ2xhc3MgKTtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoIG9mZnNpZGUsIG9mZnNpZGVTaWRlQ2xhc3MgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBEZXN0cm95IE9mZnNpZGUgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGluc3RhbnRpYXRlZE9mZnNpZGVzW2lkXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBhZnRlckRlc3Ryb3kgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2lkZVNldHRpbmdzLmFmdGVyRGVzdHJveSgpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICAvLyBGaXJlIGNvbnNvbGUgZXJyb3JzIGlmIERPTSBlbGVtZW50cyBhcmUgbWlzc2luZ1xuICAgICAgICAgICAgICAgIF9jaGVja0VsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCAhb2Zmc2lkZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoICdPZmZzaWRlIGFsZXJ0OiBcIm9mZnNpZGVcIiBzZWxlY3RvciBjb3VsZCBub3QgbWF0Y2ggYW55IGVsZW1lbnQnICk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoICFvZmZzaWRlQnV0dG9ucy5sZW5ndGggKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCAnT2Zmc2lkZSBhbGVydDogXCJidXR0b25zU2VsZWN0b3JcIiBzZWxlY3RvciBjb3VsZCBub3QgbWF0Y2ggYW55IGVsZW1lbnQnICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgLy8gT2Zmc2lkZSBpbnN0YW5jZXMgcHVibGljIG1ldGhvZHNcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfdG9nZ2xlT2Zmc2lkZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX29wZW5PZmZzaWRlKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX2Nsb3NlT2Zmc2lkZSgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQWxsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIF9jbG9zZUFsbCgpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX2Rlc3Ryb3lPZmZzaWRlKCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIE9rLCBpbml0IE9mZnNpZGUgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICBfaW5pdE9mZnNpZGUoKTtcblxuICAgICAgICAgICAgfSAvLyBPZmZzaWRlSW5zdGFuY2UgY29uc3RydWN0b3IgZW5kXG5cblxuICAgICAgICAgICAgLy8gRE9NIGluaXRpYWxpemF0aW9uXG4gICAgICAgICAgICBfZmFjdG9yeURvbUluaXQoKTtcblxuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgYWN0dWFsIHJldHVybmVkIE9mZnNpZGUgZmFjdG9yeVxuICAgICAgICAgICAgcmV0dXJuIHtcblxuICAgICAgICAgICAgICAgIC8vT2Zmc2lkZSBmYWN0b3J5IHB1YmxpYyBtZXRob2RzXG4gICAgICAgICAgICAgICAgY2xvc2VPcGVuT2Zmc2lkZTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQWxsKCk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIG1ldGhvZCByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYSBuZXcgT2Zmc2lkZSBpbnN0YW5jZVxuICAgICAgICAgICAgICAgIC8vIGFuZCByZWdpc3RlciBpdCBpbnRvIFwiaW5zdGFudGlhdGVkT2Zmc2lkZXNcIiBhcnJheVxuICAgICAgICAgICAgICAgIGdldE9mZnNpZGVJbnN0YW5jZTogZnVuY3Rpb24oIGVsLCBvcHRpb25zICkge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBHZXQgbGVuZ3RoIG9mIGluc3RhbnRpYXRlZCBPZmZzaWRlcyBhcnJheVxuICAgICAgICAgICAgICAgICAgICB2YXIgb2Zmc2lkZUlkID0gaW5zdGFudGlhdGVkT2Zmc2lkZXMubGVuZ3RoIHx8IDAsXG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEluc3RhbnRpYXRlIG5ldyBPZmZzaWRlIGluc3RhbmNlXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzaWRlSW5zdGFuY2UgPSBjcmVhdGVPZmZzaWRlSW5zdGFuY2UoIGVsLCBvcHRpb25zLCBvZmZzaWRlSWQgKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBJZiBPZmZzaWRlIGluc3RhbmNlIGlzIHNjY2Vzc2Z1bGx5IGNyZWF0ZWRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBvZmZzaWRlSW5zdGFuY2UgIT09IG51bGwgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFB1c2ggbmV3IGluc3RhbmNlIGludG8gXCJpbnN0YW50aWF0ZWRPZmZzaWRlc1wiIGFycmF5IGFuZCByZXR1cm4gaXRcblxuICAgICAgICAgICAgICAgICAgICAgICAgLypqc2hpbnQgLVcwOTMgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW50aWF0ZWRPZmZzaWRlc1sgb2Zmc2lkZUlkIF0gPSBvZmZzaWRlSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAvKmpzaGludCArVzA5MyAqL1xuICAgICAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgfTtcblxuICAgICAgICB9IC8vIGluaXRPZmZzaWRlRmFjdG9yeSgpIGVuZFxuXG4gICAgICAgIHZhciBzaW5nbGV0b24gPSB7XG5cbiAgICAgICAgICAgIC8vIEdldCB0aGUgU2luZ2xldG9uIGluc3RhbmNlIGlmIG9uZSBleGlzdHNcbiAgICAgICAgICAgIC8vIG9yIGNyZWF0ZSBvbmUgaWYgaXQgZG9lc24ndFxuICAgICAgICAgICAgZ2V0SW5zdGFuY2U6IGZ1bmN0aW9uICggZWwsIG9wdGlvbnMgKSB7XG5cbiAgICAgICAgICAgICAgICAvKlxuICAgICAgICAgICAgICAgICogV2hlbiBPZmZzaWRlIGlzIGNhbGxlZCBmb3IgdGhlIGZpcnN0IHRpbWUsXG4gICAgICAgICAgICAgICAgKiBpbmplY3QgYSBzaW5nbGV0b24tZmFjdG9yeSBvYmplY3RcbiAgICAgICAgICAgICAgICAqIGFzIGEgc3RhdGljIG1ldGhvZCBpbiBcIm9mZnNpZGUuZmFjdG9yeVwiLlxuICAgICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAgICAqIE9mZnNpZGUgZmFjdG9yeSBzZXJ2ZXMgdGhlIGZvbGxvd2luZyBwdXJwb3NlczpcbiAgICAgICAgICAgICAgICAqIC0gRE9NIGluaXRpYWxpemF0aW9uXG4gICAgICAgICAgICAgICAgKiAtIENlbnRyYWxpemVkIE9mZnNpZGUgaW5zdGFuY2VzIG1hbmFnZW1lbnQgYW5kIGluaXRpYWxpemF0aW9uXG4gICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAoICFzaW5nbGV0b24uZ2V0SW5zdGFuY2UuZmFjdG9yeSApIHtcbiAgICAgICAgICAgICAgICAgICAgc2luZ2xldG9uLmdldEluc3RhbmNlLmZhY3RvcnkgPSBpbml0T2Zmc2lkZUZhY3RvcnkoIG9wdGlvbnMgKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc2luZ2xldG9uLmdldEluc3RhbmNlLmZhY3RvcnkuZ2V0T2Zmc2lkZUluc3RhbmNlKCBlbCwgb3B0aW9ucyApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBzaW5nbGV0b247XG4gICAgfSkoKTtcblxuICAgIC8vIFN0b3JlIGluIHdpbmRvdyBhIHJlZmVyZW5jZSB0byB0aGUgT2Zmc2lkZSBzaW5nbGV0b24gZmFjdG9yeVxuICAgIGlmICggdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbW9kdWxlLmV4cG9ydHMgKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gb2Zmc2lkZS5nZXRJbnN0YW5jZTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cub2Zmc2lkZSA9IG9mZnNpZGUuZ2V0SW5zdGFuY2U7XG4gICAgfVxuXG59KSggd2luZG93LCBkb2N1bWVudCApO1xuIiwiXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFJlbGxheC5qc1xuLy8gQnV0dGVyeSBzbW9vdGggcGFyYWxsYXggbGlicmFyeVxuLy8gQ29weXJpZ2h0IChjKSAyMDE2IE1vZSBBbWF5YSAoQG1vZWFtYXlhKVxuLy8gTUlUIGxpY2Vuc2Vcbi8vXG4vLyBUaGFua3MgdG8gUGFyYXhpZnkuanMgYW5kIEphaW1lIENhYmxsZXJvXG4vLyBmb3IgcGFyYWxsYXggY29uY2VwdHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09ICdvYmplY3QnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgLy8gTm9kZS4gRG9lcyBub3Qgd29yayB3aXRoIHN0cmljdCBDb21tb25KUywgYnV0XG4gICAgLy8gb25seSBDb21tb25KUy1saWtlIGVudmlyb25tZW50cyB0aGF0IHN1cHBvcnQgbW9kdWxlLmV4cG9ydHMsXG4gICAgLy8gbGlrZSBOb2RlLlxuICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICB9IGVsc2Uge1xuICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXG4gICAgcm9vdC5SZWxsYXggPSBmYWN0b3J5KCk7XG4gIH1cbn0odHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdyA6IGdsb2JhbCwgZnVuY3Rpb24gKCkge1xuICB2YXIgUmVsbGF4ID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMpe1xuICAgIFwidXNlIHN0cmljdFwiO1xuXG4gICAgdmFyIHNlbGYgPSBPYmplY3QuY3JlYXRlKFJlbGxheC5wcm90b3R5cGUpO1xuXG4gICAgdmFyIHBvc1kgPSAwO1xuICAgIHZhciBzY3JlZW5ZID0gMDtcbiAgICB2YXIgcG9zWCA9IDA7XG4gICAgdmFyIHNjcmVlblggPSAwO1xuICAgIHZhciBibG9ja3MgPSBbXTtcbiAgICB2YXIgcGF1c2UgPSB0cnVlO1xuXG4gICAgLy8gY2hlY2sgd2hhdCByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgdG8gdXNlLCBhbmQgaWZcbiAgICAvLyBpdCdzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgb25zY3JvbGwgZXZlbnRcbiAgICB2YXIgbG9vcCA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSB8fFxuICAgICAgd2luZG93Lm9SZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgIGZ1bmN0aW9uKGNhbGxiYWNrKXsgcmV0dXJuIHNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7IH07XG5cbiAgICAvLyBzdG9yZSB0aGUgaWQgZm9yIGxhdGVyIHVzZVxuICAgIHZhciBsb29wSWQgPSBudWxsO1xuXG4gICAgLy8gY2hlY2sgd2hhdCBjYW5jZWxBbmltYXRpb24gbWV0aG9kIHRvIHVzZVxuICAgIHZhciBjbGVhckxvb3AgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IGNsZWFyVGltZW91dDtcblxuICAgIC8vIGNoZWNrIHdoaWNoIHRyYW5zZm9ybSBwcm9wZXJ0eSB0byB1c2VcbiAgICB2YXIgdHJhbnNmb3JtUHJvcCA9IHdpbmRvdy50cmFuc2Zvcm1Qcm9wIHx8IChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdGVzdEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGlmICh0ZXN0RWwuc3R5bGUudHJhbnNmb3JtID09PSBudWxsKSB7XG4gICAgICAgICAgdmFyIHZlbmRvcnMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnXTtcbiAgICAgICAgICBmb3IgKHZhciB2ZW5kb3IgaW4gdmVuZG9ycykge1xuICAgICAgICAgICAgaWYgKHRlc3RFbC5zdHlsZVsgdmVuZG9yc1t2ZW5kb3JdICsgJ1RyYW5zZm9ybScgXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiB2ZW5kb3JzW3ZlbmRvcl0gKyAnVHJhbnNmb3JtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICd0cmFuc2Zvcm0nO1xuICAgICAgfSkoKTtcblxuICAgIC8vIERlZmF1bHQgU2V0dGluZ3NcbiAgICBzZWxmLm9wdGlvbnMgPSB7XG4gICAgICBzcGVlZDogLTIsXG4gICAgICBjZW50ZXI6IGZhbHNlLFxuICAgICAgd3JhcHBlcjogbnVsbCxcbiAgICAgIHJlbGF0aXZlVG9XcmFwcGVyOiBmYWxzZSxcbiAgICAgIHJvdW5kOiB0cnVlLFxuICAgICAgdmVydGljYWw6IHRydWUsXG4gICAgICBob3Jpem9udGFsOiBmYWxzZSxcbiAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbigpIHt9LFxuICAgIH07XG5cbiAgICAvLyBVc2VyIGRlZmluZWQgb3B0aW9ucyAobWlnaHQgaGF2ZSBtb3JlIGluIHRoZSBmdXR1cmUpXG4gICAgaWYgKG9wdGlvbnMpe1xuICAgICAgT2JqZWN0LmtleXMob3B0aW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpe1xuICAgICAgICBzZWxmLm9wdGlvbnNba2V5XSA9IG9wdGlvbnNba2V5XTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIEJ5IGRlZmF1bHQsIHJlbGxheCBjbGFzc1xuICAgIGlmICghZWwpIHtcbiAgICAgIGVsID0gJy5yZWxsYXgnO1xuICAgIH1cblxuICAgIC8vIGNoZWNrIGlmIGVsIGlzIGEgY2xhc3NOYW1lIG9yIGEgbm9kZVxuICAgIHZhciBlbGVtZW50cyA9IHR5cGVvZiBlbCA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsKSA6IFtlbF07XG5cbiAgICAvLyBOb3cgcXVlcnkgc2VsZWN0b3JcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgc2VsZi5lbGVtcyA9IGVsZW1lbnRzO1xuICAgIH1cblxuICAgIC8vIFRoZSBlbGVtZW50cyBkb24ndCBleGlzdFxuICAgIGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGVsZW1lbnRzIHlvdSdyZSB0cnlpbmcgdG8gc2VsZWN0IGRvbid0IGV4aXN0LlwiKTtcbiAgICB9XG5cbiAgICAvLyBIYXMgYSB3cmFwcGVyIGFuZCBpdCBleGlzdHNcbiAgICBpZiAoc2VsZi5vcHRpb25zLndyYXBwZXIpIHtcbiAgICAgIGlmICghc2VsZi5vcHRpb25zLndyYXBwZXIubm9kZVR5cGUpIHtcbiAgICAgICAgdmFyIHdyYXBwZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGYub3B0aW9ucy53cmFwcGVyKTtcblxuICAgICAgICBpZiAod3JhcHBlcikge1xuICAgICAgICAgIHNlbGYub3B0aW9ucy53cmFwcGVyID0gd3JhcHBlcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgd3JhcHBlciB5b3UncmUgdHJ5aW5nIHRvIHVzZSBkb24ndCBleGlzdC5cIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vIEdldCBhbmQgY2FjaGUgaW5pdGlhbCBwb3NpdGlvbiBvZiBhbGwgZWxlbWVudHNcbiAgICB2YXIgY2FjaGVCbG9ja3MgPSBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5lbGVtcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBibG9jayA9IGNyZWF0ZUJsb2NrKHNlbGYuZWxlbXNbaV0pO1xuICAgICAgICBibG9ja3MucHVzaChibG9jayk7XG4gICAgICB9XG4gICAgfTtcblxuXG4gICAgLy8gTGV0J3Mga2ljayB0aGlzIHNjcmlwdCBvZmZcbiAgICAvLyBCdWlsZCBhcnJheSBmb3IgY2FjaGVkIGVsZW1lbnQgdmFsdWVzXG4gICAgdmFyIGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYmxvY2tzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgc2VsZi5lbGVtc1tpXS5zdHlsZS5jc3NUZXh0ID0gYmxvY2tzW2ldLnN0eWxlO1xuICAgICAgfVxuXG4gICAgICBibG9ja3MgPSBbXTtcblxuICAgICAgc2NyZWVuWSA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHNjcmVlblggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgIHNldFBvc2l0aW9uKCk7XG5cbiAgICAgIGNhY2hlQmxvY2tzKCk7XG5cbiAgICAgIC8vIElmIHBhdXNlZCwgdW5wYXVzZSBhbmQgc2V0IGxpc3RlbmVyIGZvciB3aW5kb3cgcmVzaXppbmcgZXZlbnRzXG4gICAgICBpZiAocGF1c2UpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGluaXQpO1xuICAgICAgICBwYXVzZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgYW5pbWF0ZSgpO1xuICAgIH07XG5cbiAgICAvLyBXZSB3YW50IHRvIGNhY2hlIHRoZSBwYXJhbGxheCBibG9ja3MnXG4gICAgLy8gdmFsdWVzOiBiYXNlLCB0b3AsIGhlaWdodCwgc3BlZWRcbiAgICAvLyBlbDogaXMgZG9tIG9iamVjdCwgcmV0dXJuOiBlbCBjYWNoZSB2YWx1ZXNcbiAgICB2YXIgY3JlYXRlQmxvY2sgPSBmdW5jdGlvbihlbCkge1xuICAgICAgdmFyIGRhdGFQZXJjZW50YWdlID0gZWwuZ2V0QXR0cmlidXRlKCAnZGF0YS1yZWxsYXgtcGVyY2VudGFnZScgKTtcbiAgICAgIHZhciBkYXRhU3BlZWQgPSBlbC5nZXRBdHRyaWJ1dGUoICdkYXRhLXJlbGxheC1zcGVlZCcgKTtcbiAgICAgIHZhciBkYXRhWmluZGV4ID0gZWwuZ2V0QXR0cmlidXRlKCAnZGF0YS1yZWxsYXgtemluZGV4JyApIHx8IDA7XG5cbiAgICAgIC8vIGluaXRpYWxpemluZyBhdCBzY3JvbGxZID0gMCAodG9wIG9mIGJyb3dzZXIpLCBzY3JvbGxYID0gMCAobGVmdCBvZiBicm93c2VyKVxuICAgICAgLy8gZW5zdXJlcyBlbGVtZW50cyBhcmUgcG9zaXRpb25lZCBiYXNlZCBvbiBIVE1MIGxheW91dC5cbiAgICAgIC8vXG4gICAgICAvLyBJZiB0aGUgZWxlbWVudCBoYXMgdGhlIHBlcmNlbnRhZ2UgYXR0cmlidXRlLCB0aGUgcG9zWSBhbmQgcG9zWCBuZWVkcyB0byBiZVxuICAgICAgLy8gdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uJ3MgdmFsdWUsIHNvIHRoYXQgdGhlIGVsZW1lbnRzIGFyZSBzdGlsbCBwb3NpdGlvbmVkIGJhc2VkIG9uIEhUTUwgbGF5b3V0XG4gICAgICB2YXIgd3JhcHBlclBvc1kgPSBzZWxmLm9wdGlvbnMud3JhcHBlciA/IHNlbGYub3B0aW9ucy53cmFwcGVyLnNjcm9sbFRvcCA6ICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk7XG4gICAgICAvLyBJZiB0aGUgb3B0aW9uIHJlbGF0aXZlVG9XcmFwcGVyIGlzIHRydWUsIHVzZSB0aGUgd3JhcHBlcnMgb2Zmc2V0IHRvIHRvcCwgc3VidHJhY3RlZCBmcm9tIHRoZSBjdXJyZW50IHBhZ2Ugc2Nyb2xsLlxuICAgICAgaWYgKHNlbGYub3B0aW9ucy5yZWxhdGl2ZVRvV3JhcHBlcikge1xuICAgICAgICB2YXIgc2Nyb2xsUG9zWSA9ICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCk7XG4gICAgICAgIHdyYXBwZXJQb3NZID0gc2Nyb2xsUG9zWSAtIHNlbGYub3B0aW9ucy53cmFwcGVyLm9mZnNldFRvcDtcbiAgICAgIH1cbiAgICAgIHZhciBwb3NZID0gc2VsZi5vcHRpb25zLnZlcnRpY2FsID8gKCBkYXRhUGVyY2VudGFnZSB8fCBzZWxmLm9wdGlvbnMuY2VudGVyID8gd3JhcHBlclBvc1kgOiAwICkgOiAwO1xuICAgICAgdmFyIHBvc1ggPSBzZWxmLm9wdGlvbnMuaG9yaXpvbnRhbCA/ICggZGF0YVBlcmNlbnRhZ2UgfHwgc2VsZi5vcHRpb25zLmNlbnRlciA/ICh3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxMZWZ0KSA6IDAgKSA6IDA7XG5cbiAgICAgIHZhciBibG9ja1RvcCA9IHBvc1kgKyBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgICB2YXIgYmxvY2tIZWlnaHQgPSBlbC5jbGllbnRIZWlnaHQgfHwgZWwub2Zmc2V0SGVpZ2h0IHx8IGVsLnNjcm9sbEhlaWdodDtcblxuICAgICAgdmFyIGJsb2NrTGVmdCA9IHBvc1ggKyBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O1xuICAgICAgdmFyIGJsb2NrV2lkdGggPSBlbC5jbGllbnRXaWR0aCB8fCBlbC5vZmZzZXRXaWR0aCB8fCBlbC5zY3JvbGxXaWR0aDtcblxuICAgICAgLy8gYXBwYXJlbnRseSBwYXJhbGxheCBlcXVhdGlvbiBldmVyeW9uZSB1c2VzXG4gICAgICB2YXIgcGVyY2VudGFnZVkgPSBkYXRhUGVyY2VudGFnZSA/IGRhdGFQZXJjZW50YWdlIDogKHBvc1kgLSBibG9ja1RvcCArIHNjcmVlblkpIC8gKGJsb2NrSGVpZ2h0ICsgc2NyZWVuWSk7XG4gICAgICB2YXIgcGVyY2VudGFnZVggPSBkYXRhUGVyY2VudGFnZSA/IGRhdGFQZXJjZW50YWdlIDogKHBvc1ggLSBibG9ja0xlZnQgKyBzY3JlZW5YKSAvIChibG9ja1dpZHRoICsgc2NyZWVuWCk7XG4gICAgICBpZihzZWxmLm9wdGlvbnMuY2VudGVyKXsgcGVyY2VudGFnZVggPSAwLjU7IHBlcmNlbnRhZ2VZID0gMC41OyB9XG5cbiAgICAgIC8vIE9wdGlvbmFsIGluZGl2aWR1YWwgYmxvY2sgc3BlZWQgYXMgZGF0YSBhdHRyLCBvdGhlcndpc2UgZ2xvYmFsIHNwZWVkXG4gICAgICB2YXIgc3BlZWQgPSBkYXRhU3BlZWQgPyBkYXRhU3BlZWQgOiBzZWxmLm9wdGlvbnMuc3BlZWQ7XG5cbiAgICAgIHZhciBiYXNlcyA9IHVwZGF0ZVBvc2l0aW9uKHBlcmNlbnRhZ2VYLCBwZXJjZW50YWdlWSwgc3BlZWQpO1xuXG4gICAgICAvLyB+flN0b3JlIG5vbi10cmFuc2xhdGUzZCB0cmFuc2Zvcm1zfn5cbiAgICAgIC8vIFN0b3JlIGlubGluZSBzdHlsZXMgYW5kIGV4dHJhY3QgdHJhbnNmb3Jtc1xuICAgICAgdmFyIHN0eWxlID0gZWwuc3R5bGUuY3NzVGV4dDtcbiAgICAgIHZhciB0cmFuc2Zvcm0gPSAnJztcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUncyBhbiBpbmxpbmUgc3R5bGVkIHRyYW5zZm9ybVxuICAgICAgaWYgKHN0eWxlLmluZGV4T2YoJ3RyYW5zZm9ybScpID49IDApIHtcbiAgICAgICAgLy8gR2V0IHRoZSBpbmRleCBvZiB0aGUgdHJhbnNmb3JtXG4gICAgICAgIHZhciBpbmRleCA9IHN0eWxlLmluZGV4T2YoJ3RyYW5zZm9ybScpO1xuXG4gICAgICAgIC8vIFRyaW0gdGhlIHN0eWxlIHRvIHRoZSB0cmFuc2Zvcm0gcG9pbnQgYW5kIGdldCB0aGUgZm9sbG93aW5nIHNlbWktY29sb24gaW5kZXhcbiAgICAgICAgdmFyIHRyaW1tZWRTdHlsZSA9IHN0eWxlLnNsaWNlKGluZGV4KTtcbiAgICAgICAgdmFyIGRlbGltaXRlciA9IHRyaW1tZWRTdHlsZS5pbmRleE9mKCc7Jyk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIFwidHJhbnNmb3JtXCIgc3RyaW5nIGFuZCBzYXZlIHRoZSBhdHRyaWJ1dGVcbiAgICAgICAgaWYgKGRlbGltaXRlcikge1xuICAgICAgICAgIHRyYW5zZm9ybSA9IFwiIFwiICsgdHJpbW1lZFN0eWxlLnNsaWNlKDExLCBkZWxpbWl0ZXIpLnJlcGxhY2UoL1xccy9nLCcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0cmFuc2Zvcm0gPSBcIiBcIiArIHRyaW1tZWRTdHlsZS5zbGljZSgxMSkucmVwbGFjZSgvXFxzL2csJycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGJhc2VYOiBiYXNlcy54LFxuICAgICAgICBiYXNlWTogYmFzZXMueSxcbiAgICAgICAgdG9wOiBibG9ja1RvcCxcbiAgICAgICAgbGVmdDogYmxvY2tMZWZ0LFxuICAgICAgICBoZWlnaHQ6IGJsb2NrSGVpZ2h0LFxuICAgICAgICB3aWR0aDogYmxvY2tXaWR0aCxcbiAgICAgICAgc3BlZWQ6IHNwZWVkLFxuICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNmb3JtLFxuICAgICAgICB6aW5kZXg6IGRhdGFaaW5kZXhcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIHNldCBzY3JvbGwgcG9zaXRpb24gKHBvc1ksIHBvc1gpXG4gICAgLy8gc2lkZSBlZmZlY3QgbWV0aG9kIGlzIG5vdCBpZGVhbCwgYnV0IG9rYXkgZm9yIG5vd1xuICAgIC8vIHJldHVybnMgdHJ1ZSBpZiB0aGUgc2Nyb2xsIGNoYW5nZWQsIGZhbHNlIGlmIG5vdGhpbmcgaGFwcGVuZWRcbiAgICB2YXIgc2V0UG9zaXRpb24gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvbGRZID0gcG9zWTtcbiAgICAgIHZhciBvbGRYID0gcG9zWDtcblxuICAgICAgcG9zWSA9IHNlbGYub3B0aW9ucy53cmFwcGVyID8gc2VsZi5vcHRpb25zLndyYXBwZXIuc2Nyb2xsVG9wIDogKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCB8fCBkb2N1bWVudC5ib2R5LnBhcmVudE5vZGUgfHwgZG9jdW1lbnQuYm9keSkuc2Nyb2xsVG9wIHx8IHdpbmRvdy5wYWdlWU9mZnNldDtcbiAgICAgIHBvc1ggPSBzZWxmLm9wdGlvbnMud3JhcHBlciA/IHNlbGYub3B0aW9ucy53cmFwcGVyLnNjcm9sbExlZnQgOiAoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50IHx8IGRvY3VtZW50LmJvZHkucGFyZW50Tm9kZSB8fCBkb2N1bWVudC5ib2R5KS5zY3JvbGxMZWZ0IHx8IHdpbmRvdy5wYWdlWE9mZnNldDtcbiAgICAgIC8vIElmIG9wdGlvbiByZWxhdGl2ZVRvV3JhcHBlciBpcyB0cnVlLCB1c2UgcmVsYXRpdmUgd3JhcHBlciB2YWx1ZSBpbnN0ZWFkLlxuICAgICAgaWYgKHNlbGYub3B0aW9ucy5yZWxhdGl2ZVRvV3JhcHBlcikge1xuICAgICAgICB2YXIgc2Nyb2xsUG9zWSA9IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHkpLnNjcm9sbFRvcCB8fCB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICAgIHBvc1kgPSBzY3JvbGxQb3NZIC0gc2VsZi5vcHRpb25zLndyYXBwZXIub2Zmc2V0VG9wO1xuICAgICAgfVxuXG5cbiAgICAgIGlmIChvbGRZICE9IHBvc1kgJiYgc2VsZi5vcHRpb25zLnZlcnRpY2FsKSB7XG4gICAgICAgIC8vIHNjcm9sbCBjaGFuZ2VkLCByZXR1cm4gdHJ1ZVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9sZFggIT0gcG9zWCAmJiBzZWxmLm9wdGlvbnMuaG9yaXpvbnRhbCkge1xuICAgICAgICAvLyBzY3JvbGwgY2hhbmdlZCwgcmV0dXJuIHRydWVcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIC8vIHNjcm9sbCBkaWQgbm90IGNoYW5nZVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG5cbiAgICAvLyBBaGggYSBwdXJlIGZ1bmN0aW9uLCBnZXRzIG5ldyB0cmFuc2Zvcm0gdmFsdWVcbiAgICAvLyBiYXNlZCBvbiBzY3JvbGxQb3NpdGlvbiBhbmQgc3BlZWRcbiAgICAvLyBBbGxvdyBmb3IgZGVjaW1hbCBwaXhlbCB2YWx1ZXNcbiAgICB2YXIgdXBkYXRlUG9zaXRpb24gPSBmdW5jdGlvbihwZXJjZW50YWdlWCwgcGVyY2VudGFnZVksIHNwZWVkKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB2YXIgdmFsdWVYID0gKHNwZWVkICogKDEwMCAqICgxIC0gcGVyY2VudGFnZVgpKSk7XG4gICAgICB2YXIgdmFsdWVZID0gKHNwZWVkICogKDEwMCAqICgxIC0gcGVyY2VudGFnZVkpKSk7XG5cbiAgICAgIHJlc3VsdC54ID0gc2VsZi5vcHRpb25zLnJvdW5kID8gTWF0aC5yb3VuZCh2YWx1ZVgpIDogTWF0aC5yb3VuZCh2YWx1ZVggKiAxMDApIC8gMTAwO1xuICAgICAgcmVzdWx0LnkgPSBzZWxmLm9wdGlvbnMucm91bmQgPyBNYXRoLnJvdW5kKHZhbHVlWSkgOiBNYXRoLnJvdW5kKHZhbHVlWSAqIDEwMCkgLyAxMDA7XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcblxuICAgIC8vIExvb3BcbiAgICB2YXIgdXBkYXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoc2V0UG9zaXRpb24oKSAmJiBwYXVzZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYW5pbWF0ZSgpO1xuICAgICAgfVxuXG4gICAgICAvLyBsb29wIGFnYWluXG4gICAgICBsb29wSWQgPSBsb29wKHVwZGF0ZSk7XG4gICAgfTtcblxuICAgIC8vIFRyYW5zZm9ybTNkIG9uIHBhcmFsbGF4IGVsZW1lbnRcbiAgICB2YXIgYW5pbWF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHBvc2l0aW9ucztcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZi5lbGVtcy5sZW5ndGg7IGkrKyl7XG4gICAgICAgIHZhciBwZXJjZW50YWdlWSA9ICgocG9zWSAtIGJsb2Nrc1tpXS50b3AgKyBzY3JlZW5ZKSAvIChibG9ja3NbaV0uaGVpZ2h0ICsgc2NyZWVuWSkpO1xuICAgICAgICB2YXIgcGVyY2VudGFnZVggPSAoKHBvc1ggLSBibG9ja3NbaV0ubGVmdCArIHNjcmVlblgpIC8gKGJsb2Nrc1tpXS53aWR0aCArIHNjcmVlblgpKTtcblxuICAgICAgICAvLyBTdWJ0cmFjdGluZyBpbml0aWFsaXplIHZhbHVlLCBzbyBlbGVtZW50IHN0YXlzIGluIHNhbWUgc3BvdCBhcyBIVE1MXG4gICAgICAgIHBvc2l0aW9ucyA9IHVwZGF0ZVBvc2l0aW9uKHBlcmNlbnRhZ2VYLCBwZXJjZW50YWdlWSwgYmxvY2tzW2ldLnNwZWVkKTsvLyAtIGJsb2Nrc1tpXS5iYXNlWDtcbiAgICAgICAgdmFyIHBvc2l0aW9uWSA9IHBvc2l0aW9ucy55IC0gYmxvY2tzW2ldLmJhc2VZO1xuICAgICAgICB2YXIgcG9zaXRpb25YID0gcG9zaXRpb25zLnggLSBibG9ja3NbaV0uYmFzZVg7XG5cbiAgICAgICAgdmFyIHppbmRleCA9IGJsb2Nrc1tpXS56aW5kZXg7XG5cbiAgICAgICAgLy8gTW92ZSB0aGF0IGVsZW1lbnRcbiAgICAgICAgLy8gKFNldCB0aGUgbmV3IHRyYW5zbGF0aW9uIGFuZCBhcHBlbmQgaW5pdGlhbCBpbmxpbmUgdHJhbnNmb3Jtcy4pXG4gICAgICAgIHZhciB0cmFuc2xhdGUgPSAndHJhbnNsYXRlM2QoJyArIChzZWxmLm9wdGlvbnMuaG9yaXpvbnRhbCA/IHBvc2l0aW9uWCA6ICcwJykgKyAncHgsJyArIChzZWxmLm9wdGlvbnMudmVydGljYWwgPyBwb3NpdGlvblkgOiAnMCcpICsgJ3B4LCcgKyB6aW5kZXggKyAncHgpICcgKyBibG9ja3NbaV0udHJhbnNmb3JtO1xuICAgICAgICBzZWxmLmVsZW1zW2ldLnN0eWxlW3RyYW5zZm9ybVByb3BdID0gdHJhbnNsYXRlO1xuICAgICAgfVxuICAgICAgc2VsZi5vcHRpb25zLmNhbGxiYWNrKHBvc2l0aW9ucyk7XG4gICAgfTtcblxuICAgIHNlbGYuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzZWxmLmVsZW1zLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgc2VsZi5lbGVtc1tpXS5zdHlsZS5jc3NUZXh0ID0gYmxvY2tzW2ldLnN0eWxlO1xuICAgICAgfVxuXG4gICAgICAvLyBSZW1vdmUgcmVzaXplIGV2ZW50IGxpc3RlbmVyIGlmIG5vdCBwYXVzZSwgYW5kIHBhdXNlXG4gICAgICBpZiAoIXBhdXNlKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCBpbml0KTtcbiAgICAgICAgcGF1c2UgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDbGVhciB0aGUgYW5pbWF0aW9uIGxvb3AgdG8gcHJldmVudCBwb3NzaWJsZSBtZW1vcnkgbGVha1xuICAgICAgY2xlYXJMb29wKGxvb3BJZCk7XG4gICAgICBsb29wSWQgPSBudWxsO1xuICAgIH07XG5cbiAgICAvLyBJbml0XG4gICAgaW5pdCgpO1xuXG4gICAgLy8gU3RhcnQgdGhlIGxvb3BcbiAgICB1cGRhdGUoKTtcblxuICAgIC8vIEFsbG93IHRvIHJlY2FsY3VsYXRlIHRoZSBpbml0aWFsIHZhbHVlcyB3aGVuZXZlciB3ZSB3YW50XG4gICAgc2VsZi5yZWZyZXNoID0gaW5pdDtcblxuICAgIHJldHVybiBzZWxmO1xuICB9O1xuICByZXR1cm4gUmVsbGF4O1xufSkpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBqUXVlcnk7IiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiY29uc3QgZG9jTW9kYWxCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvYy1jYXJkLXBhZ2VfX2J1dHRvbicpO1xyXG5jb25zdCBtb2RhbENvbnRlbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZG9jLW91dHB1dCcpO1xyXG5sZXQgZG9jTmFtZTtcclxuXHJcblxyXG5jb25zdCBwYXRpZW50Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXRpZW50LWZvcm0nKTtcclxuXHJcbmlmKHBhdGllbnRGb3JtKSB7XHJcbiAgcGF0aWVudEZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgdmFsaWRhdGVGb3JtKTtcclxufVxyXG5cclxuXHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUZvcm0oZSkge1xyXG4gIGUucHJldmVudERlZmF1bHQoKTtcclxuICBjb25zdCBuYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3BhdGllbnQtbmFtZScpO1xyXG4gIGNvbnN0IHJlID0gL15bQS1aYS160JAt0K/QsC3Rj117MywyMH0kLztcclxuXHJcbiAgbGV0IHZhbGlkTmFtZTtcclxuICBsZXQgdmFsaWRQaG9uZTtcclxuICBcclxuXHJcbiAgaWYoIXJlLnRlc3QobmFtZS52YWx1ZSkpIHtcclxuICAgIG5hbWUuY2xhc3NMaXN0LmFkZCgnaXMtaW52YWxpZCcpO1xyXG5cclxuICB9IGVsc2Uge1xyXG4gICAgbmFtZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1pbnZhbGlkJyk7XHJcbiAgICB2YWxpZE5hbWUgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcGhvbmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGF0aWVudC1waG9uZScpO1xyXG4gIGNvbnN0IHJlMiA9IC9bMC05XS87XHJcblxyXG5cclxuICBpZighcmUyLnRlc3QocGhvbmUudmFsdWUpKSB7XHJcbiAgICBwaG9uZS5jbGFzc0xpc3QuYWRkKCdpcy1pbnZhbGlkJyk7XHJcblxyXG4gIH0gZWxzZSB7XHJcbiAgICBwaG9uZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1pbnZhbGlkJyk7XHJcbiAgICB2YWxpZFBob25lID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGlmKHZhbGlkUGhvbmUgJiYgdmFsaWROYW1lKSB7XHJcbiAgICBjb25zb2xlLmxvZyh2YWxpZFBob25lLCB2YWxpZE5hbWUgKTtcclxuICAgIHBhdGllbnRGb3JtLnN1Ym1pdCgpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbi8vIEVWRU5UIExJU1RJTkVSXHJcblxyXG5kb2NNb2RhbEJ0bnMuZm9yRWFjaChidG4gPT4ge1xyXG4gIGJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICBjb25zdCBkb2MgPSBidG4uZGF0YXNldC5kb2M7XHJcbiAgICBnZXREb2MoZG9jKTtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5cclxuXHJcbi8vIEZFVENIXHJcbmZ1bmN0aW9uIGdldERvYyhkb2MpIHtcclxuICBmZXRjaCgnLi4vZG9jcy5qc29uJylcclxuICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcclxuICAgIC50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICBsZXQgZG9jT3V0cHV0O1xyXG4gICAgICBkYXRhLmZvckVhY2goZWxlbSA9PiB7XHJcbiAgICAgICAgaWYgKGVsZW0uaWQgPT09IGRvYykge1xyXG4gICAgICAgICAgZG9jT3V0cHV0ID0gZWxlbTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICBkaXNwbGF5RG9jKGRvY091dHB1dCk7XHJcbiAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuZnVuY3Rpb24gZGlzcGxheURvYyhkb2NPdXRwdXQpIHtcclxuICBtb2RhbENvbnRlbnQuaW5uZXJIVE1MID0gYFxyXG4gICAgPGltZyBjbGFzcz1cImRvYy1tb2RhbF9faW1nXCIgc3JjPVwiJHtkb2NPdXRwdXQuaW1nU3JjfVwiLz4gXHJcbiAgICA8aDMgY2xhc3M9XCJkb2MtbW9kYWxfX3RpdGxlXCI+JHtkb2NPdXRwdXQubmFtZX08L2gzPlxyXG4gICAgPGlucHV0IHR5cGU9XCJoaWRkZW5cIiBuYW1lPVwi0JTQvtC60YLQvtGAXCIgdmFsdWU9XCIke2RvY091dHB1dC5uYW1lfVwiIC8+XHJcbiAgYDtcclxufVxyXG5cclxuXHJcblxyXG5cclxuIiwidmFyIHdpbiA9IHdpbmRvdztcblxuZXhwb3J0IHZhciByYWYgPSB3aW4ucmVxdWVzdEFuaW1hdGlvbkZyYW1lXG4gIHx8IHdpbi53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgfHwgd2luLm1velJlcXVlc3RBbmltYXRpb25GcmFtZVxuICB8fCB3aW4ubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgfHwgZnVuY3Rpb24oY2IpIHsgcmV0dXJuIHNldFRpbWVvdXQoY2IsIDE2KTsgfTtcbiIsInZhciB3aW4gPSB3aW5kb3c7XG5cbmV4cG9ydCB2YXIgY2FmID0gd2luLmNhbmNlbEFuaW1hdGlvbkZyYW1lXG4gIHx8IHdpbi5tb3pDYW5jZWxBbmltYXRpb25GcmFtZVxuICB8fCBmdW5jdGlvbihpZCl7IGNsZWFyVGltZW91dChpZCk7IH07XG4iLCJleHBvcnQgZnVuY3Rpb24gZXh0ZW5kKCkge1xuICB2YXIgb2JqLCBuYW1lLCBjb3B5LFxuICAgICAgdGFyZ2V0ID0gYXJndW1lbnRzWzBdIHx8IHt9LFxuICAgICAgaSA9IDEsXG4gICAgICBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoO1xuXG4gIGZvciAoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoKG9iaiA9IGFyZ3VtZW50c1tpXSkgIT09IG51bGwpIHtcbiAgICAgIGZvciAobmFtZSBpbiBvYmopIHtcbiAgICAgICAgY29weSA9IG9ialtuYW1lXTtcblxuICAgICAgICBpZiAodGFyZ2V0ID09PSBjb3B5KSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gZWxzZSBpZiAoY29weSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGFyZ2V0W25hbWVdID0gY29weTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufSIsImV4cG9ydCBmdW5jdGlvbiBjaGVja1N0b3JhZ2VWYWx1ZSAodmFsdWUpIHtcbiAgcmV0dXJuIFsndHJ1ZScsICdmYWxzZSddLmluZGV4T2YodmFsdWUpID49IDAgPyBKU09OLnBhcnNlKHZhbHVlKSA6IHZhbHVlO1xufSIsImV4cG9ydCBmdW5jdGlvbiBzZXRMb2NhbFN0b3JhZ2Uoc3RvcmFnZSwga2V5LCB2YWx1ZSwgYWNjZXNzKSB7XG4gIGlmIChhY2Nlc3MpIHtcbiAgICB0cnkgeyBzdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7IH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRCb2R5ICgpIHtcbiAgdmFyIGRvYyA9IGRvY3VtZW50LFxuICAgICAgYm9keSA9IGRvYy5ib2R5O1xuXG4gIGlmICghYm9keSkge1xuICAgIGJvZHkgPSBkb2MuY3JlYXRlRWxlbWVudCgnYm9keScpO1xuICAgIGJvZHkuZmFrZSA9IHRydWU7XG4gIH1cblxuICByZXR1cm4gYm9keTtcbn0iLCJleHBvcnQgdmFyIGRvY0VsZW1lbnQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7IiwiaW1wb3J0IHsgZG9jRWxlbWVudCB9IGZyb20gJy4vZG9jRWxlbWVudC5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRGYWtlQm9keSAoYm9keSkge1xuICB2YXIgZG9jT3ZlcmZsb3cgPSAnJztcbiAgaWYgKGJvZHkuZmFrZSkge1xuICAgIGRvY092ZXJmbG93ID0gZG9jRWxlbWVudC5zdHlsZS5vdmVyZmxvdztcbiAgICAvL2F2b2lkIGNyYXNoaW5nIElFOCwgaWYgYmFja2dyb3VuZCBpbWFnZSBpcyB1c2VkXG4gICAgYm9keS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gICAgLy9TYWZhcmkgNS4xMy81LjEuNCBPU1ggc3RvcHMgbG9hZGluZyBpZiA6Oi13ZWJraXQtc2Nyb2xsYmFyIGlzIHVzZWQgYW5kIHNjcm9sbGJhcnMgYXJlIHZpc2libGVcbiAgICBib2R5LnN0eWxlLm92ZXJmbG93ID0gZG9jRWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgIGRvY0VsZW1lbnQuYXBwZW5kQ2hpbGQoYm9keSk7XG4gIH1cblxuICByZXR1cm4gZG9jT3ZlcmZsb3c7XG59IiwiaW1wb3J0IHsgZG9jRWxlbWVudCB9IGZyb20gJy4vZG9jRWxlbWVudC5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZXNldEZha2VCb2R5IChib2R5LCBkb2NPdmVyZmxvdykge1xuICBpZiAoYm9keS5mYWtlKSB7XG4gICAgYm9keS5yZW1vdmUoKTtcbiAgICBkb2NFbGVtZW50LnN0eWxlLm92ZXJmbG93ID0gZG9jT3ZlcmZsb3c7XG4gICAgLy8gVHJpZ2dlciBsYXlvdXQgc28ga2luZXRpYyBzY3JvbGxpbmcgaXNuJ3QgZGlzYWJsZWQgaW4gaU9TNitcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICBkb2NFbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgfVxufSIsIi8vIGNyb3NzIGJyb3dzZXJzIGFkZFJ1bGUgbWV0aG9kXG5pbXBvcnQgeyByYWYgfSBmcm9tICcuL3JhZi5qcyc7XG5leHBvcnQgZnVuY3Rpb24gYWRkQ1NTUnVsZShzaGVldCwgc2VsZWN0b3IsIHJ1bGVzLCBpbmRleCkge1xuICAvLyByZXR1cm4gcmFmKGZ1bmN0aW9uKCkge1xuICAgICdpbnNlcnRSdWxlJyBpbiBzaGVldCA/XG4gICAgICBzaGVldC5pbnNlcnRSdWxlKHNlbGVjdG9yICsgJ3snICsgcnVsZXMgKyAnfScsIGluZGV4KSA6XG4gICAgICBzaGVldC5hZGRSdWxlKHNlbGVjdG9yLCBydWxlcywgaW5kZXgpO1xuICAvLyB9KTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0Q3NzUnVsZXNMZW5ndGgoc2hlZXQpIHtcbiAgdmFyIHJ1bGUgPSAoJ2luc2VydFJ1bGUnIGluIHNoZWV0KSA/IHNoZWV0LmNzc1J1bGVzIDogc2hlZXQucnVsZXM7XG4gIHJldHVybiBydWxlLmxlbmd0aDtcbn0iLCIvLyBodHRwczovL3RvZGRtb3R0by5jb20vZGl0Y2gtdGhlLWFycmF5LWZvcmVhY2gtY2FsbC1ub2RlbGlzdC1oYWNrL1xuZXhwb3J0IGZ1bmN0aW9uIGZvckVhY2ggKGFyciwgY2FsbGJhY2ssIHNjb3BlKSB7XG4gIGZvciAodmFyIGkgPSAwLCBsID0gYXJyLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgIGNhbGxiYWNrLmNhbGwoc2NvcGUsIGFycltpXSwgaSk7XG4gIH1cbn0iLCJleHBvcnQgdmFyIGNsYXNzTGlzdFN1cHBvcnQgPSAnY2xhc3NMaXN0JyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdfJyk7IiwiaW1wb3J0IHsgY2xhc3NMaXN0U3VwcG9ydCB9IGZyb20gJy4vY2xhc3NMaXN0U3VwcG9ydC5qcyc7XG5cbnZhciBoYXNDbGFzcyA9IGNsYXNzTGlzdFN1cHBvcnQgP1xuICAgIGZ1bmN0aW9uIChlbCwgc3RyKSB7IHJldHVybiBlbC5jbGFzc0xpc3QuY29udGFpbnMoc3RyKTsgfSA6XG4gICAgZnVuY3Rpb24gKGVsLCBzdHIpIHsgcmV0dXJuIGVsLmNsYXNzTmFtZS5pbmRleE9mKHN0cikgPj0gMDsgfTtcblxuZXhwb3J0IHsgY2xhc3NMaXN0U3VwcG9ydCwgaGFzQ2xhc3MgfTsiLCJpbXBvcnQgeyBjbGFzc0xpc3RTdXBwb3J0LCBoYXNDbGFzcyB9IGZyb20gJy4vaGFzQ2xhc3MuanMnO1xudmFyIGFkZENsYXNzID0gY2xhc3NMaXN0U3VwcG9ydCA/XG4gICAgZnVuY3Rpb24gKGVsLCBzdHIpIHtcbiAgICAgIGlmICghaGFzQ2xhc3MoZWwsICBzdHIpKSB7IGVsLmNsYXNzTGlzdC5hZGQoc3RyKTsgfVxuICAgIH0gOlxuICAgIGZ1bmN0aW9uIChlbCwgc3RyKSB7XG4gICAgICBpZiAoIWhhc0NsYXNzKGVsLCAgc3RyKSkgeyBlbC5jbGFzc05hbWUgKz0gJyAnICsgc3RyOyB9XG4gICAgfTtcblxuZXhwb3J0IHsgYWRkQ2xhc3MgfTsiLCJpbXBvcnQgeyBjbGFzc0xpc3RTdXBwb3J0LCBoYXNDbGFzcyB9IGZyb20gJy4vaGFzQ2xhc3MuanMnO1xudmFyIHJlbW92ZUNsYXNzID0gY2xhc3NMaXN0U3VwcG9ydCA/XG4gICAgZnVuY3Rpb24gKGVsLCBzdHIpIHtcbiAgICAgIGlmIChoYXNDbGFzcyhlbCwgIHN0cikpIHsgZWwuY2xhc3NMaXN0LnJlbW92ZShzdHIpOyB9XG4gICAgfSA6XG4gICAgZnVuY3Rpb24gKGVsLCBzdHIpIHtcbiAgICAgIGlmIChoYXNDbGFzcyhlbCwgc3RyKSkgeyBlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZShzdHIsICcnKTsgfVxuICAgIH07XG5cbmV4cG9ydCB7IHJlbW92ZUNsYXNzIH07IiwiZXhwb3J0IGZ1bmN0aW9uIGhhc0F0dHIoZWwsIGF0dHIpIHtcbiAgcmV0dXJuIGVsLmhhc0F0dHJpYnV0ZShhdHRyKTtcbn0iLCJleHBvcnQgZnVuY3Rpb24gZ2V0QXR0cihlbCwgYXR0cikge1xuICByZXR1cm4gZWwuZ2V0QXR0cmlidXRlKGF0dHIpO1xufSIsImV4cG9ydCBmdW5jdGlvbiBpc05vZGVMaXN0KGVsKSB7XG4gIC8vIE9ubHkgTm9kZUxpc3QgaGFzIHRoZSBcIml0ZW0oKVwiIGZ1bmN0aW9uXG4gIHJldHVybiB0eXBlb2YgZWwuaXRlbSAhPT0gXCJ1bmRlZmluZWRcIjsgXG59IiwiaW1wb3J0IHsgaXNOb2RlTGlzdCB9IGZyb20gXCIuL2lzTm9kZUxpc3QuanNcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNldEF0dHJzKGVscywgYXR0cnMpIHtcbiAgZWxzID0gKGlzTm9kZUxpc3QoZWxzKSB8fCBlbHMgaW5zdGFuY2VvZiBBcnJheSkgPyBlbHMgOiBbZWxzXTtcbiAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhdHRycykgIT09ICdbb2JqZWN0IE9iamVjdF0nKSB7IHJldHVybjsgfVxuXG4gIGZvciAodmFyIGkgPSBlbHMubGVuZ3RoOyBpLS07KSB7XG4gICAgZm9yKHZhciBrZXkgaW4gYXR0cnMpIHtcbiAgICAgIGVsc1tpXS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyc1trZXldKTtcbiAgICB9XG4gIH1cbn0iLCJpbXBvcnQgeyBpc05vZGVMaXN0IH0gZnJvbSBcIi4vaXNOb2RlTGlzdC5qc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlQXR0cnMoZWxzLCBhdHRycykge1xuICBlbHMgPSAoaXNOb2RlTGlzdChlbHMpIHx8IGVscyBpbnN0YW5jZW9mIEFycmF5KSA/IGVscyA6IFtlbHNdO1xuICBhdHRycyA9IChhdHRycyBpbnN0YW5jZW9mIEFycmF5KSA/IGF0dHJzIDogW2F0dHJzXTtcblxuICB2YXIgYXR0ckxlbmd0aCA9IGF0dHJzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IGVscy5sZW5ndGg7IGktLTspIHtcbiAgICBmb3IgKHZhciBqID0gYXR0ckxlbmd0aDsgai0tOykge1xuICAgICAgZWxzW2ldLnJlbW92ZUF0dHJpYnV0ZShhdHRyc1tqXSk7XG4gICAgfVxuICB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGFycmF5RnJvbU5vZGVMaXN0IChubCkge1xuICB2YXIgYXJyID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsID0gbmwubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgYXJyLnB1c2gobmxbaV0pO1xuICB9XG4gIHJldHVybiBhcnI7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIGhpZGVFbGVtZW50KGVsLCBmb3JjZUhpZGUpIHtcbiAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgIT09ICdub25lJykgeyBlbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOyB9XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHNob3dFbGVtZW50KGVsLCBmb3JjZUhpZGUpIHtcbiAgaWYgKGVsLnN0eWxlLmRpc3BsYXkgPT09ICdub25lJykgeyBlbC5zdHlsZS5kaXNwbGF5ID0gJyc7IH1cbn0iLCJleHBvcnQgZnVuY3Rpb24gaXNWaXNpYmxlKGVsKSB7XG4gIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbCkuZGlzcGxheSAhPT0gJ25vbmUnO1xufSIsImV4cG9ydCBmdW5jdGlvbiB3aGljaFByb3BlcnR5KHByb3BzKXtcbiAgaWYgKHR5cGVvZiBwcm9wcyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgYXJyID0gW3Byb3BzXSxcbiAgICAgICAgUHJvcHMgPSBwcm9wcy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHByb3BzLnN1YnN0cigxKSxcbiAgICAgICAgcHJlZml4ZXMgPSBbJ1dlYmtpdCcsICdNb3onLCAnbXMnLCAnTyddO1xuICAgICAgICBcbiAgICBwcmVmaXhlcy5mb3JFYWNoKGZ1bmN0aW9uKHByZWZpeCkge1xuICAgICAgaWYgKHByZWZpeCAhPT0gJ21zJyB8fCBwcm9wcyA9PT0gJ3RyYW5zZm9ybScpIHtcbiAgICAgICAgYXJyLnB1c2gocHJlZml4ICsgUHJvcHMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcHJvcHMgPSBhcnI7XG4gIH1cblxuICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdmYWtlZWxlbWVudCcpLFxuICAgICAgbGVuID0gcHJvcHMubGVuZ3RoO1xuICBmb3IodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspe1xuICAgIHZhciBwcm9wID0gcHJvcHNbaV07XG4gICAgaWYoIGVsLnN0eWxlW3Byb3BdICE9PSB1bmRlZmluZWQgKXsgcmV0dXJuIHByb3A7IH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTsgLy8gZXhwbGljaXQgZm9yIGllOS1cbn1cbiIsIi8vIGdldCB0cmFuc2l0aW9uZW5kLCBhbmltYXRpb25lbmQgYmFzZWQgb24gdHJhbnNpdGlvbkR1cmF0aW9uXG4vLyBAcHJvcGluOiBzdHJpbmdcbi8vIEBwcm9wT3V0OiBzdHJpbmcsIGZpcnN0LWxldHRlciB1cHBlcmNhc2Vcbi8vIFVzYWdlOiBnZXRFbmRQcm9wZXJ0eSgnV2Via2l0VHJhbnNpdGlvbkR1cmF0aW9uJywgJ1RyYW5zaXRpb24nKSA9PiB3ZWJraXRUcmFuc2l0aW9uRW5kXG5leHBvcnQgZnVuY3Rpb24gZ2V0RW5kUHJvcGVydHkocHJvcEluLCBwcm9wT3V0KSB7XG4gIHZhciBlbmRQcm9wID0gZmFsc2U7XG4gIGlmICgvXldlYmtpdC8udGVzdChwcm9wSW4pKSB7XG4gICAgZW5kUHJvcCA9ICd3ZWJraXQnICsgcHJvcE91dCArICdFbmQnO1xuICB9IGVsc2UgaWYgKC9eTy8udGVzdChwcm9wSW4pKSB7XG4gICAgZW5kUHJvcCA9ICdvJyArIHByb3BPdXQgKyAnRW5kJztcbiAgfSBlbHNlIGlmIChwcm9wSW4pIHtcbiAgICBlbmRQcm9wID0gcHJvcE91dC50b0xvd2VyQ2FzZSgpICsgJ2VuZCc7XG4gIH1cbiAgcmV0dXJuIGVuZFByb3A7XG59IiwiLy8gVGVzdCB2aWEgYSBnZXR0ZXIgaW4gdGhlIG9wdGlvbnMgb2JqZWN0IHRvIHNlZSBpZiB0aGUgcGFzc2l2ZSBwcm9wZXJ0eSBpcyBhY2Nlc3NlZFxudmFyIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xudHJ5IHtcbiAgdmFyIG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICBzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuICAgIH1cbiAgfSk7XG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBudWxsLCBvcHRzKTtcbn0gY2F0Y2ggKGUpIHt9XG5leHBvcnQgdmFyIHBhc3NpdmVPcHRpb24gPSBzdXBwb3J0c1Bhc3NpdmUgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlOyIsImltcG9ydCB7IHBhc3NpdmVPcHRpb24gfSBmcm9tICcuL3Bhc3NpdmVPcHRpb24uanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnRzKGVsLCBvYmosIHByZXZlbnRTY3JvbGxpbmcpIHtcbiAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICB2YXIgb3B0aW9uID0gWyd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZSddLmluZGV4T2YocHJvcCkgPj0gMCAmJiAhcHJldmVudFNjcm9sbGluZyA/IHBhc3NpdmVPcHRpb24gOiBmYWxzZTtcbiAgICBlbC5hZGRFdmVudExpc3RlbmVyKHByb3AsIG9ialtwcm9wXSwgb3B0aW9uKTtcbiAgfVxufSIsImltcG9ydCB7IHBhc3NpdmVPcHRpb24gfSBmcm9tICcuL3Bhc3NpdmVPcHRpb24uanMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRXZlbnRzKGVsLCBvYmopIHtcbiAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICB2YXIgb3B0aW9uID0gWyd0b3VjaHN0YXJ0JywgJ3RvdWNobW92ZSddLmluZGV4T2YocHJvcCkgPj0gMCA/IHBhc3NpdmVPcHRpb24gOiBmYWxzZTtcbiAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKHByb3AsIG9ialtwcm9wXSwgb3B0aW9uKTtcbiAgfVxufSIsImV4cG9ydCBmdW5jdGlvbiBFdmVudHMoKSB7XG4gIHJldHVybiB7XG4gICAgdG9waWNzOiB7fSxcbiAgICBvbjogZnVuY3Rpb24gKGV2ZW50TmFtZSwgZm4pIHtcbiAgICAgIHRoaXMudG9waWNzW2V2ZW50TmFtZV0gPSB0aGlzLnRvcGljc1tldmVudE5hbWVdIHx8IFtdO1xuICAgICAgdGhpcy50b3BpY3NbZXZlbnROYW1lXS5wdXNoKGZuKTtcbiAgICB9LFxuICAgIG9mZjogZnVuY3Rpb24oZXZlbnROYW1lLCBmbikge1xuICAgICAgaWYgKHRoaXMudG9waWNzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRvcGljc1tldmVudE5hbWVdLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMudG9waWNzW2V2ZW50TmFtZV1baV0gPT09IGZuKSB7XG4gICAgICAgICAgICB0aGlzLnRvcGljc1tldmVudE5hbWVdLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZW1pdDogZnVuY3Rpb24gKGV2ZW50TmFtZSwgZGF0YSkge1xuICAgICAgZGF0YS50eXBlID0gZXZlbnROYW1lO1xuICAgICAgaWYgKHRoaXMudG9waWNzW2V2ZW50TmFtZV0pIHtcbiAgICAgICAgdGhpcy50b3BpY3NbZXZlbnROYW1lXS5mb3JFYWNoKGZ1bmN0aW9uKGZuKSB7XG4gICAgICAgICAgZm4oZGF0YSwgZXZlbnROYW1lKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufTsiLCJpbXBvcnQgeyByYWYgfSBmcm9tICcuL2hlbHBlcnMvcmFmLmpzJztcbmltcG9ydCB7IGNhZiB9IGZyb20gJy4vaGVscGVycy9jYWYuanMnO1xuaW1wb3J0IHsgZXh0ZW5kIH0gZnJvbSAnLi9oZWxwZXJzL2V4dGVuZC5qcyc7XG5pbXBvcnQgeyBjaGVja1N0b3JhZ2VWYWx1ZSB9IGZyb20gJy4vaGVscGVycy9jaGVja1N0b3JhZ2VWYWx1ZS5qcyc7XG5pbXBvcnQgeyBzZXRMb2NhbFN0b3JhZ2UgfSBmcm9tICcuL2hlbHBlcnMvc2V0TG9jYWxTdG9yYWdlLmpzJztcbmltcG9ydCB7IGdldFNsaWRlSWQgfSBmcm9tICcuL2hlbHBlcnMvZ2V0U2xpZGVJZC5qcyc7XG5pbXBvcnQgeyBjYWxjIH0gZnJvbSAnLi9oZWxwZXJzL2NhbGMuanMnO1xuaW1wb3J0IHsgcGVyY2VudGFnZUxheW91dCB9IGZyb20gJy4vaGVscGVycy9wZXJjZW50YWdlTGF5b3V0LmpzJztcbmltcG9ydCB7IG1lZGlhcXVlcnlTdXBwb3J0IH0gZnJvbSAnLi9oZWxwZXJzL21lZGlhcXVlcnlTdXBwb3J0LmpzJztcbmltcG9ydCB7IGNyZWF0ZVN0eWxlU2hlZXQgfSBmcm9tICcuL2hlbHBlcnMvY3JlYXRlU3R5bGVTaGVldC5qcyc7XG5pbXBvcnQgeyBhZGRDU1NSdWxlIH0gZnJvbSAnLi9oZWxwZXJzL2FkZENTU1J1bGUuanMnO1xuaW1wb3J0IHsgcmVtb3ZlQ1NTUnVsZSB9IGZyb20gJy4vaGVscGVycy9yZW1vdmVDU1NSdWxlLmpzJztcbmltcG9ydCB7IGdldENzc1J1bGVzTGVuZ3RoIH0gZnJvbSAnLi9oZWxwZXJzL2dldENzc1J1bGVzTGVuZ3RoLmpzJztcbmltcG9ydCB7IHRvRGVncmVlIH0gZnJvbSAnLi9oZWxwZXJzL3RvRGVncmVlLmpzJztcbmltcG9ydCB7IGdldFRvdWNoRGlyZWN0aW9uIH0gZnJvbSAnLi9oZWxwZXJzL2dldFRvdWNoRGlyZWN0aW9uLmpzJztcbmltcG9ydCB7IGZvckVhY2ggfSBmcm9tICcuL2hlbHBlcnMvZm9yRWFjaC5qcyc7XG5pbXBvcnQgeyBoYXNDbGFzcyB9IGZyb20gJy4vaGVscGVycy9oYXNDbGFzcy5qcyc7XG5pbXBvcnQgeyBhZGRDbGFzcyB9IGZyb20gJy4vaGVscGVycy9hZGRDbGFzcy5qcyc7XG5pbXBvcnQgeyByZW1vdmVDbGFzcyB9IGZyb20gJy4vaGVscGVycy9yZW1vdmVDbGFzcy5qcyc7XG5pbXBvcnQgeyBoYXNBdHRyIH0gZnJvbSAnLi9oZWxwZXJzL2hhc0F0dHIuanMnO1xuaW1wb3J0IHsgZ2V0QXR0ciB9IGZyb20gJy4vaGVscGVycy9nZXRBdHRyLmpzJztcbmltcG9ydCB7IHNldEF0dHJzIH0gZnJvbSAnLi9oZWxwZXJzL3NldEF0dHJzLmpzJztcbmltcG9ydCB7IHJlbW92ZUF0dHJzIH0gZnJvbSAnLi9oZWxwZXJzL3JlbW92ZUF0dHJzLmpzJztcbmltcG9ydCB7IGFycmF5RnJvbU5vZGVMaXN0IH0gZnJvbSAnLi9oZWxwZXJzL2FycmF5RnJvbU5vZGVMaXN0LmpzJztcbmltcG9ydCB7IGhpZGVFbGVtZW50IH0gZnJvbSAnLi9oZWxwZXJzL2hpZGVFbGVtZW50LmpzJztcbmltcG9ydCB7IHNob3dFbGVtZW50IH0gZnJvbSAnLi9oZWxwZXJzL3Nob3dFbGVtZW50LmpzJztcbmltcG9ydCB7IGlzVmlzaWJsZSB9IGZyb20gJy4vaGVscGVycy9pc1Zpc2libGUuanMnO1xuaW1wb3J0IHsgd2hpY2hQcm9wZXJ0eSB9IGZyb20gJy4vaGVscGVycy93aGljaFByb3BlcnR5LmpzJztcbmltcG9ydCB7IGhhczNEVHJhbnNmb3JtcyB9IGZyb20gJy4vaGVscGVycy9oYXMzRFRyYW5zZm9ybXMuanMnO1xuaW1wb3J0IHsgZ2V0RW5kUHJvcGVydHkgfSBmcm9tICcuL2hlbHBlcnMvZ2V0RW5kUHJvcGVydHkuanMnO1xuaW1wb3J0IHsgYWRkRXZlbnRzIH0gZnJvbSAnLi9oZWxwZXJzL2FkZEV2ZW50cy5qcyc7XG5pbXBvcnQgeyByZW1vdmVFdmVudHMgfSBmcm9tICcuL2hlbHBlcnMvcmVtb3ZlRXZlbnRzLmpzJztcbmltcG9ydCB7IEV2ZW50cyB9IGZyb20gJy4vaGVscGVycy9ldmVudHMuanMnO1xuaW1wb3J0IHsganNUcmFuc2Zvcm0gfSBmcm9tICcuL2hlbHBlcnMvanNUcmFuc2Zvcm0uanMnO1xuXG4vLyBwb2x5ZmlsbFxuaWYgKCFPYmplY3Qua2V5cykge1xuICBPYmplY3Qua2V5cyA9IGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIG5hbWUgaW4gb2JqZWN0KSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgbmFtZSkpIHtcbiAgICAgICAga2V5cy5wdXNoKG5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ga2V5cztcbiAgfTtcbn1cbmlmKCEoXCJyZW1vdmVcIiBpbiBFbGVtZW50LnByb3RvdHlwZSkpe1xuICBFbGVtZW50LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbigpe1xuICAgIGlmKHRoaXMucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgIH1cbiAgfTtcbn1cblxuZXhwb3J0IHZhciB0bnMgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBleHRlbmQoe1xuICAgIGNvbnRhaW5lcjogJy5zbGlkZXInLFxuICAgIG1vZGU6ICdjYXJvdXNlbCcsXG4gICAgYXhpczogJ2hvcml6b250YWwnLFxuICAgIGl0ZW1zOiAxLFxuICAgIGd1dHRlcjogMCxcbiAgICBlZGdlUGFkZGluZzogMCxcbiAgICBmaXhlZFdpZHRoOiBmYWxzZSxcbiAgICBhdXRvV2lkdGg6IGZhbHNlLFxuICAgIHZpZXdwb3J0TWF4OiBmYWxzZSxcbiAgICBzbGlkZUJ5OiAxLFxuICAgIGNlbnRlcjogZmFsc2UsXG4gICAgY29udHJvbHM6IHRydWUsXG4gICAgY29udHJvbHNQb3NpdGlvbjogJ3RvcCcsXG4gICAgY29udHJvbHNUZXh0OiBbJ3ByZXYnLCAnbmV4dCddLFxuICAgIGNvbnRyb2xzQ29udGFpbmVyOiBmYWxzZSxcbiAgICBwcmV2QnV0dG9uOiBmYWxzZSxcbiAgICBuZXh0QnV0dG9uOiBmYWxzZSxcbiAgICBuYXY6IHRydWUsXG4gICAgbmF2UG9zaXRpb246ICd0b3AnLFxuICAgIG5hdkNvbnRhaW5lcjogZmFsc2UsXG4gICAgbmF2QXNUaHVtYm5haWxzOiBmYWxzZSxcbiAgICBhcnJvd0tleXM6IGZhbHNlLFxuICAgIHNwZWVkOiAzMDAsXG4gICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgIGF1dG9wbGF5UG9zaXRpb246ICd0b3AnLFxuICAgIGF1dG9wbGF5VGltZW91dDogNTAwMCxcbiAgICBhdXRvcGxheURpcmVjdGlvbjogJ2ZvcndhcmQnLFxuICAgIGF1dG9wbGF5VGV4dDogWydzdGFydCcsICdzdG9wJ10sXG4gICAgYXV0b3BsYXlIb3ZlclBhdXNlOiBmYWxzZSxcbiAgICBhdXRvcGxheUJ1dHRvbjogZmFsc2UsXG4gICAgYXV0b3BsYXlCdXR0b25PdXRwdXQ6IHRydWUsXG4gICAgYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eTogdHJ1ZSxcbiAgICBhbmltYXRlSW46ICd0bnMtZmFkZUluJyxcbiAgICBhbmltYXRlT3V0OiAndG5zLWZhZGVPdXQnLFxuICAgIGFuaW1hdGVOb3JtYWw6ICd0bnMtbm9ybWFsJyxcbiAgICBhbmltYXRlRGVsYXk6IGZhbHNlLFxuICAgIGxvb3A6IHRydWUsXG4gICAgcmV3aW5kOiBmYWxzZSxcbiAgICBhdXRvSGVpZ2h0OiBmYWxzZSxcbiAgICByZXNwb25zaXZlOiBmYWxzZSxcbiAgICBsYXp5bG9hZDogZmFsc2UsXG4gICAgbGF6eWxvYWRTZWxlY3RvcjogJy50bnMtbGF6eS1pbWcnLFxuICAgIHRvdWNoOiB0cnVlLFxuICAgIG1vdXNlRHJhZzogZmFsc2UsXG4gICAgc3dpcGVBbmdsZTogMTUsXG4gICAgbmVzdGVkOiBmYWxzZSxcbiAgICBwcmV2ZW50QWN0aW9uV2hlblJ1bm5pbmc6IGZhbHNlLFxuICAgIHByZXZlbnRTY3JvbGxPblRvdWNoOiBmYWxzZSxcbiAgICBmcmVlemFibGU6IHRydWUsXG4gICAgb25Jbml0OiBmYWxzZSxcbiAgICB1c2VMb2NhbFN0b3JhZ2U6IHRydWVcbiAgfSwgb3B0aW9ucyB8fCB7fSk7XG4gIFxuICB2YXIgZG9jID0gZG9jdW1lbnQsXG4gICAgICB3aW4gPSB3aW5kb3csXG4gICAgICBLRVlTID0ge1xuICAgICAgICBFTlRFUjogMTMsXG4gICAgICAgIFNQQUNFOiAzMixcbiAgICAgICAgTEVGVDogMzcsXG4gICAgICAgIFJJR0hUOiAzOVxuICAgICAgfSxcbiAgICAgIHRuc1N0b3JhZ2UgPSB7fSxcbiAgICAgIGxvY2FsU3RvcmFnZUFjY2VzcyA9IG9wdGlvbnMudXNlTG9jYWxTdG9yYWdlO1xuXG4gIGlmIChsb2NhbFN0b3JhZ2VBY2Nlc3MpIHtcbiAgICAvLyBjaGVjayBicm93c2VyIHZlcnNpb24gYW5kIGxvY2FsIHN0b3JhZ2UgYWNjZXNzXG4gICAgdmFyIGJyb3dzZXJJbmZvID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcbiAgICB2YXIgdWlkID0gbmV3IERhdGU7XG5cbiAgICB0cnkge1xuICAgICAgdG5zU3RvcmFnZSA9IHdpbi5sb2NhbFN0b3JhZ2U7XG4gICAgICBpZiAodG5zU3RvcmFnZSkge1xuICAgICAgICB0bnNTdG9yYWdlLnNldEl0ZW0odWlkLCB1aWQpO1xuICAgICAgICBsb2NhbFN0b3JhZ2VBY2Nlc3MgPSB0bnNTdG9yYWdlLmdldEl0ZW0odWlkKSA9PSB1aWQ7XG4gICAgICAgIHRuc1N0b3JhZ2UucmVtb3ZlSXRlbSh1aWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlQWNjZXNzID0gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoIWxvY2FsU3RvcmFnZUFjY2VzcykgeyB0bnNTdG9yYWdlID0ge307IH1cbiAgICB9IGNhdGNoKGUpIHtcbiAgICAgIGxvY2FsU3RvcmFnZUFjY2VzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChsb2NhbFN0b3JhZ2VBY2Nlc3MpIHtcbiAgICAgIC8vIHJlbW92ZSBzdG9yYWdlIHdoZW4gYnJvd3NlciB2ZXJzaW9uIGNoYW5nZXNcbiAgICAgIGlmICh0bnNTdG9yYWdlWyd0bnNBcHAnXSAmJiB0bnNTdG9yYWdlWyd0bnNBcHAnXSAhPT0gYnJvd3NlckluZm8pIHtcbiAgICAgICAgWyd0QycsICd0UEwnLCAndE1RJywgJ3RUZicsICd0M0QnLCAndFREdScsICd0VERlJywgJ3RBRHUnLCAndEFEZScsICd0VEUnLCAndEFFJ10uZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7IHRuc1N0b3JhZ2UucmVtb3ZlSXRlbShpdGVtKTsgfSk7XG4gICAgICB9XG4gICAgICAvLyB1cGRhdGUgYnJvd3NlckluZm9cbiAgICAgIGxvY2FsU3RvcmFnZVsndG5zQXBwJ10gPSBicm93c2VySW5mbztcbiAgICB9XG4gIH1cblxuICB2YXIgQ0FMQyA9IHRuc1N0b3JhZ2VbJ3RDJ10gPyBjaGVja1N0b3JhZ2VWYWx1ZSh0bnNTdG9yYWdlWyd0QyddKSA6IHNldExvY2FsU3RvcmFnZSh0bnNTdG9yYWdlLCAndEMnLCBjYWxjKCksIGxvY2FsU3RvcmFnZUFjY2VzcyksXG4gICAgICBQRVJDRU5UQUdFTEFZT1VUID0gdG5zU3RvcmFnZVsndFBMJ10gPyBjaGVja1N0b3JhZ2VWYWx1ZSh0bnNTdG9yYWdlWyd0UEwnXSkgOiBzZXRMb2NhbFN0b3JhZ2UodG5zU3RvcmFnZSwgJ3RQTCcsIHBlcmNlbnRhZ2VMYXlvdXQoKSwgbG9jYWxTdG9yYWdlQWNjZXNzKSxcbiAgICAgIENTU01RID0gdG5zU3RvcmFnZVsndE1RJ10gPyBjaGVja1N0b3JhZ2VWYWx1ZSh0bnNTdG9yYWdlWyd0TVEnXSkgOiBzZXRMb2NhbFN0b3JhZ2UodG5zU3RvcmFnZSwgJ3RNUScsIG1lZGlhcXVlcnlTdXBwb3J0KCksIGxvY2FsU3RvcmFnZUFjY2VzcyksXG4gICAgICBUUkFOU0ZPUk0gPSB0bnNTdG9yYWdlWyd0VGYnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RUZiddKSA6IHNldExvY2FsU3RvcmFnZSh0bnNTdG9yYWdlLCAndFRmJywgd2hpY2hQcm9wZXJ0eSgndHJhbnNmb3JtJyksIGxvY2FsU3RvcmFnZUFjY2VzcyksXG4gICAgICBIQVMzRFRSQU5TRk9STVMgPSB0bnNTdG9yYWdlWyd0M0QnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3QzRCddKSA6IHNldExvY2FsU3RvcmFnZSh0bnNTdG9yYWdlLCAndDNEJywgaGFzM0RUcmFuc2Zvcm1zKFRSQU5TRk9STSksIGxvY2FsU3RvcmFnZUFjY2VzcyksXG4gICAgICBUUkFOU0lUSU9ORFVSQVRJT04gPSB0bnNTdG9yYWdlWyd0VER1J10gPyBjaGVja1N0b3JhZ2VWYWx1ZSh0bnNTdG9yYWdlWyd0VER1J10pIDogc2V0TG9jYWxTdG9yYWdlKHRuc1N0b3JhZ2UsICd0VER1Jywgd2hpY2hQcm9wZXJ0eSgndHJhbnNpdGlvbkR1cmF0aW9uJyksIGxvY2FsU3RvcmFnZUFjY2VzcyksXG4gICAgICBUUkFOU0lUSU9OREVMQVkgPSB0bnNTdG9yYWdlWyd0VERlJ10gPyBjaGVja1N0b3JhZ2VWYWx1ZSh0bnNTdG9yYWdlWyd0VERlJ10pIDogc2V0TG9jYWxTdG9yYWdlKHRuc1N0b3JhZ2UsICd0VERlJywgd2hpY2hQcm9wZXJ0eSgndHJhbnNpdGlvbkRlbGF5JyksIGxvY2FsU3RvcmFnZUFjY2VzcyksXG4gICAgICBBTklNQVRJT05EVVJBVElPTiA9IHRuc1N0b3JhZ2VbJ3RBRHUnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RBRHUnXSkgOiBzZXRMb2NhbFN0b3JhZ2UodG5zU3RvcmFnZSwgJ3RBRHUnLCB3aGljaFByb3BlcnR5KCdhbmltYXRpb25EdXJhdGlvbicpLCBsb2NhbFN0b3JhZ2VBY2Nlc3MpLFxuICAgICAgQU5JTUFUSU9OREVMQVkgPSB0bnNTdG9yYWdlWyd0QURlJ10gPyBjaGVja1N0b3JhZ2VWYWx1ZSh0bnNTdG9yYWdlWyd0QURlJ10pIDogc2V0TG9jYWxTdG9yYWdlKHRuc1N0b3JhZ2UsICd0QURlJywgd2hpY2hQcm9wZXJ0eSgnYW5pbWF0aW9uRGVsYXknKSwgbG9jYWxTdG9yYWdlQWNjZXNzKSxcbiAgICAgIFRSQU5TSVRJT05FTkQgPSB0bnNTdG9yYWdlWyd0VEUnXSA/IGNoZWNrU3RvcmFnZVZhbHVlKHRuc1N0b3JhZ2VbJ3RURSddKSA6IHNldExvY2FsU3RvcmFnZSh0bnNTdG9yYWdlLCAndFRFJywgZ2V0RW5kUHJvcGVydHkoVFJBTlNJVElPTkRVUkFUSU9OLCAnVHJhbnNpdGlvbicpLCBsb2NhbFN0b3JhZ2VBY2Nlc3MpLFxuICAgICAgQU5JTUFUSU9ORU5EID0gdG5zU3RvcmFnZVsndEFFJ10gPyBjaGVja1N0b3JhZ2VWYWx1ZSh0bnNTdG9yYWdlWyd0QUUnXSkgOiBzZXRMb2NhbFN0b3JhZ2UodG5zU3RvcmFnZSwgJ3RBRScsIGdldEVuZFByb3BlcnR5KEFOSU1BVElPTkRVUkFUSU9OLCAnQW5pbWF0aW9uJyksIGxvY2FsU3RvcmFnZUFjY2Vzcyk7XG5cbiAgLy8gZ2V0IGVsZW1lbnQgbm9kZXMgZnJvbSBzZWxlY3RvcnNcbiAgdmFyIHN1cHBvcnRDb25zb2xlV2FybiA9IHdpbi5jb25zb2xlICYmIHR5cGVvZiB3aW4uY29uc29sZS53YXJuID09PSBcImZ1bmN0aW9uXCIsXG4gICAgICB0bnNMaXN0ID0gWydjb250YWluZXInLCAnY29udHJvbHNDb250YWluZXInLCAncHJldkJ1dHRvbicsICduZXh0QnV0dG9uJywgJ25hdkNvbnRhaW5lcicsICdhdXRvcGxheUJ1dHRvbiddLCBcbiAgICAgIG9wdGlvbnNFbGVtZW50cyA9IHt9O1xuICAgICAgXG4gIHRuc0xpc3QuZm9yRWFjaChmdW5jdGlvbihpdGVtKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zW2l0ZW1dID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHN0ciA9IG9wdGlvbnNbaXRlbV0sXG4gICAgICAgICAgZWwgPSBkb2MucXVlcnlTZWxlY3RvcihzdHIpO1xuICAgICAgb3B0aW9uc0VsZW1lbnRzW2l0ZW1dID0gc3RyO1xuXG4gICAgICBpZiAoZWwgJiYgZWwubm9kZU5hbWUpIHtcbiAgICAgICAgb3B0aW9uc1tpdGVtXSA9IGVsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHN1cHBvcnRDb25zb2xlV2FybikgeyBjb25zb2xlLndhcm4oJ0NhblxcJ3QgZmluZCcsIG9wdGlvbnNbaXRlbV0pOyB9XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIC8vIG1ha2Ugc3VyZSBhdCBsZWFzdCAxIHNsaWRlXG4gIGlmIChvcHRpb25zLmNvbnRhaW5lci5jaGlsZHJlbi5sZW5ndGggPCAxKSB7XG4gICAgaWYgKHN1cHBvcnRDb25zb2xlV2FybikgeyBjb25zb2xlLndhcm4oJ05vIHNsaWRlcyBmb3VuZCBpbicsIG9wdGlvbnMuY29udGFpbmVyKTsgfVxuICAgIHJldHVybjtcbiAgIH1cblxuICAvLyB1cGRhdGUgb3B0aW9uc1xuICB2YXIgcmVzcG9uc2l2ZSA9IG9wdGlvbnMucmVzcG9uc2l2ZSxcbiAgICAgIG5lc3RlZCA9IG9wdGlvbnMubmVzdGVkLFxuICAgICAgY2Fyb3VzZWwgPSBvcHRpb25zLm1vZGUgPT09ICdjYXJvdXNlbCcgPyB0cnVlIDogZmFsc2U7XG5cbiAgaWYgKHJlc3BvbnNpdmUpIHtcbiAgICAvLyBhcHBseSByZXNwb25zaXZlWzBdIHRvIG9wdGlvbnMgYW5kIHJlbW92ZSBpdFxuICAgIGlmICgwIGluIHJlc3BvbnNpdmUpIHtcbiAgICAgIG9wdGlvbnMgPSBleHRlbmQob3B0aW9ucywgcmVzcG9uc2l2ZVswXSk7XG4gICAgICBkZWxldGUgcmVzcG9uc2l2ZVswXTtcbiAgICB9XG5cbiAgICB2YXIgcmVzcG9uc2l2ZVRlbSA9IHt9O1xuICAgIGZvciAodmFyIGtleSBpbiByZXNwb25zaXZlKSB7XG4gICAgICB2YXIgdmFsID0gcmVzcG9uc2l2ZVtrZXldO1xuICAgICAgLy8gdXBkYXRlIHJlc3BvbnNpdmVcbiAgICAgIC8vIGZyb206IDMwMDogMlxuICAgICAgLy8gdG86IFxuICAgICAgLy8gICAzMDA6IHsgXG4gICAgICAvLyAgICAgaXRlbXM6IDIgXG4gICAgICAvLyAgIH0gXG4gICAgICB2YWwgPSB0eXBlb2YgdmFsID09PSAnbnVtYmVyJyA/IHtpdGVtczogdmFsfSA6IHZhbDtcbiAgICAgIHJlc3BvbnNpdmVUZW1ba2V5XSA9IHZhbDtcbiAgICB9XG4gICAgcmVzcG9uc2l2ZSA9IHJlc3BvbnNpdmVUZW07XG4gICAgcmVzcG9uc2l2ZVRlbSA9IG51bGw7XG4gIH1cblxuICAvLyB1cGRhdGUgb3B0aW9uc1xuICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zIChvYmopIHtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoIWNhcm91c2VsKSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdzbGlkZUJ5JykgeyBvYmpba2V5XSA9ICdwYWdlJzsgfVxuICAgICAgICBpZiAoa2V5ID09PSAnZWRnZVBhZGRpbmcnKSB7IG9ialtrZXldID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKGtleSA9PT0gJ2F1dG9IZWlnaHQnKSB7IG9ialtrZXldID0gZmFsc2U7IH1cbiAgICAgIH1cblxuICAgICAgLy8gdXBkYXRlIHJlc3BvbnNpdmUgb3B0aW9uc1xuICAgICAgaWYgKGtleSA9PT0gJ3Jlc3BvbnNpdmUnKSB7IHVwZGF0ZU9wdGlvbnMob2JqW2tleV0pOyB9XG4gICAgfVxuICB9XG4gIGlmICghY2Fyb3VzZWwpIHsgdXBkYXRlT3B0aW9ucyhvcHRpb25zKTsgfVxuXG5cbiAgLy8gPT09IGRlZmluZSBhbmQgc2V0IHZhcmlhYmxlcyA9PT1cbiAgaWYgKCFjYXJvdXNlbCkge1xuICAgIG9wdGlvbnMuYXhpcyA9ICdob3Jpem9udGFsJztcbiAgICBvcHRpb25zLnNsaWRlQnkgPSAncGFnZSc7XG4gICAgb3B0aW9ucy5lZGdlUGFkZGluZyA9IGZhbHNlO1xuXG4gICAgdmFyIGFuaW1hdGVJbiA9IG9wdGlvbnMuYW5pbWF0ZUluLFxuICAgICAgICBhbmltYXRlT3V0ID0gb3B0aW9ucy5hbmltYXRlT3V0LFxuICAgICAgICBhbmltYXRlRGVsYXkgPSBvcHRpb25zLmFuaW1hdGVEZWxheSxcbiAgICAgICAgYW5pbWF0ZU5vcm1hbCA9IG9wdGlvbnMuYW5pbWF0ZU5vcm1hbDtcbiAgfVxuXG4gIHZhciBob3Jpem9udGFsID0gb3B0aW9ucy5heGlzID09PSAnaG9yaXpvbnRhbCcgPyB0cnVlIDogZmFsc2UsXG4gICAgICBvdXRlcldyYXBwZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBpbm5lcldyYXBwZXIgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBtaWRkbGVXcmFwcGVyLFxuICAgICAgY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIsXG4gICAgICBjb250YWluZXJQYXJlbnQgPSBjb250YWluZXIucGFyZW50Tm9kZSxcbiAgICAgIGNvbnRhaW5lckhUTUwgPSBjb250YWluZXIub3V0ZXJIVE1MLFxuICAgICAgc2xpZGVJdGVtcyA9IGNvbnRhaW5lci5jaGlsZHJlbixcbiAgICAgIHNsaWRlQ291bnQgPSBzbGlkZUl0ZW1zLmxlbmd0aCxcbiAgICAgIGJyZWFrcG9pbnRab25lLFxuICAgICAgd2luZG93V2lkdGggPSBnZXRXaW5kb3dXaWR0aCgpLFxuICAgICAgaXNPbiA9IGZhbHNlO1xuICBpZiAocmVzcG9uc2l2ZSkgeyBzZXRCcmVha3BvaW50Wm9uZSgpOyB9XG4gIGlmIChjYXJvdXNlbCkgeyBjb250YWluZXIuY2xhc3NOYW1lICs9ICcgdG5zLXZwZml4JzsgfVxuXG4gIC8vIGZpeGVkV2lkdGg6IHZpZXdwb3J0ID4gcmlnaHRCb3VuZGFyeSA+IGluZGV4TWF4XG4gIHZhciBhdXRvV2lkdGggPSBvcHRpb25zLmF1dG9XaWR0aCxcbiAgICAgIGZpeGVkV2lkdGggPSBnZXRPcHRpb24oJ2ZpeGVkV2lkdGgnKSxcbiAgICAgIGVkZ2VQYWRkaW5nID0gZ2V0T3B0aW9uKCdlZGdlUGFkZGluZycpLFxuICAgICAgZ3V0dGVyID0gZ2V0T3B0aW9uKCdndXR0ZXInKSxcbiAgICAgIHZpZXdwb3J0ID0gZ2V0Vmlld3BvcnRXaWR0aCgpLFxuICAgICAgY2VudGVyID0gZ2V0T3B0aW9uKCdjZW50ZXInKSxcbiAgICAgIGl0ZW1zID0gIWF1dG9XaWR0aCA/IE1hdGguZmxvb3IoZ2V0T3B0aW9uKCdpdGVtcycpKSA6IDEsXG4gICAgICBzbGlkZUJ5ID0gZ2V0T3B0aW9uKCdzbGlkZUJ5JyksXG4gICAgICB2aWV3cG9ydE1heCA9IG9wdGlvbnMudmlld3BvcnRNYXggfHwgb3B0aW9ucy5maXhlZFdpZHRoVmlld3BvcnRXaWR0aCxcbiAgICAgIGFycm93S2V5cyA9IGdldE9wdGlvbignYXJyb3dLZXlzJyksXG4gICAgICBzcGVlZCA9IGdldE9wdGlvbignc3BlZWQnKSxcbiAgICAgIHJld2luZCA9IG9wdGlvbnMucmV3aW5kLFxuICAgICAgbG9vcCA9IHJld2luZCA/IGZhbHNlIDogb3B0aW9ucy5sb29wLFxuICAgICAgYXV0b0hlaWdodCA9IGdldE9wdGlvbignYXV0b0hlaWdodCcpLFxuICAgICAgY29udHJvbHMgPSBnZXRPcHRpb24oJ2NvbnRyb2xzJyksXG4gICAgICBjb250cm9sc1RleHQgPSBnZXRPcHRpb24oJ2NvbnRyb2xzVGV4dCcpLFxuICAgICAgbmF2ID0gZ2V0T3B0aW9uKCduYXYnKSxcbiAgICAgIHRvdWNoID0gZ2V0T3B0aW9uKCd0b3VjaCcpLFxuICAgICAgbW91c2VEcmFnID0gZ2V0T3B0aW9uKCdtb3VzZURyYWcnKSxcbiAgICAgIGF1dG9wbGF5ID0gZ2V0T3B0aW9uKCdhdXRvcGxheScpLFxuICAgICAgYXV0b3BsYXlUaW1lb3V0ID0gZ2V0T3B0aW9uKCdhdXRvcGxheVRpbWVvdXQnKSxcbiAgICAgIGF1dG9wbGF5VGV4dCA9IGdldE9wdGlvbignYXV0b3BsYXlUZXh0JyksXG4gICAgICBhdXRvcGxheUhvdmVyUGF1c2UgPSBnZXRPcHRpb24oJ2F1dG9wbGF5SG92ZXJQYXVzZScpLFxuICAgICAgYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eSA9IGdldE9wdGlvbignYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eScpLFxuICAgICAgc2hlZXQgPSBjcmVhdGVTdHlsZVNoZWV0KCksXG4gICAgICBsYXp5bG9hZCA9IG9wdGlvbnMubGF6eWxvYWQsXG4gICAgICBsYXp5bG9hZFNlbGVjdG9yID0gb3B0aW9ucy5sYXp5bG9hZFNlbGVjdG9yLFxuICAgICAgc2xpZGVQb3NpdGlvbnMsIC8vIGNvbGxlY3Rpb24gb2Ygc2xpZGUgcG9zaXRpb25zXG4gICAgICBzbGlkZUl0ZW1zT3V0ID0gW10sXG4gICAgICBjbG9uZUNvdW50ID0gbG9vcCA/IGdldENsb25lQ291bnRGb3JMb29wKCkgOiAwLFxuICAgICAgc2xpZGVDb3VudE5ldyA9ICFjYXJvdXNlbCA/IHNsaWRlQ291bnQgKyBjbG9uZUNvdW50IDogc2xpZGVDb3VudCArIGNsb25lQ291bnQgKiAyLFxuICAgICAgaGFzUmlnaHREZWFkWm9uZSA9IChmaXhlZFdpZHRoIHx8IGF1dG9XaWR0aCkgJiYgIWxvb3AgPyB0cnVlIDogZmFsc2UsXG4gICAgICByaWdodEJvdW5kYXJ5ID0gZml4ZWRXaWR0aCA/IGdldFJpZ2h0Qm91bmRhcnkoKSA6IG51bGwsXG4gICAgICB1cGRhdGVJbmRleEJlZm9yZVRyYW5zZm9ybSA9ICghY2Fyb3VzZWwgfHwgIWxvb3ApID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgLy8gdHJhbnNmb3JtXG4gICAgICB0cmFuc2Zvcm1BdHRyID0gaG9yaXpvbnRhbCA/ICdsZWZ0JyA6ICd0b3AnLFxuICAgICAgdHJhbnNmb3JtUHJlZml4ID0gJycsXG4gICAgICB0cmFuc2Zvcm1Qb3N0Zml4ID0gJycsXG4gICAgICAvLyBpbmRleFxuICAgICAgZ2V0SW5kZXhNYXggPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoZml4ZWRXaWR0aCkge1xuICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHsgcmV0dXJuIGNlbnRlciAmJiAhbG9vcCA/IHNsaWRlQ291bnQgLSAxIDogTWF0aC5jZWlsKC0gcmlnaHRCb3VuZGFyeSAvIChmaXhlZFdpZHRoICsgZ3V0dGVyKSk7IH07XG4gICAgICAgIH0gZWxzZSBpZiAoYXV0b1dpZHRoKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHNsaWRlQ291bnROZXcsIHJlc3VsdCA9IGkgLSAxOyBpLS07KSB7XG4gICAgICAgICAgICAgIGlmIChzbGlkZVBvc2l0aW9uc1tpXSA+IC0gcmlnaHRCb3VuZGFyeSkgeyByZXR1cm4gaTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGNlbnRlciAmJiBjYXJvdXNlbCAmJiAhbG9vcCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2xpZGVDb3VudCAtIDE7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gbG9vcCB8fCBjYXJvdXNlbCA/IE1hdGgubWF4KDAsIHNsaWRlQ291bnROZXcgLSBNYXRoLmNlaWwoaXRlbXMpKSA6IHNsaWRlQ291bnROZXcgLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH0pKCksXG4gICAgICBpbmRleCA9IGdldFN0YXJ0SW5kZXgoZ2V0T3B0aW9uKCdzdGFydEluZGV4JykpLFxuICAgICAgaW5kZXhDYWNoZWQgPSBpbmRleCxcbiAgICAgIGRpc3BsYXlJbmRleCA9IGdldEN1cnJlbnRTbGlkZSgpLFxuICAgICAgaW5kZXhNaW4gPSAwLFxuICAgICAgaW5kZXhNYXggPSAhYXV0b1dpZHRoID8gZ2V0SW5kZXhNYXgoKSA6IG51bGwsXG4gICAgICAvLyByZXNpemVcbiAgICAgIHJlc2l6ZVRpbWVyLFxuICAgICAgcHJldmVudEFjdGlvbldoZW5SdW5uaW5nID0gb3B0aW9ucy5wcmV2ZW50QWN0aW9uV2hlblJ1bm5pbmcsXG4gICAgICBzd2lwZUFuZ2xlID0gb3B0aW9ucy5zd2lwZUFuZ2xlLFxuICAgICAgbW92ZURpcmVjdGlvbkV4cGVjdGVkID0gc3dpcGVBbmdsZSA/ICc/JyA6IHRydWUsXG4gICAgICBydW5uaW5nID0gZmFsc2UsXG4gICAgICBvbkluaXQgPSBvcHRpb25zLm9uSW5pdCxcbiAgICAgIGV2ZW50cyA9IG5ldyBFdmVudHMoKSxcbiAgICAgIC8vIGlkLCBjbGFzc1xuICAgICAgbmV3Q29udGFpbmVyQ2xhc3NlcyA9ICcgdG5zLXNsaWRlciB0bnMtJyArIG9wdGlvbnMubW9kZSxcbiAgICAgIHNsaWRlSWQgPSBjb250YWluZXIuaWQgfHwgZ2V0U2xpZGVJZCgpLFxuICAgICAgZGlzYWJsZSA9IGdldE9wdGlvbignZGlzYWJsZScpLFxuICAgICAgZGlzYWJsZWQgPSBmYWxzZSxcbiAgICAgIGZyZWV6YWJsZSA9IG9wdGlvbnMuZnJlZXphYmxlLFxuICAgICAgZnJlZXplID0gZnJlZXphYmxlICYmICFhdXRvV2lkdGggPyBnZXRGcmVlemUoKSA6IGZhbHNlLFxuICAgICAgZnJvemVuID0gZmFsc2UsXG4gICAgICBjb250cm9sc0V2ZW50cyA9IHtcbiAgICAgICAgJ2NsaWNrJzogb25Db250cm9sc0NsaWNrLFxuICAgICAgICAna2V5ZG93bic6IG9uQ29udHJvbHNLZXlkb3duXG4gICAgICB9LFxuICAgICAgbmF2RXZlbnRzID0ge1xuICAgICAgICAnY2xpY2snOiBvbk5hdkNsaWNrLFxuICAgICAgICAna2V5ZG93bic6IG9uTmF2S2V5ZG93blxuICAgICAgfSxcbiAgICAgIGhvdmVyRXZlbnRzID0ge1xuICAgICAgICAnbW91c2VvdmVyJzogbW91c2VvdmVyUGF1c2UsXG4gICAgICAgICdtb3VzZW91dCc6IG1vdXNlb3V0UmVzdGFydFxuICAgICAgfSxcbiAgICAgIHZpc2liaWxpdHlFdmVudCA9IHsndmlzaWJpbGl0eWNoYW5nZSc6IG9uVmlzaWJpbGl0eUNoYW5nZX0sXG4gICAgICBkb2NtZW50S2V5ZG93bkV2ZW50ID0geydrZXlkb3duJzogb25Eb2N1bWVudEtleWRvd259LFxuICAgICAgdG91Y2hFdmVudHMgPSB7XG4gICAgICAgICd0b3VjaHN0YXJ0Jzogb25QYW5TdGFydCxcbiAgICAgICAgJ3RvdWNobW92ZSc6IG9uUGFuTW92ZSxcbiAgICAgICAgJ3RvdWNoZW5kJzogb25QYW5FbmQsXG4gICAgICAgICd0b3VjaGNhbmNlbCc6IG9uUGFuRW5kXG4gICAgICB9LCBkcmFnRXZlbnRzID0ge1xuICAgICAgICAnbW91c2Vkb3duJzogb25QYW5TdGFydCxcbiAgICAgICAgJ21vdXNlbW92ZSc6IG9uUGFuTW92ZSxcbiAgICAgICAgJ21vdXNldXAnOiBvblBhbkVuZCxcbiAgICAgICAgJ21vdXNlbGVhdmUnOiBvblBhbkVuZFxuICAgICAgfSxcbiAgICAgIGhhc0NvbnRyb2xzID0gaGFzT3B0aW9uKCdjb250cm9scycpLFxuICAgICAgaGFzTmF2ID0gaGFzT3B0aW9uKCduYXYnKSxcbiAgICAgIG5hdkFzVGh1bWJuYWlscyA9IGF1dG9XaWR0aCA/IHRydWUgOiBvcHRpb25zLm5hdkFzVGh1bWJuYWlscyxcbiAgICAgIGhhc0F1dG9wbGF5ID0gaGFzT3B0aW9uKCdhdXRvcGxheScpLFxuICAgICAgaGFzVG91Y2ggPSBoYXNPcHRpb24oJ3RvdWNoJyksXG4gICAgICBoYXNNb3VzZURyYWcgPSBoYXNPcHRpb24oJ21vdXNlRHJhZycpLFxuICAgICAgc2xpZGVBY3RpdmVDbGFzcyA9ICd0bnMtc2xpZGUtYWN0aXZlJyxcbiAgICAgIGltZ0NvbXBsZXRlQ2xhc3MgPSAndG5zLWNvbXBsZXRlJyxcbiAgICAgIGltZ0V2ZW50cyA9IHtcbiAgICAgICAgJ2xvYWQnOiBvbkltZ0xvYWRlZCxcbiAgICAgICAgJ2Vycm9yJzogb25JbWdGYWlsZWRcbiAgICAgIH0sXG4gICAgICBpbWdzQ29tcGxldGUsXG4gICAgICBsaXZlcmVnaW9uQ3VycmVudCxcbiAgICAgIHByZXZlbnRTY3JvbGwgPSBvcHRpb25zLnByZXZlbnRTY3JvbGxPblRvdWNoID09PSAnZm9yY2UnID8gdHJ1ZSA6IGZhbHNlO1xuXG4gIC8vIGNvbnRyb2xzXG4gIGlmIChoYXNDb250cm9scykge1xuICAgIHZhciBjb250cm9sc0NvbnRhaW5lciA9IG9wdGlvbnMuY29udHJvbHNDb250YWluZXIsXG4gICAgICAgIGNvbnRyb2xzQ29udGFpbmVySFRNTCA9IG9wdGlvbnMuY29udHJvbHNDb250YWluZXIgPyBvcHRpb25zLmNvbnRyb2xzQ29udGFpbmVyLm91dGVySFRNTCA6ICcnLFxuICAgICAgICBwcmV2QnV0dG9uID0gb3B0aW9ucy5wcmV2QnV0dG9uLFxuICAgICAgICBuZXh0QnV0dG9uID0gb3B0aW9ucy5uZXh0QnV0dG9uLFxuICAgICAgICBwcmV2QnV0dG9uSFRNTCA9IG9wdGlvbnMucHJldkJ1dHRvbiA/IG9wdGlvbnMucHJldkJ1dHRvbi5vdXRlckhUTUwgOiAnJyxcbiAgICAgICAgbmV4dEJ1dHRvbkhUTUwgPSBvcHRpb25zLm5leHRCdXR0b24gPyBvcHRpb25zLm5leHRCdXR0b24ub3V0ZXJIVE1MIDogJycsXG4gICAgICAgIHByZXZJc0J1dHRvbixcbiAgICAgICAgbmV4dElzQnV0dG9uO1xuICB9XG5cbiAgLy8gbmF2XG4gIGlmIChoYXNOYXYpIHtcbiAgICB2YXIgbmF2Q29udGFpbmVyID0gb3B0aW9ucy5uYXZDb250YWluZXIsXG4gICAgICAgIG5hdkNvbnRhaW5lckhUTUwgPSBvcHRpb25zLm5hdkNvbnRhaW5lciA/IG9wdGlvbnMubmF2Q29udGFpbmVyLm91dGVySFRNTCA6ICcnLFxuICAgICAgICBuYXZJdGVtcyxcbiAgICAgICAgcGFnZXMgPSBhdXRvV2lkdGggPyBzbGlkZUNvdW50IDogZ2V0UGFnZXMoKSxcbiAgICAgICAgcGFnZXNDYWNoZWQgPSAwLFxuICAgICAgICBuYXZDbGlja2VkID0gLTEsXG4gICAgICAgIG5hdkN1cnJlbnRJbmRleCA9IGdldEN1cnJlbnROYXZJbmRleCgpLFxuICAgICAgICBuYXZDdXJyZW50SW5kZXhDYWNoZWQgPSBuYXZDdXJyZW50SW5kZXgsXG4gICAgICAgIG5hdkFjdGl2ZUNsYXNzID0gJ3Rucy1uYXYtYWN0aXZlJyxcbiAgICAgICAgbmF2U3RyID0gJ0Nhcm91c2VsIFBhZ2UgJyxcbiAgICAgICAgbmF2U3RyQ3VycmVudCA9ICcgKEN1cnJlbnQgU2xpZGUpJztcbiAgfVxuXG4gIC8vIGF1dG9wbGF5XG4gIGlmIChoYXNBdXRvcGxheSkge1xuICAgIHZhciBhdXRvcGxheURpcmVjdGlvbiA9IG9wdGlvbnMuYXV0b3BsYXlEaXJlY3Rpb24gPT09ICdmb3J3YXJkJyA/IDEgOiAtMSxcbiAgICAgICAgYXV0b3BsYXlCdXR0b24gPSBvcHRpb25zLmF1dG9wbGF5QnV0dG9uLFxuICAgICAgICBhdXRvcGxheUJ1dHRvbkhUTUwgPSBvcHRpb25zLmF1dG9wbGF5QnV0dG9uID8gb3B0aW9ucy5hdXRvcGxheUJ1dHRvbi5vdXRlckhUTUwgOiAnJyxcbiAgICAgICAgYXV0b3BsYXlIdG1sU3RyaW5ncyA9IFsnPHNwYW4gY2xhc3M9XFwndG5zLXZpc3VhbGx5LWhpZGRlblxcJz4nLCAnIGFuaW1hdGlvbjwvc3Bhbj4nXSxcbiAgICAgICAgYXV0b3BsYXlUaW1lcixcbiAgICAgICAgYW5pbWF0aW5nLFxuICAgICAgICBhdXRvcGxheUhvdmVyUGF1c2VkLFxuICAgICAgICBhdXRvcGxheVVzZXJQYXVzZWQsXG4gICAgICAgIGF1dG9wbGF5VmlzaWJpbGl0eVBhdXNlZDtcbiAgfVxuXG4gIGlmIChoYXNUb3VjaCB8fCBoYXNNb3VzZURyYWcpIHtcbiAgICB2YXIgaW5pdFBvc2l0aW9uID0ge30sXG4gICAgICAgIGxhc3RQb3NpdGlvbiA9IHt9LFxuICAgICAgICB0cmFuc2xhdGVJbml0LFxuICAgICAgICBkaXNYLFxuICAgICAgICBkaXNZLFxuICAgICAgICBwYW5TdGFydCA9IGZhbHNlLFxuICAgICAgICByYWZJbmRleCxcbiAgICAgICAgZ2V0RGlzdCA9IGhvcml6b250YWwgPyBcbiAgICAgICAgICBmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhLnggLSBiLng7IH0gOlxuICAgICAgICAgIGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGEueSAtIGIueTsgfTtcbiAgfVxuICBcbiAgLy8gZGlzYWJsZSBzbGlkZXIgd2hlbiBzbGlkZWNvdW50IDw9IGl0ZW1zXG4gIGlmICghYXV0b1dpZHRoKSB7IHJlc2V0VmFyaWJsZXNXaGVuRGlzYWJsZShkaXNhYmxlIHx8IGZyZWV6ZSk7IH1cblxuICBpZiAoVFJBTlNGT1JNKSB7XG4gICAgdHJhbnNmb3JtQXR0ciA9IFRSQU5TRk9STTtcbiAgICB0cmFuc2Zvcm1QcmVmaXggPSAndHJhbnNsYXRlJztcblxuICAgIGlmIChIQVMzRFRSQU5TRk9STVMpIHtcbiAgICAgIHRyYW5zZm9ybVByZWZpeCArPSBob3Jpem9udGFsID8gJzNkKCcgOiAnM2QoMHB4LCAnO1xuICAgICAgdHJhbnNmb3JtUG9zdGZpeCA9IGhvcml6b250YWwgPyAnLCAwcHgsIDBweCknIDogJywgMHB4KSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zZm9ybVByZWZpeCArPSBob3Jpem9udGFsID8gJ1goJyA6ICdZKCc7XG4gICAgICB0cmFuc2Zvcm1Qb3N0Zml4ID0gJyknO1xuICAgIH1cblxuICB9XG5cbiAgaWYgKGNhcm91c2VsKSB7IGNvbnRhaW5lci5jbGFzc05hbWUgPSBjb250YWluZXIuY2xhc3NOYW1lLnJlcGxhY2UoJ3Rucy12cGZpeCcsICcnKTsgfVxuICBpbml0U3RydWN0dXJlKCk7XG4gIGluaXRTaGVldCgpO1xuICBpbml0U2xpZGVyVHJhbnNmb3JtKCk7XG5cbiAgLy8gPT09IENPTU1PTiBGVU5DVElPTlMgPT09IC8vXG4gIGZ1bmN0aW9uIHJlc2V0VmFyaWJsZXNXaGVuRGlzYWJsZSAoY29uZGl0aW9uKSB7XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgY29udHJvbHMgPSBuYXYgPSB0b3VjaCA9IG1vdXNlRHJhZyA9IGFycm93S2V5cyA9IGF1dG9wbGF5ID0gYXV0b3BsYXlIb3ZlclBhdXNlID0gYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eSA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEN1cnJlbnRTbGlkZSAoKSB7XG4gICAgdmFyIHRlbSA9IGNhcm91c2VsID8gaW5kZXggLSBjbG9uZUNvdW50IDogaW5kZXg7XG4gICAgd2hpbGUgKHRlbSA8IDApIHsgdGVtICs9IHNsaWRlQ291bnQ7IH1cbiAgICByZXR1cm4gdGVtJXNsaWRlQ291bnQgKyAxO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U3RhcnRJbmRleCAoaW5kKSB7XG4gICAgaW5kID0gaW5kID8gTWF0aC5tYXgoMCwgTWF0aC5taW4obG9vcCA/IHNsaWRlQ291bnQgLSAxIDogc2xpZGVDb3VudCAtIGl0ZW1zLCBpbmQpKSA6IDA7XG4gICAgcmV0dXJuIGNhcm91c2VsID8gaW5kICsgY2xvbmVDb3VudCA6IGluZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEFic0luZGV4IChpKSB7XG4gICAgaWYgKGkgPT0gbnVsbCkgeyBpID0gaW5kZXg7IH1cblxuICAgIGlmIChjYXJvdXNlbCkgeyBpIC09IGNsb25lQ291bnQ7IH1cbiAgICB3aGlsZSAoaSA8IDApIHsgaSArPSBzbGlkZUNvdW50OyB9XG5cbiAgICByZXR1cm4gTWF0aC5mbG9vcihpJXNsaWRlQ291bnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q3VycmVudE5hdkluZGV4ICgpIHtcbiAgICB2YXIgYWJzSW5kZXggPSBnZXRBYnNJbmRleCgpLFxuICAgICAgICByZXN1bHQ7XG5cbiAgICByZXN1bHQgPSBuYXZBc1RodW1ibmFpbHMgPyBhYnNJbmRleCA6IFxuICAgICAgZml4ZWRXaWR0aCB8fCBhdXRvV2lkdGggPyBNYXRoLmNlaWwoKGFic0luZGV4ICsgMSkgKiBwYWdlcyAvIHNsaWRlQ291bnQgLSAxKSA6IFxuICAgICAgICAgIE1hdGguZmxvb3IoYWJzSW5kZXggLyBpdGVtcyk7XG5cbiAgICAvLyBzZXQgYWN0aXZlIG5hdiB0byB0aGUgbGFzdCBvbmUgd2hlbiByZWFjaGVzIHRoZSByaWdodCBlZGdlXG4gICAgaWYgKCFsb29wICYmIGNhcm91c2VsICYmIGluZGV4ID09PSBpbmRleE1heCkgeyByZXN1bHQgPSBwYWdlcyAtIDE7IH1cblxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJdGVtc01heCAoKSB7XG4gICAgLy8gZml4ZWRXaWR0aCBvciBhdXRvV2lkdGggd2hpbGUgdmlld3BvcnRNYXggaXMgbm90IGF2YWlsYWJsZVxuICAgIGlmIChhdXRvV2lkdGggfHwgKGZpeGVkV2lkdGggJiYgIXZpZXdwb3J0TWF4KSkge1xuICAgICAgcmV0dXJuIHNsaWRlQ291bnQgLSAxO1xuICAgIC8vIG1vc3QgY2FzZXNcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHN0ciA9IGZpeGVkV2lkdGggPyAnZml4ZWRXaWR0aCcgOiAnaXRlbXMnLFxuICAgICAgICAgIGFyciA9IFtdO1xuXG4gICAgICBpZiAoZml4ZWRXaWR0aCB8fCBvcHRpb25zW3N0cl0gPCBzbGlkZUNvdW50KSB7IGFyci5wdXNoKG9wdGlvbnNbc3RyXSk7IH1cblxuICAgICAgaWYgKHJlc3BvbnNpdmUpIHtcbiAgICAgICAgZm9yICh2YXIgYnAgaW4gcmVzcG9uc2l2ZSkge1xuICAgICAgICAgIHZhciB0ZW0gPSByZXNwb25zaXZlW2JwXVtzdHJdO1xuICAgICAgICAgIGlmICh0ZW0gJiYgKGZpeGVkV2lkdGggfHwgdGVtIDwgc2xpZGVDb3VudCkpIHsgYXJyLnB1c2godGVtKTsgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghYXJyLmxlbmd0aCkgeyBhcnIucHVzaCgwKTsgfVxuXG4gICAgICByZXR1cm4gTWF0aC5jZWlsKGZpeGVkV2lkdGggPyB2aWV3cG9ydE1heCAvIE1hdGgubWluLmFwcGx5KG51bGwsIGFycikgOiBNYXRoLm1heC5hcHBseShudWxsLCBhcnIpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRDbG9uZUNvdW50Rm9yTG9vcCAoKSB7XG4gICAgdmFyIGl0ZW1zTWF4ID0gZ2V0SXRlbXNNYXgoKSxcbiAgICAgICAgcmVzdWx0ID0gY2Fyb3VzZWwgPyBNYXRoLmNlaWwoKGl0ZW1zTWF4ICogNSAtIHNsaWRlQ291bnQpLzIpIDogKGl0ZW1zTWF4ICogNCAtIHNsaWRlQ291bnQpO1xuICAgIHJlc3VsdCA9IE1hdGgubWF4KGl0ZW1zTWF4LCByZXN1bHQpO1xuXG4gICAgcmV0dXJuIGhhc09wdGlvbignZWRnZVBhZGRpbmcnKSA/IHJlc3VsdCArIDEgOiByZXN1bHQ7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRXaW5kb3dXaWR0aCAoKSB7XG4gICAgcmV0dXJuIHdpbi5pbm5lcldpZHRoIHx8IGRvYy5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGggfHwgZG9jLmJvZHkuY2xpZW50V2lkdGg7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbnNlcnRQb3NpdGlvbiAocG9zKSB7XG4gICAgcmV0dXJuIHBvcyA9PT0gJ3RvcCcgPyAnYWZ0ZXJiZWdpbicgOiAnYmVmb3JlZW5kJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENsaWVudFdpZHRoIChlbCkge1xuICAgIHZhciBkaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JyksIHJlY3QsIHdpZHRoO1xuICAgIGVsLmFwcGVuZENoaWxkKGRpdik7XG4gICAgcmVjdCA9IGRpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICB3aWR0aCA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnQ7XG4gICAgZGl2LnJlbW92ZSgpO1xuICAgIHJldHVybiB3aWR0aCB8fCBnZXRDbGllbnRXaWR0aChlbC5wYXJlbnROb2RlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFZpZXdwb3J0V2lkdGggKCkge1xuICAgIHZhciBnYXAgPSBlZGdlUGFkZGluZyA/IGVkZ2VQYWRkaW5nICogMiAtIGd1dHRlciA6IDA7XG4gICAgcmV0dXJuIGdldENsaWVudFdpZHRoKGNvbnRhaW5lclBhcmVudCkgLSBnYXA7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNPcHRpb24gKGl0ZW0pIHtcbiAgICBpZiAob3B0aW9uc1tpdGVtXSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChyZXNwb25zaXZlKSB7XG4gICAgICAgIGZvciAodmFyIGJwIGluIHJlc3BvbnNpdmUpIHtcbiAgICAgICAgICBpZiAocmVzcG9uc2l2ZVticF1baXRlbV0pIHsgcmV0dXJuIHRydWU7IH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8vIGdldCBvcHRpb246XG4gIC8vIGZpeGVkIHdpZHRoOiB2aWV3cG9ydCwgZml4ZWRXaWR0aCwgZ3V0dGVyID0+IGl0ZW1zXG4gIC8vIG90aGVyczogd2luZG93IHdpZHRoID0+IGFsbCB2YXJpYWJsZXNcbiAgLy8gYWxsOiBpdGVtcyA9PiBzbGlkZUJ5XG4gIGZ1bmN0aW9uIGdldE9wdGlvbiAoaXRlbSwgd3cpIHtcbiAgICBpZiAod3cgPT0gbnVsbCkgeyB3dyA9IHdpbmRvd1dpZHRoOyB9XG5cbiAgICBpZiAoaXRlbSA9PT0gJ2l0ZW1zJyAmJiBmaXhlZFdpZHRoKSB7XG4gICAgICByZXR1cm4gTWF0aC5mbG9vcigodmlld3BvcnQgKyBndXR0ZXIpIC8gKGZpeGVkV2lkdGggKyBndXR0ZXIpKSB8fCAxO1xuXG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXN1bHQgPSBvcHRpb25zW2l0ZW1dO1xuXG4gICAgICBpZiAocmVzcG9uc2l2ZSkge1xuICAgICAgICBmb3IgKHZhciBicCBpbiByZXNwb25zaXZlKSB7XG4gICAgICAgICAgLy8gYnA6IGNvbnZlcnQgc3RyaW5nIHRvIG51bWJlclxuICAgICAgICAgIGlmICh3dyA+PSBwYXJzZUludChicCkpIHtcbiAgICAgICAgICAgIGlmIChpdGVtIGluIHJlc3BvbnNpdmVbYnBdKSB7IHJlc3VsdCA9IHJlc3BvbnNpdmVbYnBdW2l0ZW1dOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpdGVtID09PSAnc2xpZGVCeScgJiYgcmVzdWx0ID09PSAncGFnZScpIHsgcmVzdWx0ID0gZ2V0T3B0aW9uKCdpdGVtcycpOyB9XG4gICAgICBpZiAoIWNhcm91c2VsICYmIChpdGVtID09PSAnc2xpZGVCeScgfHwgaXRlbSA9PT0gJ2l0ZW1zJykpIHsgcmVzdWx0ID0gTWF0aC5mbG9vcihyZXN1bHQpOyB9XG5cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2xpZGVNYXJnaW5MZWZ0IChpKSB7XG4gICAgcmV0dXJuIENBTEMgPyBcbiAgICAgIENBTEMgKyAnKCcgKyBpICogMTAwICsgJyUgLyAnICsgc2xpZGVDb3VudE5ldyArICcpJyA6IFxuICAgICAgaSAqIDEwMCAvIHNsaWRlQ291bnROZXcgKyAnJSc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbm5lcldyYXBwZXJTdHlsZXMgKGVkZ2VQYWRkaW5nVGVtLCBndXR0ZXJUZW0sIGZpeGVkV2lkdGhUZW0sIHNwZWVkVGVtLCBhdXRvSGVpZ2h0QlApIHtcbiAgICB2YXIgc3RyID0gJyc7XG5cbiAgICBpZiAoZWRnZVBhZGRpbmdUZW0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGdhcCA9IGVkZ2VQYWRkaW5nVGVtO1xuICAgICAgaWYgKGd1dHRlclRlbSkgeyBnYXAgLT0gZ3V0dGVyVGVtOyB9XG4gICAgICBzdHIgPSBob3Jpem9udGFsID9cbiAgICAgICAgJ21hcmdpbjogMCAnICsgZ2FwICsgJ3B4IDAgJyArIGVkZ2VQYWRkaW5nVGVtICsgJ3B4OycgOlxuICAgICAgICAnbWFyZ2luOiAnICsgZWRnZVBhZGRpbmdUZW0gKyAncHggMCAnICsgZ2FwICsgJ3B4IDA7JztcbiAgICB9IGVsc2UgaWYgKGd1dHRlclRlbSAmJiAhZml4ZWRXaWR0aFRlbSkge1xuICAgICAgdmFyIGd1dHRlclRlbVVuaXQgPSAnLScgKyBndXR0ZXJUZW0gKyAncHgnLFxuICAgICAgICAgIGRpciA9IGhvcml6b250YWwgPyBndXR0ZXJUZW1Vbml0ICsgJyAwIDAnIDogJzAgJyArIGd1dHRlclRlbVVuaXQgKyAnIDAnO1xuICAgICAgc3RyID0gJ21hcmdpbjogMCAnICsgZGlyICsgJzsnXG4gICAgfVxuXG4gICAgaWYgKCFjYXJvdXNlbCAmJiBhdXRvSGVpZ2h0QlAgJiYgVFJBTlNJVElPTkRVUkFUSU9OICYmIHNwZWVkVGVtKSB7IHN0ciArPSBnZXRUcmFuc2l0aW9uRHVyYXRpb25TdHlsZShzcGVlZFRlbSk7IH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q29udGFpbmVyV2lkdGggKGZpeGVkV2lkdGhUZW0sIGd1dHRlclRlbSwgaXRlbXNUZW0pIHtcbiAgICBpZiAoZml4ZWRXaWR0aFRlbSkge1xuICAgICAgcmV0dXJuIChmaXhlZFdpZHRoVGVtICsgZ3V0dGVyVGVtKSAqIHNsaWRlQ291bnROZXcgKyAncHgnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gQ0FMQyA/XG4gICAgICAgIENBTEMgKyAnKCcgKyBzbGlkZUNvdW50TmV3ICogMTAwICsgJyUgLyAnICsgaXRlbXNUZW0gKyAnKScgOlxuICAgICAgICBzbGlkZUNvdW50TmV3ICogMTAwIC8gaXRlbXNUZW0gKyAnJSc7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2xpZGVXaWR0aFN0eWxlIChmaXhlZFdpZHRoVGVtLCBndXR0ZXJUZW0sIGl0ZW1zVGVtKSB7XG4gICAgdmFyIHdpZHRoO1xuXG4gICAgaWYgKGZpeGVkV2lkdGhUZW0pIHtcbiAgICAgIHdpZHRoID0gKGZpeGVkV2lkdGhUZW0gKyBndXR0ZXJUZW0pICsgJ3B4JztcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFjYXJvdXNlbCkgeyBpdGVtc1RlbSA9IE1hdGguZmxvb3IoaXRlbXNUZW0pOyB9XG4gICAgICB2YXIgZGl2aWRlbmQgPSBjYXJvdXNlbCA/IHNsaWRlQ291bnROZXcgOiBpdGVtc1RlbTtcbiAgICAgIHdpZHRoID0gQ0FMQyA/IFxuICAgICAgICBDQUxDICsgJygxMDAlIC8gJyArIGRpdmlkZW5kICsgJyknIDogXG4gICAgICAgIDEwMCAvIGRpdmlkZW5kICsgJyUnO1xuICAgIH1cblxuICAgIHdpZHRoID0gJ3dpZHRoOicgKyB3aWR0aDtcblxuICAgIC8vIGlubmVyIHNsaWRlcjogb3ZlcndyaXRlIG91dGVyIHNsaWRlciBzdHlsZXNcbiAgICByZXR1cm4gbmVzdGVkICE9PSAnaW5uZXInID8gd2lkdGggKyAnOycgOiB3aWR0aCArICcgIWltcG9ydGFudDsnO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2xpZGVHdXR0ZXJTdHlsZSAoZ3V0dGVyVGVtKSB7XG4gICAgdmFyIHN0ciA9ICcnO1xuXG4gICAgLy8gZ3V0dGVyIG1heWJlIGludGVyZ2VyIHx8IDBcbiAgICAvLyBzbyBjYW4ndCB1c2UgJ2lmIChndXR0ZXIpJ1xuICAgIGlmIChndXR0ZXJUZW0gIT09IGZhbHNlKSB7XG4gICAgICB2YXIgcHJvcCA9IGhvcml6b250YWwgPyAncGFkZGluZy0nIDogJ21hcmdpbi0nLFxuICAgICAgICAgIGRpciA9IGhvcml6b250YWwgPyAncmlnaHQnIDogJ2JvdHRvbSc7XG4gICAgICBzdHIgPSBwcm9wICsgIGRpciArICc6ICcgKyBndXR0ZXJUZW0gKyAncHg7JztcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q1NTUHJlZml4IChuYW1lLCBudW0pIHtcbiAgICB2YXIgcHJlZml4ID0gbmFtZS5zdWJzdHJpbmcoMCwgbmFtZS5sZW5ndGggLSBudW0pLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHByZWZpeCkgeyBwcmVmaXggPSAnLScgKyBwcmVmaXggKyAnLSc7IH1cblxuICAgIHJldHVybiBwcmVmaXg7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUcmFuc2l0aW9uRHVyYXRpb25TdHlsZSAoc3BlZWQpIHtcbiAgICByZXR1cm4gZ2V0Q1NTUHJlZml4KFRSQU5TSVRJT05EVVJBVElPTiwgMTgpICsgJ3RyYW5zaXRpb24tZHVyYXRpb246JyArIHNwZWVkIC8gMTAwMCArICdzOyc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBbmltYXRpb25EdXJhdGlvblN0eWxlIChzcGVlZCkge1xuICAgIHJldHVybiBnZXRDU1NQcmVmaXgoQU5JTUFUSU9ORFVSQVRJT04sIDE3KSArICdhbmltYXRpb24tZHVyYXRpb246JyArIHNwZWVkIC8gMTAwMCArICdzOyc7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U3RydWN0dXJlICgpIHtcbiAgICB2YXIgY2xhc3NPdXRlciA9ICd0bnMtb3V0ZXInLFxuICAgICAgICBjbGFzc0lubmVyID0gJ3Rucy1pbm5lcicsXG4gICAgICAgIGhhc0d1dHRlciA9IGhhc09wdGlvbignZ3V0dGVyJyk7XG5cbiAgICBvdXRlcldyYXBwZXIuY2xhc3NOYW1lID0gY2xhc3NPdXRlcjtcbiAgICBpbm5lcldyYXBwZXIuY2xhc3NOYW1lID0gY2xhc3NJbm5lcjtcbiAgICBvdXRlcldyYXBwZXIuaWQgPSBzbGlkZUlkICsgJy1vdyc7XG4gICAgaW5uZXJXcmFwcGVyLmlkID0gc2xpZGVJZCArICctaXcnO1xuXG4gICAgLy8gc2V0IGNvbnRhaW5lciBwcm9wZXJ0aWVzXG4gICAgaWYgKGNvbnRhaW5lci5pZCA9PT0gJycpIHsgY29udGFpbmVyLmlkID0gc2xpZGVJZDsgfVxuICAgIG5ld0NvbnRhaW5lckNsYXNzZXMgKz0gUEVSQ0VOVEFHRUxBWU9VVCB8fCBhdXRvV2lkdGggPyAnIHRucy1zdWJwaXhlbCcgOiAnIHRucy1uby1zdWJwaXhlbCc7XG4gICAgbmV3Q29udGFpbmVyQ2xhc3NlcyArPSBDQUxDID8gJyB0bnMtY2FsYycgOiAnIHRucy1uby1jYWxjJztcbiAgICBpZiAoYXV0b1dpZHRoKSB7IG5ld0NvbnRhaW5lckNsYXNzZXMgKz0gJyB0bnMtYXV0b3dpZHRoJzsgfVxuICAgIG5ld0NvbnRhaW5lckNsYXNzZXMgKz0gJyB0bnMtJyArIG9wdGlvbnMuYXhpcztcbiAgICBjb250YWluZXIuY2xhc3NOYW1lICs9IG5ld0NvbnRhaW5lckNsYXNzZXM7XG5cbiAgICAvLyBhZGQgY29uc3RyYWluIGxheWVyIGZvciBjYXJvdXNlbFxuICAgIGlmIChjYXJvdXNlbCkge1xuICAgICAgbWlkZGxlV3JhcHBlciA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIG1pZGRsZVdyYXBwZXIuaWQgPSBzbGlkZUlkICsgJy1tdyc7XG4gICAgICBtaWRkbGVXcmFwcGVyLmNsYXNzTmFtZSA9ICd0bnMtb3ZoJztcblxuICAgICAgb3V0ZXJXcmFwcGVyLmFwcGVuZENoaWxkKG1pZGRsZVdyYXBwZXIpO1xuICAgICAgbWlkZGxlV3JhcHBlci5hcHBlbmRDaGlsZChpbm5lcldyYXBwZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvdXRlcldyYXBwZXIuYXBwZW5kQ2hpbGQoaW5uZXJXcmFwcGVyKTtcbiAgICB9XG5cbiAgICBpZiAoYXV0b0hlaWdodCkge1xuICAgICAgdmFyIHdwID0gbWlkZGxlV3JhcHBlciA/IG1pZGRsZVdyYXBwZXIgOiBpbm5lcldyYXBwZXI7XG4gICAgICB3cC5jbGFzc05hbWUgKz0gJyB0bnMtYWgnO1xuICAgIH1cblxuICAgIGNvbnRhaW5lclBhcmVudC5pbnNlcnRCZWZvcmUob3V0ZXJXcmFwcGVyLCBjb250YWluZXIpO1xuICAgIGlubmVyV3JhcHBlci5hcHBlbmRDaGlsZChjb250YWluZXIpO1xuXG4gICAgLy8gYWRkIGlkLCBjbGFzcywgYXJpYSBhdHRyaWJ1dGVzIFxuICAgIC8vIGJlZm9yZSBjbG9uZSBzbGlkZXNcbiAgICBmb3JFYWNoKHNsaWRlSXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGkpIHtcbiAgICAgIGFkZENsYXNzKGl0ZW0sICd0bnMtaXRlbScpO1xuICAgICAgaWYgKCFpdGVtLmlkKSB7IGl0ZW0uaWQgPSBzbGlkZUlkICsgJy1pdGVtJyArIGk7IH1cbiAgICAgIGlmICghY2Fyb3VzZWwgJiYgYW5pbWF0ZU5vcm1hbCkgeyBhZGRDbGFzcyhpdGVtLCBhbmltYXRlTm9ybWFsKTsgfVxuICAgICAgc2V0QXR0cnMoaXRlbSwge1xuICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgICAgICd0YWJpbmRleCc6ICctMSdcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLy8gIyMgY2xvbmUgc2xpZGVzXG4gICAgLy8gY2Fyb3VzZWw6IG4gKyBzbGlkZXMgKyBuXG4gICAgLy8gZ2FsbGVyeTogICAgICBzbGlkZXMgKyBuXG4gICAgaWYgKGNsb25lQ291bnQpIHtcbiAgICAgIHZhciBmcmFnbWVudEJlZm9yZSA9IGRvYy5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIFxuICAgICAgICAgIGZyYWdtZW50QWZ0ZXIgPSBkb2MuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuXG4gICAgICBmb3IgKHZhciBqID0gY2xvbmVDb3VudDsgai0tOykge1xuICAgICAgICB2YXIgbnVtID0gaiVzbGlkZUNvdW50LFxuICAgICAgICAgICAgY2xvbmVGaXJzdCA9IHNsaWRlSXRlbXNbbnVtXS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgIHJlbW92ZUF0dHJzKGNsb25lRmlyc3QsICdpZCcpO1xuICAgICAgICBmcmFnbWVudEFmdGVyLmluc2VydEJlZm9yZShjbG9uZUZpcnN0LCBmcmFnbWVudEFmdGVyLmZpcnN0Q2hpbGQpO1xuXG4gICAgICAgIGlmIChjYXJvdXNlbCkge1xuICAgICAgICAgIHZhciBjbG9uZUxhc3QgPSBzbGlkZUl0ZW1zW3NsaWRlQ291bnQgLSAxIC0gbnVtXS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgcmVtb3ZlQXR0cnMoY2xvbmVMYXN0LCAnaWQnKTtcbiAgICAgICAgICBmcmFnbWVudEJlZm9yZS5hcHBlbmRDaGlsZChjbG9uZUxhc3QpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUoZnJhZ21lbnRCZWZvcmUsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudEFmdGVyKTtcbiAgICAgIHNsaWRlSXRlbXMgPSBjb250YWluZXIuY2hpbGRyZW47XG4gICAgfVxuXG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2xpZGVyVHJhbnNmb3JtICgpIHtcbiAgICAvLyAjIyBpbWFnZXMgbG9hZGVkL2ZhaWxlZFxuICAgIGlmIChoYXNPcHRpb24oJ2F1dG9IZWlnaHQnKSB8fCBhdXRvV2lkdGggfHwgIWhvcml6b250YWwpIHtcbiAgICAgIHZhciBpbWdzID0gY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpO1xuXG4gICAgICAvLyBhZGQgY29tcGxldGUgY2xhc3MgaWYgYWxsIGltYWdlcyBhcmUgbG9hZGVkL2ZhaWxlZFxuICAgICAgZm9yRWFjaChpbWdzLCBmdW5jdGlvbihpbWcpIHtcbiAgICAgICAgdmFyIHNyYyA9IGltZy5zcmM7XG4gICAgICAgIFxuICAgICAgICBpZiAoc3JjICYmIHNyYy5pbmRleE9mKCdkYXRhOmltYWdlJykgPCAwKSB7XG4gICAgICAgICAgYWRkRXZlbnRzKGltZywgaW1nRXZlbnRzKTtcbiAgICAgICAgICBpbWcuc3JjID0gJyc7XG4gICAgICAgICAgaW1nLnNyYyA9IHNyYztcbiAgICAgICAgICBhZGRDbGFzcyhpbWcsICdsb2FkaW5nJyk7XG4gICAgICAgIH0gZWxzZSBpZiAoIWxhenlsb2FkKSB7XG4gICAgICAgICAgaW1nTG9hZGVkKGltZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBBbGwgaW1ncyBhcmUgY29tcGxldGVkXG4gICAgICByYWYoZnVuY3Rpb24oKXsgaW1nc0xvYWRlZENoZWNrKGFycmF5RnJvbU5vZGVMaXN0KGltZ3MpLCBmdW5jdGlvbigpIHsgaW1nc0NvbXBsZXRlID0gdHJ1ZTsgfSk7IH0pO1xuXG4gICAgICAvLyBDaGVjayBpbWdzIGluIHdpbmRvdyBvbmx5IGZvciBhdXRvIGhlaWdodFxuICAgICAgaWYgKCFhdXRvV2lkdGggJiYgaG9yaXpvbnRhbCkgeyBpbWdzID0gZ2V0SW1hZ2VBcnJheShpbmRleCwgTWF0aC5taW4oaW5kZXggKyBpdGVtcyAtIDEsIHNsaWRlQ291bnROZXcgLSAxKSk7IH1cblxuICAgICAgbGF6eWxvYWQgPyBpbml0U2xpZGVyVHJhbnNmb3JtU3R5bGVDaGVjaygpIDogcmFmKGZ1bmN0aW9uKCl7IGltZ3NMb2FkZWRDaGVjayhhcnJheUZyb21Ob2RlTGlzdChpbWdzKSwgaW5pdFNsaWRlclRyYW5zZm9ybVN0eWxlQ2hlY2spOyB9KTtcblxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBzZXQgY29udGFpbmVyIHRyYW5zZm9ybSBwcm9wZXJ0eVxuICAgICAgaWYgKGNhcm91c2VsKSB7IGRvQ29udGFpbmVyVHJhbnNmb3JtU2lsZW50KCk7IH1cblxuICAgICAgLy8gdXBkYXRlIHNsaWRlciB0b29scyBhbmQgZXZlbnRzXG4gICAgICBpbml0VG9vbHMoKTtcbiAgICAgIGluaXRFdmVudHMoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2xpZGVyVHJhbnNmb3JtU3R5bGVDaGVjayAoKSB7XG4gICAgaWYgKGF1dG9XaWR0aCkge1xuICAgICAgLy8gY2hlY2sgc3R5bGVzIGFwcGxpY2F0aW9uXG4gICAgICB2YXIgbnVtID0gbG9vcCA/IGluZGV4IDogc2xpZGVDb3VudCAtIDE7XG4gICAgICAoZnVuY3Rpb24gc3R5bGVzQXBwbGljYXRpb25DaGVjaygpIHtcbiAgICAgICAgc2xpZGVJdGVtc1tudW0gLSAxXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodC50b0ZpeGVkKDIpID09PSBzbGlkZUl0ZW1zW251bV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC50b0ZpeGVkKDIpID9cbiAgICAgICAgaW5pdFNsaWRlclRyYW5zZm9ybUNvcmUoKSA6XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgc3R5bGVzQXBwbGljYXRpb25DaGVjaygpIH0sIDE2KTtcbiAgICAgIH0pKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGluaXRTbGlkZXJUcmFuc2Zvcm1Db3JlKCk7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBpbml0U2xpZGVyVHJhbnNmb3JtQ29yZSAoKSB7XG4gICAgLy8gcnVuIEZuKClzIHdoaWNoIGFyZSByZWx5IG9uIGltYWdlIGxvYWRpbmdcbiAgICBpZiAoIWhvcml6b250YWwgfHwgYXV0b1dpZHRoKSB7XG4gICAgICBzZXRTbGlkZVBvc2l0aW9ucygpO1xuXG4gICAgICBpZiAoYXV0b1dpZHRoKSB7XG4gICAgICAgIHJpZ2h0Qm91bmRhcnkgPSBnZXRSaWdodEJvdW5kYXJ5KCk7XG4gICAgICAgIGlmIChmcmVlemFibGUpIHsgZnJlZXplID0gZ2V0RnJlZXplKCk7IH1cbiAgICAgICAgaW5kZXhNYXggPSBnZXRJbmRleE1heCgpOyAvLyA8PSBzbGlkZVBvc2l0aW9ucywgcmlnaHRCb3VuZGFyeSA8PVxuICAgICAgICByZXNldFZhcmlibGVzV2hlbkRpc2FibGUoZGlzYWJsZSB8fCBmcmVlemUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXBkYXRlQ29udGVudFdyYXBwZXJIZWlnaHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZXQgY29udGFpbmVyIHRyYW5zZm9ybSBwcm9wZXJ0eVxuICAgIGlmIChjYXJvdXNlbCkgeyBkb0NvbnRhaW5lclRyYW5zZm9ybVNpbGVudCgpOyB9XG5cbiAgICAvLyB1cGRhdGUgc2xpZGVyIHRvb2xzIGFuZCBldmVudHNcbiAgICBpbml0VG9vbHMoKTtcbiAgICBpbml0RXZlbnRzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBpbml0U2hlZXQgKCkge1xuICAgIC8vIGdhbGxlcnk6XG4gICAgLy8gc2V0IGFuaW1hdGlvbiBjbGFzc2VzIGFuZCBsZWZ0IHZhbHVlIGZvciBnYWxsZXJ5IHNsaWRlclxuICAgIGlmICghY2Fyb3VzZWwpIHsgXG4gICAgICBmb3IgKHZhciBpID0gaW5kZXgsIGwgPSBpbmRleCArIE1hdGgubWluKHNsaWRlQ291bnQsIGl0ZW1zKTsgaSA8IGw7IGkrKykge1xuICAgICAgICB2YXIgaXRlbSA9IHNsaWRlSXRlbXNbaV07XG4gICAgICAgIGl0ZW0uc3R5bGUubGVmdCA9IChpIC0gaW5kZXgpICogMTAwIC8gaXRlbXMgKyAnJSc7XG4gICAgICAgIGFkZENsYXNzKGl0ZW0sIGFuaW1hdGVJbik7XG4gICAgICAgIHJlbW92ZUNsYXNzKGl0ZW0sIGFuaW1hdGVOb3JtYWwpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vICMjIyMgTEFZT1VUXG5cbiAgICAvLyAjIyBJTkxJTkUtQkxPQ0sgVlMgRkxPQVRcblxuICAgIC8vICMjIFBlcmNlbnRhZ2VMYXlvdXQ6XG4gICAgLy8gc2xpZGVzOiBpbmxpbmUtYmxvY2tcbiAgICAvLyByZW1vdmUgYmxhbmsgc3BhY2UgYmV0d2VlbiBzbGlkZXMgYnkgc2V0IGZvbnQtc2l6ZTogMFxuXG4gICAgLy8gIyMgTm9uIFBlcmNlbnRhZ2VMYXlvdXQ6XG4gICAgLy8gc2xpZGVzOiBmbG9hdFxuICAgIC8vICAgICAgICAgbWFyZ2luLXJpZ2h0OiAtMTAwJVxuICAgIC8vICAgICAgICAgbWFyZ2luLWxlZnQ6IH5cblxuICAgIC8vIFJlc291cmNlOiBodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC8xNDd1cDI0NXd3VFhlUVl2ZTNCUlNBRDRvVmN2UW11R3NGdGVKT2VBNXhOUS9lZGl0P3VzcD1zaGFyaW5nXG4gICAgaWYgKGhvcml6b250YWwpIHtcbiAgICAgIGlmIChQRVJDRU5UQUdFTEFZT1VUIHx8IGF1dG9XaWR0aCkge1xuICAgICAgICBhZGRDU1NSdWxlKHNoZWV0LCAnIycgKyBzbGlkZUlkICsgJyA+IC50bnMtaXRlbScsICdmb250LXNpemU6JyArIHdpbi5nZXRDb21wdXRlZFN0eWxlKHNsaWRlSXRlbXNbMF0pLmZvbnRTaXplICsgJzsnLCBnZXRDc3NSdWxlc0xlbmd0aChzaGVldCkpO1xuICAgICAgICBhZGRDU1NSdWxlKHNoZWV0LCAnIycgKyBzbGlkZUlkLCAnZm9udC1zaXplOjA7JywgZ2V0Q3NzUnVsZXNMZW5ndGgoc2hlZXQpKTtcbiAgICAgIH0gZWxzZSBpZiAoY2Fyb3VzZWwpIHtcbiAgICAgICAgZm9yRWFjaChzbGlkZUl0ZW1zLCBmdW5jdGlvbiAoc2xpZGUsIGkpIHtcbiAgICAgICAgICBzbGlkZS5zdHlsZS5tYXJnaW5MZWZ0ID0gZ2V0U2xpZGVNYXJnaW5MZWZ0KGkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cblxuICAgIC8vICMjIEJBU0lDIFNUWUxFU1xuICAgIGlmIChDU1NNUSkge1xuICAgICAgLy8gbWlkZGxlIHdyYXBwZXIgc3R5bGVcbiAgICAgIGlmIChUUkFOU0lUSU9ORFVSQVRJT04pIHtcbiAgICAgICAgdmFyIHN0ciA9IG1pZGRsZVdyYXBwZXIgJiYgb3B0aW9ucy5hdXRvSGVpZ2h0ID8gZ2V0VHJhbnNpdGlvbkR1cmF0aW9uU3R5bGUob3B0aW9ucy5zcGVlZCkgOiAnJztcbiAgICAgICAgYWRkQ1NTUnVsZShzaGVldCwgJyMnICsgc2xpZGVJZCArICctbXcnLCBzdHIsIGdldENzc1J1bGVzTGVuZ3RoKHNoZWV0KSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlubmVyIHdyYXBwZXIgc3R5bGVzXG4gICAgICBzdHIgPSBnZXRJbm5lcldyYXBwZXJTdHlsZXMob3B0aW9ucy5lZGdlUGFkZGluZywgb3B0aW9ucy5ndXR0ZXIsIG9wdGlvbnMuZml4ZWRXaWR0aCwgb3B0aW9ucy5zcGVlZCwgb3B0aW9ucy5hdXRvSGVpZ2h0KTtcbiAgICAgIGFkZENTU1J1bGUoc2hlZXQsICcjJyArIHNsaWRlSWQgKyAnLWl3Jywgc3RyLCBnZXRDc3NSdWxlc0xlbmd0aChzaGVldCkpO1xuXG4gICAgICAvLyBjb250YWluZXIgc3R5bGVzXG4gICAgICBpZiAoY2Fyb3VzZWwpIHtcbiAgICAgICAgc3RyID0gaG9yaXpvbnRhbCAmJiAhYXV0b1dpZHRoID8gJ3dpZHRoOicgKyBnZXRDb250YWluZXJXaWR0aChvcHRpb25zLmZpeGVkV2lkdGgsIG9wdGlvbnMuZ3V0dGVyLCBvcHRpb25zLml0ZW1zKSArICc7JyA6ICcnO1xuICAgICAgICBpZiAoVFJBTlNJVElPTkRVUkFUSU9OKSB7IHN0ciArPSBnZXRUcmFuc2l0aW9uRHVyYXRpb25TdHlsZShzcGVlZCk7IH1cbiAgICAgICAgYWRkQ1NTUnVsZShzaGVldCwgJyMnICsgc2xpZGVJZCwgc3RyLCBnZXRDc3NSdWxlc0xlbmd0aChzaGVldCkpO1xuICAgICAgfVxuXG4gICAgICAvLyBzbGlkZSBzdHlsZXNcbiAgICAgIHN0ciA9IGhvcml6b250YWwgJiYgIWF1dG9XaWR0aCA/IGdldFNsaWRlV2lkdGhTdHlsZShvcHRpb25zLmZpeGVkV2lkdGgsIG9wdGlvbnMuZ3V0dGVyLCBvcHRpb25zLml0ZW1zKSA6ICcnO1xuICAgICAgaWYgKG9wdGlvbnMuZ3V0dGVyKSB7IHN0ciArPSBnZXRTbGlkZUd1dHRlclN0eWxlKG9wdGlvbnMuZ3V0dGVyKTsgfVxuICAgICAgLy8gc2V0IGdhbGxlcnkgaXRlbXMgdHJhbnNpdGlvbi1kdXJhdGlvblxuICAgICAgaWYgKCFjYXJvdXNlbCkge1xuICAgICAgICBpZiAoVFJBTlNJVElPTkRVUkFUSU9OKSB7IHN0ciArPSBnZXRUcmFuc2l0aW9uRHVyYXRpb25TdHlsZShzcGVlZCk7IH1cbiAgICAgICAgaWYgKEFOSU1BVElPTkRVUkFUSU9OKSB7IHN0ciArPSBnZXRBbmltYXRpb25EdXJhdGlvblN0eWxlKHNwZWVkKTsgfVxuICAgICAgfVxuICAgICAgaWYgKHN0cikgeyBhZGRDU1NSdWxlKHNoZWV0LCAnIycgKyBzbGlkZUlkICsgJyA+IC50bnMtaXRlbScsIHN0ciwgZ2V0Q3NzUnVsZXNMZW5ndGgoc2hlZXQpKTsgfVxuXG4gICAgLy8gbm9uIENTUyBtZWRpYXF1ZXJpZXM6IElFOFxuICAgIC8vICMjIHVwZGF0ZSBpbm5lciB3cmFwcGVyLCBjb250YWluZXIsIHNsaWRlcyBpZiBuZWVkZWRcbiAgICAvLyBzZXQgaW5saW5lIHN0eWxlcyBmb3IgaW5uZXIgd3JhcHBlciAmIGNvbnRhaW5lclxuICAgIC8vIGluc2VydCBzdHlsZXNoZWV0IChvbmUgbGluZSkgZm9yIHNsaWRlcyBvbmx5IChzaW5jZSBzbGlkZXMgYXJlIG1hbnkpXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIG1pZGRsZSB3cmFwcGVyIHN0eWxlc1xuICAgICAgdXBkYXRlX2Nhcm91c2VsX3RyYW5zaXRpb25fZHVyYXRpb24oKTtcblxuICAgICAgLy8gaW5uZXIgd3JhcHBlciBzdHlsZXNcbiAgICAgIGlubmVyV3JhcHBlci5zdHlsZS5jc3NUZXh0ID0gZ2V0SW5uZXJXcmFwcGVyU3R5bGVzKGVkZ2VQYWRkaW5nLCBndXR0ZXIsIGZpeGVkV2lkdGgsIGF1dG9IZWlnaHQpO1xuXG4gICAgICAvLyBjb250YWluZXIgc3R5bGVzXG4gICAgICBpZiAoY2Fyb3VzZWwgJiYgaG9yaXpvbnRhbCAmJiAhYXV0b1dpZHRoKSB7XG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS53aWR0aCA9IGdldENvbnRhaW5lcldpZHRoKGZpeGVkV2lkdGgsIGd1dHRlciwgaXRlbXMpO1xuICAgICAgfVxuXG4gICAgICAvLyBzbGlkZSBzdHlsZXNcbiAgICAgIHZhciBzdHIgPSBob3Jpem9udGFsICYmICFhdXRvV2lkdGggPyBnZXRTbGlkZVdpZHRoU3R5bGUoZml4ZWRXaWR0aCwgZ3V0dGVyLCBpdGVtcykgOiAnJztcbiAgICAgIGlmIChndXR0ZXIpIHsgc3RyICs9IGdldFNsaWRlR3V0dGVyU3R5bGUoZ3V0dGVyKTsgfVxuXG4gICAgICAvLyBhcHBlbmQgdG8gdGhlIGxhc3QgbGluZVxuICAgICAgaWYgKHN0cikgeyBhZGRDU1NSdWxlKHNoZWV0LCAnIycgKyBzbGlkZUlkICsgJyA+IC50bnMtaXRlbScsIHN0ciwgZ2V0Q3NzUnVsZXNMZW5ndGgoc2hlZXQpKTsgfVxuICAgIH1cblxuICAgIC8vICMjIE1FRElBUVVFUklFU1xuICAgIGlmIChyZXNwb25zaXZlICYmIENTU01RKSB7XG4gICAgICBmb3IgKHZhciBicCBpbiByZXNwb25zaXZlKSB7XG4gICAgICAgIC8vIGJwOiBjb252ZXJ0IHN0cmluZyB0byBudW1iZXJcbiAgICAgICAgYnAgPSBwYXJzZUludChicCk7XG5cbiAgICAgICAgdmFyIG9wdHMgPSByZXNwb25zaXZlW2JwXSxcbiAgICAgICAgICAgIHN0ciA9ICcnLFxuICAgICAgICAgICAgbWlkZGxlV3JhcHBlclN0ciA9ICcnLFxuICAgICAgICAgICAgaW5uZXJXcmFwcGVyU3RyID0gJycsXG4gICAgICAgICAgICBjb250YWluZXJTdHIgPSAnJyxcbiAgICAgICAgICAgIHNsaWRlU3RyID0gJycsXG4gICAgICAgICAgICBpdGVtc0JQID0gIWF1dG9XaWR0aCA/IGdldE9wdGlvbignaXRlbXMnLCBicCkgOiBudWxsLFxuICAgICAgICAgICAgZml4ZWRXaWR0aEJQID0gZ2V0T3B0aW9uKCdmaXhlZFdpZHRoJywgYnApLFxuICAgICAgICAgICAgc3BlZWRCUCA9IGdldE9wdGlvbignc3BlZWQnLCBicCksXG4gICAgICAgICAgICBlZGdlUGFkZGluZ0JQID0gZ2V0T3B0aW9uKCdlZGdlUGFkZGluZycsIGJwKSxcbiAgICAgICAgICAgIGF1dG9IZWlnaHRCUCA9IGdldE9wdGlvbignYXV0b0hlaWdodCcsIGJwKSxcbiAgICAgICAgICAgIGd1dHRlckJQID0gZ2V0T3B0aW9uKCdndXR0ZXInLCBicCk7XG5cbiAgICAgICAgLy8gbWlkZGxlIHdyYXBwZXIgc3RyaW5nXG4gICAgICAgIGlmIChUUkFOU0lUSU9ORFVSQVRJT04gJiYgbWlkZGxlV3JhcHBlciAmJiBnZXRPcHRpb24oJ2F1dG9IZWlnaHQnLCBicCkgJiYgJ3NwZWVkJyBpbiBvcHRzKSB7XG4gICAgICAgICAgbWlkZGxlV3JhcHBlclN0ciA9ICcjJyArIHNsaWRlSWQgKyAnLW13eycgKyBnZXRUcmFuc2l0aW9uRHVyYXRpb25TdHlsZShzcGVlZEJQKSArICd9JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGlubmVyIHdyYXBwZXIgc3RyaW5nXG4gICAgICAgIGlmICgnZWRnZVBhZGRpbmcnIGluIG9wdHMgfHwgJ2d1dHRlcicgaW4gb3B0cykge1xuICAgICAgICAgIGlubmVyV3JhcHBlclN0ciA9ICcjJyArIHNsaWRlSWQgKyAnLWl3eycgKyBnZXRJbm5lcldyYXBwZXJTdHlsZXMoZWRnZVBhZGRpbmdCUCwgZ3V0dGVyQlAsIGZpeGVkV2lkdGhCUCwgc3BlZWRCUCwgYXV0b0hlaWdodEJQKSArICd9JztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNvbnRhaW5lciBzdHJpbmdcbiAgICAgICAgaWYgKGNhcm91c2VsICYmIGhvcml6b250YWwgJiYgIWF1dG9XaWR0aCAmJiAoJ2ZpeGVkV2lkdGgnIGluIG9wdHMgfHwgJ2l0ZW1zJyBpbiBvcHRzIHx8IChmaXhlZFdpZHRoICYmICdndXR0ZXInIGluIG9wdHMpKSkge1xuICAgICAgICAgIGNvbnRhaW5lclN0ciA9ICd3aWR0aDonICsgZ2V0Q29udGFpbmVyV2lkdGgoZml4ZWRXaWR0aEJQLCBndXR0ZXJCUCwgaXRlbXNCUCkgKyAnOyc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFRSQU5TSVRJT05EVVJBVElPTiAmJiAnc3BlZWQnIGluIG9wdHMpIHtcbiAgICAgICAgICBjb250YWluZXJTdHIgKz0gZ2V0VHJhbnNpdGlvbkR1cmF0aW9uU3R5bGUoc3BlZWRCUCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRhaW5lclN0cikge1xuICAgICAgICAgIGNvbnRhaW5lclN0ciA9ICcjJyArIHNsaWRlSWQgKyAneycgKyBjb250YWluZXJTdHIgKyAnfSc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzbGlkZSBzdHJpbmdcbiAgICAgICAgaWYgKCdmaXhlZFdpZHRoJyBpbiBvcHRzIHx8IChmaXhlZFdpZHRoICYmICdndXR0ZXInIGluIG9wdHMpIHx8ICFjYXJvdXNlbCAmJiAnaXRlbXMnIGluIG9wdHMpIHtcbiAgICAgICAgICBzbGlkZVN0ciArPSBnZXRTbGlkZVdpZHRoU3R5bGUoZml4ZWRXaWR0aEJQLCBndXR0ZXJCUCwgaXRlbXNCUCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdndXR0ZXInIGluIG9wdHMpIHtcbiAgICAgICAgICBzbGlkZVN0ciArPSBnZXRTbGlkZUd1dHRlclN0eWxlKGd1dHRlckJQKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZXQgZ2FsbGVyeSBpdGVtcyB0cmFuc2l0aW9uLWR1cmF0aW9uXG4gICAgICAgIGlmICghY2Fyb3VzZWwgJiYgJ3NwZWVkJyBpbiBvcHRzKSB7XG4gICAgICAgICAgaWYgKFRSQU5TSVRJT05EVVJBVElPTikgeyBzbGlkZVN0ciArPSBnZXRUcmFuc2l0aW9uRHVyYXRpb25TdHlsZShzcGVlZEJQKTsgfVxuICAgICAgICAgIGlmIChBTklNQVRJT05EVVJBVElPTikgeyBzbGlkZVN0ciArPSBnZXRBbmltYXRpb25EdXJhdGlvblN0eWxlKHNwZWVkQlApOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNsaWRlU3RyKSB7IHNsaWRlU3RyID0gJyMnICsgc2xpZGVJZCArICcgPiAudG5zLWl0ZW17JyArIHNsaWRlU3RyICsgJ30nOyB9XG5cbiAgICAgICAgLy8gYWRkIHVwXG4gICAgICAgIHN0ciA9IG1pZGRsZVdyYXBwZXJTdHIgKyBpbm5lcldyYXBwZXJTdHIgKyBjb250YWluZXJTdHIgKyBzbGlkZVN0cjtcblxuICAgICAgICBpZiAoc3RyKSB7XG4gICAgICAgICAgc2hlZXQuaW5zZXJ0UnVsZSgnQG1lZGlhIChtaW4td2lkdGg6ICcgKyBicCAvIDE2ICsgJ2VtKSB7JyArIHN0ciArICd9Jywgc2hlZXQuY3NzUnVsZXMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRUb29scyAoKSB7XG4gICAgLy8gPT0gc2xpZGVzID09XG4gICAgdXBkYXRlU2xpZGVTdGF0dXMoKTtcblxuICAgIC8vID09IGxpdmUgcmVnaW9uID09XG4gICAgb3V0ZXJXcmFwcGVyLmluc2VydEFkamFjZW50SFRNTCgnYWZ0ZXJiZWdpbicsICc8ZGl2IGNsYXNzPVwidG5zLWxpdmVyZWdpb24gdG5zLXZpc3VhbGx5LWhpZGRlblwiIGFyaWEtbGl2ZT1cInBvbGl0ZVwiIGFyaWEtYXRvbWljPVwidHJ1ZVwiPnNsaWRlIDxzcGFuIGNsYXNzPVwiY3VycmVudFwiPicgKyBnZXRMaXZlUmVnaW9uU3RyKCkgKyAnPC9zcGFuPiAgb2YgJyArIHNsaWRlQ291bnQgKyAnPC9kaXY+Jyk7XG4gICAgbGl2ZXJlZ2lvbkN1cnJlbnQgPSBvdXRlcldyYXBwZXIucXVlcnlTZWxlY3RvcignLnRucy1saXZlcmVnaW9uIC5jdXJyZW50Jyk7XG5cbiAgICAvLyA9PSBhdXRvcGxheUluaXQgPT1cbiAgICBpZiAoaGFzQXV0b3BsYXkpIHtcbiAgICAgIHZhciB0eHQgPSBhdXRvcGxheSA/ICdzdG9wJyA6ICdzdGFydCc7XG4gICAgICBpZiAoYXV0b3BsYXlCdXR0b24pIHtcbiAgICAgICAgc2V0QXR0cnMoYXV0b3BsYXlCdXR0b24sIHsnZGF0YS1hY3Rpb24nOiB0eHR9KTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hdXRvcGxheUJ1dHRvbk91dHB1dCkge1xuICAgICAgICBvdXRlcldyYXBwZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKGdldEluc2VydFBvc2l0aW9uKG9wdGlvbnMuYXV0b3BsYXlQb3NpdGlvbiksICc8YnV0dG9uIGRhdGEtYWN0aW9uPVwiJyArIHR4dCArICdcIj4nICsgYXV0b3BsYXlIdG1sU3RyaW5nc1swXSArIHR4dCArIGF1dG9wbGF5SHRtbFN0cmluZ3NbMV0gKyBhdXRvcGxheVRleHRbMF0gKyAnPC9idXR0b24+Jyk7XG4gICAgICAgIGF1dG9wbGF5QnV0dG9uID0gb3V0ZXJXcmFwcGVyLnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWFjdGlvbl0nKTtcbiAgICAgIH1cblxuICAgICAgLy8gYWRkIGV2ZW50XG4gICAgICBpZiAoYXV0b3BsYXlCdXR0b24pIHtcbiAgICAgICAgYWRkRXZlbnRzKGF1dG9wbGF5QnV0dG9uLCB7J2NsaWNrJzogdG9nZ2xlQXV0b3BsYXl9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGF1dG9wbGF5KSB7XG4gICAgICAgIHN0YXJ0QXV0b3BsYXkoKTtcbiAgICAgICAgaWYgKGF1dG9wbGF5SG92ZXJQYXVzZSkgeyBhZGRFdmVudHMoY29udGFpbmVyLCBob3ZlckV2ZW50cyk7IH1cbiAgICAgICAgaWYgKGF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHkpIHsgYWRkRXZlbnRzKGNvbnRhaW5lciwgdmlzaWJpbGl0eUV2ZW50KTsgfVxuICAgICAgfVxuICAgIH1cbiBcbiAgICAvLyA9PSBuYXZJbml0ID09XG4gICAgaWYgKGhhc05hdikge1xuICAgICAgdmFyIGluaXRJbmRleCA9ICFjYXJvdXNlbCA/IDAgOiBjbG9uZUNvdW50O1xuICAgICAgLy8gY3VzdG9taXplZCBuYXZcbiAgICAgIC8vIHdpbGwgbm90IGhpZGUgdGhlIG5hdnMgaW4gY2FzZSB0aGV5J3JlIHRodW1ibmFpbHNcbiAgICAgIGlmIChuYXZDb250YWluZXIpIHtcbiAgICAgICAgc2V0QXR0cnMobmF2Q29udGFpbmVyLCB7J2FyaWEtbGFiZWwnOiAnQ2Fyb3VzZWwgUGFnaW5hdGlvbid9KTtcbiAgICAgICAgbmF2SXRlbXMgPSBuYXZDb250YWluZXIuY2hpbGRyZW47XG4gICAgICAgIGZvckVhY2gobmF2SXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGkpIHtcbiAgICAgICAgICBzZXRBdHRycyhpdGVtLCB7XG4gICAgICAgICAgICAnZGF0YS1uYXYnOiBpLFxuICAgICAgICAgICAgJ3RhYmluZGV4JzogJy0xJyxcbiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogbmF2U3RyICsgKGkgKyAxKSxcbiAgICAgICAgICAgICdhcmlhLWNvbnRyb2xzJzogc2xpZGVJZCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgIC8vIGdlbmVyYXRlZCBuYXYgXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbmF2SHRtbCA9ICcnLFxuICAgICAgICAgICAgaGlkZGVuU3RyID0gbmF2QXNUaHVtYm5haWxzID8gJycgOiAnc3R5bGU9XCJkaXNwbGF5Om5vbmVcIic7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2xpZGVDb3VudDsgaSsrKSB7XG4gICAgICAgICAgLy8gaGlkZSBuYXYgaXRlbXMgYnkgZGVmYXVsdFxuICAgICAgICAgIG5hdkh0bWwgKz0gJzxidXR0b24gZGF0YS1uYXY9XCInICsgaSArJ1wiIHRhYmluZGV4PVwiLTFcIiBhcmlhLWNvbnRyb2xzPVwiJyArIHNsaWRlSWQgKyAnXCIgJyArIGhpZGRlblN0ciArICcgYXJpYS1sYWJlbD1cIicgKyBuYXZTdHIgKyAoaSArIDEpICsnXCI+PC9idXR0b24+JztcbiAgICAgICAgfVxuICAgICAgICBuYXZIdG1sID0gJzxkaXYgY2xhc3M9XCJ0bnMtbmF2XCIgYXJpYS1sYWJlbD1cIkNhcm91c2VsIFBhZ2luYXRpb25cIj4nICsgbmF2SHRtbCArICc8L2Rpdj4nO1xuICAgICAgICBvdXRlcldyYXBwZXIuaW5zZXJ0QWRqYWNlbnRIVE1MKGdldEluc2VydFBvc2l0aW9uKG9wdGlvbnMubmF2UG9zaXRpb24pLCBuYXZIdG1sKTtcblxuICAgICAgICBuYXZDb250YWluZXIgPSBvdXRlcldyYXBwZXIucXVlcnlTZWxlY3RvcignLnRucy1uYXYnKTtcbiAgICAgICAgbmF2SXRlbXMgPSBuYXZDb250YWluZXIuY2hpbGRyZW47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZU5hdlZpc2liaWxpdHkoKTtcblxuICAgICAgLy8gYWRkIHRyYW5zaXRpb25cbiAgICAgIGlmIChUUkFOU0lUSU9ORFVSQVRJT04pIHtcbiAgICAgICAgdmFyIHByZWZpeCA9IFRSQU5TSVRJT05EVVJBVElPTi5zdWJzdHJpbmcoMCwgVFJBTlNJVElPTkRVUkFUSU9OLmxlbmd0aCAtIDE4KS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgc3RyID0gJ3RyYW5zaXRpb246IGFsbCAnICsgc3BlZWQgLyAxMDAwICsgJ3MnO1xuXG4gICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICBzdHIgPSAnLScgKyBwcmVmaXggKyAnLScgKyBzdHI7XG4gICAgICAgIH1cblxuICAgICAgICBhZGRDU1NSdWxlKHNoZWV0LCAnW2FyaWEtY29udHJvbHNePScgKyBzbGlkZUlkICsgJy1pdGVtXScsIHN0ciwgZ2V0Q3NzUnVsZXNMZW5ndGgoc2hlZXQpKTtcbiAgICAgIH1cblxuICAgICAgc2V0QXR0cnMobmF2SXRlbXNbbmF2Q3VycmVudEluZGV4XSwgeydhcmlhLWxhYmVsJzogbmF2U3RyICsgKG5hdkN1cnJlbnRJbmRleCArIDEpICsgbmF2U3RyQ3VycmVudH0pO1xuICAgICAgcmVtb3ZlQXR0cnMobmF2SXRlbXNbbmF2Q3VycmVudEluZGV4XSwgJ3RhYmluZGV4Jyk7XG4gICAgICBhZGRDbGFzcyhuYXZJdGVtc1tuYXZDdXJyZW50SW5kZXhdLCBuYXZBY3RpdmVDbGFzcyk7XG5cbiAgICAgIC8vIGFkZCBldmVudHNcbiAgICAgIGFkZEV2ZW50cyhuYXZDb250YWluZXIsIG5hdkV2ZW50cyk7XG4gICAgfVxuXG5cblxuICAgIC8vID09IGNvbnRyb2xzSW5pdCA9PVxuICAgIGlmIChoYXNDb250cm9scykge1xuICAgICAgaWYgKCFjb250cm9sc0NvbnRhaW5lciAmJiAoIXByZXZCdXR0b24gfHwgIW5leHRCdXR0b24pKSB7XG4gICAgICAgIG91dGVyV3JhcHBlci5pbnNlcnRBZGphY2VudEhUTUwoZ2V0SW5zZXJ0UG9zaXRpb24ob3B0aW9ucy5jb250cm9sc1Bvc2l0aW9uKSwgJzxkaXYgY2xhc3M9XCJ0bnMtY29udHJvbHNcIiBhcmlhLWxhYmVsPVwiQ2Fyb3VzZWwgTmF2aWdhdGlvblwiIHRhYmluZGV4PVwiMFwiPjxidXR0b24gZGF0YS1jb250cm9scz1cInByZXZcIiB0YWJpbmRleD1cIi0xXCIgYXJpYS1jb250cm9scz1cIicgKyBzbGlkZUlkICsnXCI+JyArIGNvbnRyb2xzVGV4dFswXSArICc8L2J1dHRvbj48YnV0dG9uIGRhdGEtY29udHJvbHM9XCJuZXh0XCIgdGFiaW5kZXg9XCItMVwiIGFyaWEtY29udHJvbHM9XCInICsgc2xpZGVJZCArJ1wiPicgKyBjb250cm9sc1RleHRbMV0gKyAnPC9idXR0b24+PC9kaXY+Jyk7XG5cbiAgICAgICAgY29udHJvbHNDb250YWluZXIgPSBvdXRlcldyYXBwZXIucXVlcnlTZWxlY3RvcignLnRucy1jb250cm9scycpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXByZXZCdXR0b24gfHwgIW5leHRCdXR0b24pIHtcbiAgICAgICAgcHJldkJ1dHRvbiA9IGNvbnRyb2xzQ29udGFpbmVyLmNoaWxkcmVuWzBdO1xuICAgICAgICBuZXh0QnV0dG9uID0gY29udHJvbHNDb250YWluZXIuY2hpbGRyZW5bMV07XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmNvbnRyb2xzQ29udGFpbmVyKSB7XG4gICAgICAgIHNldEF0dHJzKGNvbnRyb2xzQ29udGFpbmVyLCB7XG4gICAgICAgICAgJ2FyaWEtbGFiZWwnOiAnQ2Fyb3VzZWwgTmF2aWdhdGlvbicsXG4gICAgICAgICAgJ3RhYmluZGV4JzogJzAnXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0aW9ucy5jb250cm9sc0NvbnRhaW5lciB8fCAob3B0aW9ucy5wcmV2QnV0dG9uICYmIG9wdGlvbnMubmV4dEJ1dHRvbikpIHtcbiAgICAgICAgc2V0QXR0cnMoW3ByZXZCdXR0b24sIG5leHRCdXR0b25dLCB7XG4gICAgICAgICAgJ2FyaWEtY29udHJvbHMnOiBzbGlkZUlkLFxuICAgICAgICAgICd0YWJpbmRleCc6ICctMScsXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAob3B0aW9ucy5jb250cm9sc0NvbnRhaW5lciB8fCAob3B0aW9ucy5wcmV2QnV0dG9uICYmIG9wdGlvbnMubmV4dEJ1dHRvbikpIHtcbiAgICAgICAgc2V0QXR0cnMocHJldkJ1dHRvbiwgeydkYXRhLWNvbnRyb2xzJyA6ICdwcmV2J30pO1xuICAgICAgICBzZXRBdHRycyhuZXh0QnV0dG9uLCB7J2RhdGEtY29udHJvbHMnIDogJ25leHQnfSk7XG4gICAgICB9XG5cbiAgICAgIHByZXZJc0J1dHRvbiA9IGlzQnV0dG9uKHByZXZCdXR0b24pO1xuICAgICAgbmV4dElzQnV0dG9uID0gaXNCdXR0b24obmV4dEJ1dHRvbik7XG5cbiAgICAgIHVwZGF0ZUNvbnRyb2xzU3RhdHVzKCk7XG5cbiAgICAgIC8vIGFkZCBldmVudHNcbiAgICAgIGlmIChjb250cm9sc0NvbnRhaW5lcikge1xuICAgICAgICBhZGRFdmVudHMoY29udHJvbHNDb250YWluZXIsIGNvbnRyb2xzRXZlbnRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFkZEV2ZW50cyhwcmV2QnV0dG9uLCBjb250cm9sc0V2ZW50cyk7XG4gICAgICAgIGFkZEV2ZW50cyhuZXh0QnV0dG9uLCBjb250cm9sc0V2ZW50cyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gaGlkZSB0b29scyBpZiBuZWVkZWRcbiAgICBkaXNhYmxlVUkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGluaXRFdmVudHMgKCkge1xuICAgIC8vIGFkZCBldmVudHNcbiAgICBpZiAoY2Fyb3VzZWwgJiYgVFJBTlNJVElPTkVORCkge1xuICAgICAgdmFyIGV2ZSA9IHt9O1xuICAgICAgZXZlW1RSQU5TSVRJT05FTkRdID0gb25UcmFuc2l0aW9uRW5kO1xuICAgICAgYWRkRXZlbnRzKGNvbnRhaW5lciwgZXZlKTtcbiAgICB9XG5cbiAgICBpZiAodG91Y2gpIHsgYWRkRXZlbnRzKGNvbnRhaW5lciwgdG91Y2hFdmVudHMsIG9wdGlvbnMucHJldmVudFNjcm9sbE9uVG91Y2gpOyB9XG4gICAgaWYgKG1vdXNlRHJhZykgeyBhZGRFdmVudHMoY29udGFpbmVyLCBkcmFnRXZlbnRzKTsgfVxuICAgIGlmIChhcnJvd0tleXMpIHsgYWRkRXZlbnRzKGRvYywgZG9jbWVudEtleWRvd25FdmVudCk7IH1cblxuICAgIGlmIChuZXN0ZWQgPT09ICdpbm5lcicpIHtcbiAgICAgIGV2ZW50cy5vbignb3V0ZXJSZXNpemVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICByZXNpemVUYXNrcygpO1xuICAgICAgICBldmVudHMuZW1pdCgnaW5uZXJMb2FkZWQnLCBpbmZvKCkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXNwb25zaXZlIHx8IGZpeGVkV2lkdGggfHwgYXV0b1dpZHRoIHx8IGF1dG9IZWlnaHQgfHwgIWhvcml6b250YWwpIHtcbiAgICAgIGFkZEV2ZW50cyh3aW4sIHsncmVzaXplJzogb25SZXNpemV9KTtcbiAgICB9XG5cbiAgICBpZiAoYXV0b0hlaWdodCkge1xuICAgICAgaWYgKG5lc3RlZCA9PT0gJ291dGVyJykge1xuICAgICAgICBldmVudHMub24oJ2lubmVyTG9hZGVkJywgZG9BdXRvSGVpZ2h0KTtcbiAgICAgIH0gZWxzZSBpZiAoIWRpc2FibGUpIHsgZG9BdXRvSGVpZ2h0KCk7IH1cbiAgICB9XG5cbiAgICBkb0xhenlMb2FkKCk7XG4gICAgaWYgKGRpc2FibGUpIHsgZGlzYWJsZVNsaWRlcigpOyB9IGVsc2UgaWYgKGZyZWV6ZSkgeyBmcmVlemVTbGlkZXIoKTsgfVxuXG4gICAgZXZlbnRzLm9uKCdpbmRleENoYW5nZWQnLCBhZGRpdGlvbmFsVXBkYXRlcyk7XG4gICAgaWYgKG5lc3RlZCA9PT0gJ2lubmVyJykgeyBldmVudHMuZW1pdCgnaW5uZXJMb2FkZWQnLCBpbmZvKCkpOyB9XG4gICAgaWYgKHR5cGVvZiBvbkluaXQgPT09ICdmdW5jdGlvbicpIHsgb25Jbml0KGluZm8oKSk7IH1cbiAgICBpc09uID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlc3Ryb3kgKCkge1xuICAgIC8vIHNoZWV0XG4gICAgc2hlZXQuZGlzYWJsZWQgPSB0cnVlO1xuICAgIGlmIChzaGVldC5vd25lck5vZGUpIHsgc2hlZXQub3duZXJOb2RlLnJlbW92ZSgpOyB9XG5cbiAgICAvLyByZW1vdmUgd2luIGV2ZW50IGxpc3RlbmVyc1xuICAgIHJlbW92ZUV2ZW50cyh3aW4sIHsncmVzaXplJzogb25SZXNpemV9KTtcblxuICAgIC8vIGFycm93S2V5cywgY29udHJvbHMsIG5hdlxuICAgIGlmIChhcnJvd0tleXMpIHsgcmVtb3ZlRXZlbnRzKGRvYywgZG9jbWVudEtleWRvd25FdmVudCk7IH1cbiAgICBpZiAoY29udHJvbHNDb250YWluZXIpIHsgcmVtb3ZlRXZlbnRzKGNvbnRyb2xzQ29udGFpbmVyLCBjb250cm9sc0V2ZW50cyk7IH1cbiAgICBpZiAobmF2Q29udGFpbmVyKSB7IHJlbW92ZUV2ZW50cyhuYXZDb250YWluZXIsIG5hdkV2ZW50cyk7IH1cblxuICAgIC8vIGF1dG9wbGF5XG4gICAgcmVtb3ZlRXZlbnRzKGNvbnRhaW5lciwgaG92ZXJFdmVudHMpO1xuICAgIHJlbW92ZUV2ZW50cyhjb250YWluZXIsIHZpc2liaWxpdHlFdmVudCk7XG4gICAgaWYgKGF1dG9wbGF5QnV0dG9uKSB7IHJlbW92ZUV2ZW50cyhhdXRvcGxheUJ1dHRvbiwgeydjbGljayc6IHRvZ2dsZUF1dG9wbGF5fSk7IH1cbiAgICBpZiAoYXV0b3BsYXkpIHsgY2xlYXJJbnRlcnZhbChhdXRvcGxheVRpbWVyKTsgfVxuXG4gICAgLy8gY29udGFpbmVyXG4gICAgaWYgKGNhcm91c2VsICYmIFRSQU5TSVRJT05FTkQpIHtcbiAgICAgIHZhciBldmUgPSB7fTtcbiAgICAgIGV2ZVtUUkFOU0lUSU9ORU5EXSA9IG9uVHJhbnNpdGlvbkVuZDtcbiAgICAgIHJlbW92ZUV2ZW50cyhjb250YWluZXIsIGV2ZSk7XG4gICAgfVxuICAgIGlmICh0b3VjaCkgeyByZW1vdmVFdmVudHMoY29udGFpbmVyLCB0b3VjaEV2ZW50cyk7IH1cbiAgICBpZiAobW91c2VEcmFnKSB7IHJlbW92ZUV2ZW50cyhjb250YWluZXIsIGRyYWdFdmVudHMpOyB9XG5cbiAgICAvLyBjYWNoZSBPYmplY3QgdmFsdWVzIGluIG9wdGlvbnMgJiYgcmVzZXQgSFRNTFxuICAgIHZhciBodG1sTGlzdCA9IFtjb250YWluZXJIVE1MLCBjb250cm9sc0NvbnRhaW5lckhUTUwsIHByZXZCdXR0b25IVE1MLCBuZXh0QnV0dG9uSFRNTCwgbmF2Q29udGFpbmVySFRNTCwgYXV0b3BsYXlCdXR0b25IVE1MXTtcblxuICAgIHRuc0xpc3QuZm9yRWFjaChmdW5jdGlvbihpdGVtLCBpKSB7XG4gICAgICB2YXIgZWwgPSBpdGVtID09PSAnY29udGFpbmVyJyA/IG91dGVyV3JhcHBlciA6IG9wdGlvbnNbaXRlbV07XG5cbiAgICAgIGlmICh0eXBlb2YgZWwgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHZhciBwcmV2RWwgPSBlbC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID8gZWwucHJldmlvdXNFbGVtZW50U2libGluZyA6IGZhbHNlLFxuICAgICAgICAgICAgcGFyZW50RWwgPSBlbC5wYXJlbnROb2RlO1xuICAgICAgICBlbC5vdXRlckhUTUwgPSBodG1sTGlzdFtpXTtcbiAgICAgICAgb3B0aW9uc1tpdGVtXSA9IHByZXZFbCA/IHByZXZFbC5uZXh0RWxlbWVudFNpYmxpbmcgOiBwYXJlbnRFbC5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgIH1cbiAgICB9KTtcblxuXG4gICAgLy8gcmVzZXQgdmFyaWFibGVzXG4gICAgdG5zTGlzdCA9IGFuaW1hdGVJbiA9IGFuaW1hdGVPdXQgPSBhbmltYXRlRGVsYXkgPSBhbmltYXRlTm9ybWFsID0gaG9yaXpvbnRhbCA9IG91dGVyV3JhcHBlciA9IGlubmVyV3JhcHBlciA9IGNvbnRhaW5lciA9IGNvbnRhaW5lclBhcmVudCA9IGNvbnRhaW5lckhUTUwgPSBzbGlkZUl0ZW1zID0gc2xpZGVDb3VudCA9IGJyZWFrcG9pbnRab25lID0gd2luZG93V2lkdGggPSBhdXRvV2lkdGggPSBmaXhlZFdpZHRoID0gZWRnZVBhZGRpbmcgPSBndXR0ZXIgPSB2aWV3cG9ydCA9IGl0ZW1zID0gc2xpZGVCeSA9IHZpZXdwb3J0TWF4ID0gYXJyb3dLZXlzID0gc3BlZWQgPSByZXdpbmQgPSBsb29wID0gYXV0b0hlaWdodCA9IHNoZWV0ID0gbGF6eWxvYWQgPSBzbGlkZVBvc2l0aW9ucyA9IHNsaWRlSXRlbXNPdXQgPSBjbG9uZUNvdW50ID0gc2xpZGVDb3VudE5ldyA9IGhhc1JpZ2h0RGVhZFpvbmUgPSByaWdodEJvdW5kYXJ5ID0gdXBkYXRlSW5kZXhCZWZvcmVUcmFuc2Zvcm0gPSB0cmFuc2Zvcm1BdHRyID0gdHJhbnNmb3JtUHJlZml4ID0gdHJhbnNmb3JtUG9zdGZpeCA9IGdldEluZGV4TWF4ID0gaW5kZXggPSBpbmRleENhY2hlZCA9IGluZGV4TWluID0gaW5kZXhNYXggPSByZXNpemVUaW1lciA9IHN3aXBlQW5nbGUgPSBtb3ZlRGlyZWN0aW9uRXhwZWN0ZWQgPSBydW5uaW5nID0gb25Jbml0ID0gZXZlbnRzID0gbmV3Q29udGFpbmVyQ2xhc3NlcyA9IHNsaWRlSWQgPSBkaXNhYmxlID0gZGlzYWJsZWQgPSBmcmVlemFibGUgPSBmcmVlemUgPSBmcm96ZW4gPSBjb250cm9sc0V2ZW50cyA9IG5hdkV2ZW50cyA9IGhvdmVyRXZlbnRzID0gdmlzaWJpbGl0eUV2ZW50ID0gZG9jbWVudEtleWRvd25FdmVudCA9IHRvdWNoRXZlbnRzID0gZHJhZ0V2ZW50cyA9IGhhc0NvbnRyb2xzID0gaGFzTmF2ID0gbmF2QXNUaHVtYm5haWxzID0gaGFzQXV0b3BsYXkgPSBoYXNUb3VjaCA9IGhhc01vdXNlRHJhZyA9IHNsaWRlQWN0aXZlQ2xhc3MgPSBpbWdDb21wbGV0ZUNsYXNzID0gaW1nRXZlbnRzID0gaW1nc0NvbXBsZXRlID0gY29udHJvbHMgPSBjb250cm9sc1RleHQgPSBjb250cm9sc0NvbnRhaW5lciA9IGNvbnRyb2xzQ29udGFpbmVySFRNTCA9IHByZXZCdXR0b24gPSBuZXh0QnV0dG9uID0gcHJldklzQnV0dG9uID0gbmV4dElzQnV0dG9uID0gbmF2ID0gbmF2Q29udGFpbmVyID0gbmF2Q29udGFpbmVySFRNTCA9IG5hdkl0ZW1zID0gcGFnZXMgPSBwYWdlc0NhY2hlZCA9IG5hdkNsaWNrZWQgPSBuYXZDdXJyZW50SW5kZXggPSBuYXZDdXJyZW50SW5kZXhDYWNoZWQgPSBuYXZBY3RpdmVDbGFzcyA9IG5hdlN0ciA9IG5hdlN0ckN1cnJlbnQgPSBhdXRvcGxheSA9IGF1dG9wbGF5VGltZW91dCA9IGF1dG9wbGF5RGlyZWN0aW9uID0gYXV0b3BsYXlUZXh0ID0gYXV0b3BsYXlIb3ZlclBhdXNlID0gYXV0b3BsYXlCdXR0b24gPSBhdXRvcGxheUJ1dHRvbkhUTUwgPSBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5ID0gYXV0b3BsYXlIdG1sU3RyaW5ncyA9IGF1dG9wbGF5VGltZXIgPSBhbmltYXRpbmcgPSBhdXRvcGxheUhvdmVyUGF1c2VkID0gYXV0b3BsYXlVc2VyUGF1c2VkID0gYXV0b3BsYXlWaXNpYmlsaXR5UGF1c2VkID0gaW5pdFBvc2l0aW9uID0gbGFzdFBvc2l0aW9uID0gdHJhbnNsYXRlSW5pdCA9IGRpc1ggPSBkaXNZID0gcGFuU3RhcnQgPSByYWZJbmRleCA9IGdldERpc3QgPSB0b3VjaCA9IG1vdXNlRHJhZyA9IG51bGw7XG4gICAgLy8gY2hlY2sgdmFyaWFibGVzXG4gICAgLy8gW2FuaW1hdGVJbiwgYW5pbWF0ZU91dCwgYW5pbWF0ZURlbGF5LCBhbmltYXRlTm9ybWFsLCBob3Jpem9udGFsLCBvdXRlcldyYXBwZXIsIGlubmVyV3JhcHBlciwgY29udGFpbmVyLCBjb250YWluZXJQYXJlbnQsIGNvbnRhaW5lckhUTUwsIHNsaWRlSXRlbXMsIHNsaWRlQ291bnQsIGJyZWFrcG9pbnRab25lLCB3aW5kb3dXaWR0aCwgYXV0b1dpZHRoLCBmaXhlZFdpZHRoLCBlZGdlUGFkZGluZywgZ3V0dGVyLCB2aWV3cG9ydCwgaXRlbXMsIHNsaWRlQnksIHZpZXdwb3J0TWF4LCBhcnJvd0tleXMsIHNwZWVkLCByZXdpbmQsIGxvb3AsIGF1dG9IZWlnaHQsIHNoZWV0LCBsYXp5bG9hZCwgc2xpZGVQb3NpdGlvbnMsIHNsaWRlSXRlbXNPdXQsIGNsb25lQ291bnQsIHNsaWRlQ291bnROZXcsIGhhc1JpZ2h0RGVhZFpvbmUsIHJpZ2h0Qm91bmRhcnksIHVwZGF0ZUluZGV4QmVmb3JlVHJhbnNmb3JtLCB0cmFuc2Zvcm1BdHRyLCB0cmFuc2Zvcm1QcmVmaXgsIHRyYW5zZm9ybVBvc3RmaXgsIGdldEluZGV4TWF4LCBpbmRleCwgaW5kZXhDYWNoZWQsIGluZGV4TWluLCBpbmRleE1heCwgcmVzaXplVGltZXIsIHN3aXBlQW5nbGUsIG1vdmVEaXJlY3Rpb25FeHBlY3RlZCwgcnVubmluZywgb25Jbml0LCBldmVudHMsIG5ld0NvbnRhaW5lckNsYXNzZXMsIHNsaWRlSWQsIGRpc2FibGUsIGRpc2FibGVkLCBmcmVlemFibGUsIGZyZWV6ZSwgZnJvemVuLCBjb250cm9sc0V2ZW50cywgbmF2RXZlbnRzLCBob3ZlckV2ZW50cywgdmlzaWJpbGl0eUV2ZW50LCBkb2NtZW50S2V5ZG93bkV2ZW50LCB0b3VjaEV2ZW50cywgZHJhZ0V2ZW50cywgaGFzQ29udHJvbHMsIGhhc05hdiwgbmF2QXNUaHVtYm5haWxzLCBoYXNBdXRvcGxheSwgaGFzVG91Y2gsIGhhc01vdXNlRHJhZywgc2xpZGVBY3RpdmVDbGFzcywgaW1nQ29tcGxldGVDbGFzcywgaW1nRXZlbnRzLCBpbWdzQ29tcGxldGUsIGNvbnRyb2xzLCBjb250cm9sc1RleHQsIGNvbnRyb2xzQ29udGFpbmVyLCBjb250cm9sc0NvbnRhaW5lckhUTUwsIHByZXZCdXR0b24sIG5leHRCdXR0b24sIHByZXZJc0J1dHRvbiwgbmV4dElzQnV0dG9uLCBuYXYsIG5hdkNvbnRhaW5lciwgbmF2Q29udGFpbmVySFRNTCwgbmF2SXRlbXMsIHBhZ2VzLCBwYWdlc0NhY2hlZCwgbmF2Q2xpY2tlZCwgbmF2Q3VycmVudEluZGV4LCBuYXZDdXJyZW50SW5kZXhDYWNoZWQsIG5hdkFjdGl2ZUNsYXNzLCBuYXZTdHIsIG5hdlN0ckN1cnJlbnQsIGF1dG9wbGF5LCBhdXRvcGxheVRpbWVvdXQsIGF1dG9wbGF5RGlyZWN0aW9uLCBhdXRvcGxheVRleHQsIGF1dG9wbGF5SG92ZXJQYXVzZSwgYXV0b3BsYXlCdXR0b24sIGF1dG9wbGF5QnV0dG9uSFRNTCwgYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eSwgYXV0b3BsYXlIdG1sU3RyaW5ncywgYXV0b3BsYXlUaW1lciwgYW5pbWF0aW5nLCBhdXRvcGxheUhvdmVyUGF1c2VkLCBhdXRvcGxheVVzZXJQYXVzZWQsIGF1dG9wbGF5VmlzaWJpbGl0eVBhdXNlZCwgaW5pdFBvc2l0aW9uLCBsYXN0UG9zaXRpb24sIHRyYW5zbGF0ZUluaXQsIGRpc1gsIGRpc1ksIHBhblN0YXJ0LCByYWZJbmRleCwgZ2V0RGlzdCwgdG91Y2gsIG1vdXNlRHJhZyBdLmZvckVhY2goZnVuY3Rpb24oaXRlbSkgeyBpZiAoaXRlbSAhPT0gbnVsbCkgeyBjb25zb2xlLmxvZyhpdGVtKTsgfSB9KTtcblxuICAgIGZvciAodmFyIGEgaW4gdGhpcykge1xuICAgICAgaWYgKGEgIT09ICdyZWJ1aWxkJykgeyB0aGlzW2FdID0gbnVsbDsgfVxuICAgIH1cbiAgICBpc09uID0gZmFsc2U7XG4gIH1cblxuLy8gPT09IE9OIFJFU0laRSA9PT1cbiAgLy8gcmVzcG9uc2l2ZSB8fCBmaXhlZFdpZHRoIHx8IGF1dG9XaWR0aCB8fCAhaG9yaXpvbnRhbFxuICBmdW5jdGlvbiBvblJlc2l6ZSAoZSkge1xuICAgIHJhZihmdW5jdGlvbigpeyByZXNpemVUYXNrcyhnZXRFdmVudChlKSk7IH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzaXplVGFza3MgKGUpIHtcbiAgICBpZiAoIWlzT24pIHsgcmV0dXJuOyB9XG4gICAgaWYgKG5lc3RlZCA9PT0gJ291dGVyJykgeyBldmVudHMuZW1pdCgnb3V0ZXJSZXNpemVkJywgaW5mbyhlKSk7IH1cbiAgICB3aW5kb3dXaWR0aCA9IGdldFdpbmRvd1dpZHRoKCk7XG4gICAgdmFyIGJwQ2hhbmdlZCxcbiAgICAgICAgYnJlYWtwb2ludFpvbmVUZW0gPSBicmVha3BvaW50Wm9uZSxcbiAgICAgICAgbmVlZENvbnRhaW5lclRyYW5zZm9ybSA9IGZhbHNlO1xuXG4gICAgaWYgKHJlc3BvbnNpdmUpIHtcbiAgICAgIHNldEJyZWFrcG9pbnRab25lKCk7XG4gICAgICBicENoYW5nZWQgPSBicmVha3BvaW50Wm9uZVRlbSAhPT0gYnJlYWtwb2ludFpvbmU7XG4gICAgICAvLyBpZiAoaGFzUmlnaHREZWFkWm9uZSkgeyBuZWVkQ29udGFpbmVyVHJhbnNmb3JtID0gdHJ1ZTsgfSAvLyAqP1xuICAgICAgaWYgKGJwQ2hhbmdlZCkgeyBldmVudHMuZW1pdCgnbmV3QnJlYWtwb2ludFN0YXJ0JywgaW5mbyhlKSk7IH1cbiAgICB9XG5cbiAgICB2YXIgaW5kQ2hhbmdlZCxcbiAgICAgICAgaXRlbXNDaGFuZ2VkLFxuICAgICAgICBpdGVtc1RlbSA9IGl0ZW1zLFxuICAgICAgICBkaXNhYmxlVGVtID0gZGlzYWJsZSxcbiAgICAgICAgZnJlZXplVGVtID0gZnJlZXplLFxuICAgICAgICBhcnJvd0tleXNUZW0gPSBhcnJvd0tleXMsXG4gICAgICAgIGNvbnRyb2xzVGVtID0gY29udHJvbHMsXG4gICAgICAgIG5hdlRlbSA9IG5hdixcbiAgICAgICAgdG91Y2hUZW0gPSB0b3VjaCxcbiAgICAgICAgbW91c2VEcmFnVGVtID0gbW91c2VEcmFnLFxuICAgICAgICBhdXRvcGxheVRlbSA9IGF1dG9wbGF5LFxuICAgICAgICBhdXRvcGxheUhvdmVyUGF1c2VUZW0gPSBhdXRvcGxheUhvdmVyUGF1c2UsXG4gICAgICAgIGF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHlUZW0gPSBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5LFxuICAgICAgICBpbmRleFRlbSA9IGluZGV4O1xuXG4gICAgaWYgKGJwQ2hhbmdlZCkge1xuICAgICAgdmFyIGZpeGVkV2lkdGhUZW0gPSBmaXhlZFdpZHRoLFxuICAgICAgICAgIGF1dG9IZWlnaHRUZW0gPSBhdXRvSGVpZ2h0LFxuICAgICAgICAgIGNvbnRyb2xzVGV4dFRlbSA9IGNvbnRyb2xzVGV4dCxcbiAgICAgICAgICBjZW50ZXJUZW0gPSBjZW50ZXIsXG4gICAgICAgICAgYXV0b3BsYXlUZXh0VGVtID0gYXV0b3BsYXlUZXh0O1xuXG4gICAgICBpZiAoIUNTU01RKSB7XG4gICAgICAgIHZhciBndXR0ZXJUZW0gPSBndXR0ZXIsXG4gICAgICAgICAgICBlZGdlUGFkZGluZ1RlbSA9IGVkZ2VQYWRkaW5nO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGdldCBvcHRpb246XG4gICAgLy8gZml4ZWQgd2lkdGg6IHZpZXdwb3J0LCBmaXhlZFdpZHRoLCBndXR0ZXIgPT4gaXRlbXNcbiAgICAvLyBvdGhlcnM6IHdpbmRvdyB3aWR0aCA9PiBhbGwgdmFyaWFibGVzXG4gICAgLy8gYWxsOiBpdGVtcyA9PiBzbGlkZUJ5XG4gICAgYXJyb3dLZXlzID0gZ2V0T3B0aW9uKCdhcnJvd0tleXMnKTtcbiAgICBjb250cm9scyA9IGdldE9wdGlvbignY29udHJvbHMnKTtcbiAgICBuYXYgPSBnZXRPcHRpb24oJ25hdicpO1xuICAgIHRvdWNoID0gZ2V0T3B0aW9uKCd0b3VjaCcpO1xuICAgIGNlbnRlciA9IGdldE9wdGlvbignY2VudGVyJyk7XG4gICAgbW91c2VEcmFnID0gZ2V0T3B0aW9uKCdtb3VzZURyYWcnKTtcbiAgICBhdXRvcGxheSA9IGdldE9wdGlvbignYXV0b3BsYXknKTtcbiAgICBhdXRvcGxheUhvdmVyUGF1c2UgPSBnZXRPcHRpb24oJ2F1dG9wbGF5SG92ZXJQYXVzZScpO1xuICAgIGF1dG9wbGF5UmVzZXRPblZpc2liaWxpdHkgPSBnZXRPcHRpb24oJ2F1dG9wbGF5UmVzZXRPblZpc2liaWxpdHknKTtcblxuICAgIGlmIChicENoYW5nZWQpIHtcbiAgICAgIGRpc2FibGUgPSBnZXRPcHRpb24oJ2Rpc2FibGUnKTtcbiAgICAgIGZpeGVkV2lkdGggPSBnZXRPcHRpb24oJ2ZpeGVkV2lkdGgnKTtcbiAgICAgIHNwZWVkID0gZ2V0T3B0aW9uKCdzcGVlZCcpO1xuICAgICAgYXV0b0hlaWdodCA9IGdldE9wdGlvbignYXV0b0hlaWdodCcpO1xuICAgICAgY29udHJvbHNUZXh0ID0gZ2V0T3B0aW9uKCdjb250cm9sc1RleHQnKTtcbiAgICAgIGF1dG9wbGF5VGV4dCA9IGdldE9wdGlvbignYXV0b3BsYXlUZXh0Jyk7XG4gICAgICBhdXRvcGxheVRpbWVvdXQgPSBnZXRPcHRpb24oJ2F1dG9wbGF5VGltZW91dCcpO1xuXG4gICAgICBpZiAoIUNTU01RKSB7XG4gICAgICAgIGVkZ2VQYWRkaW5nID0gZ2V0T3B0aW9uKCdlZGdlUGFkZGluZycpO1xuICAgICAgICBndXR0ZXIgPSBnZXRPcHRpb24oJ2d1dHRlcicpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyB1cGRhdGUgb3B0aW9uc1xuICAgIHJlc2V0VmFyaWJsZXNXaGVuRGlzYWJsZShkaXNhYmxlKTtcblxuICAgIHZpZXdwb3J0ID0gZ2V0Vmlld3BvcnRXaWR0aCgpOyAvLyA8PSBlZGdlUGFkZGluZywgZ3V0dGVyXG4gICAgaWYgKCghaG9yaXpvbnRhbCB8fCBhdXRvV2lkdGgpICYmICFkaXNhYmxlKSB7XG4gICAgICBzZXRTbGlkZVBvc2l0aW9ucygpO1xuICAgICAgaWYgKCFob3Jpem9udGFsKSB7XG4gICAgICAgIHVwZGF0ZUNvbnRlbnRXcmFwcGVySGVpZ2h0KCk7IC8vIDw9IHNldFNsaWRlUG9zaXRpb25zXG4gICAgICAgIG5lZWRDb250YWluZXJUcmFuc2Zvcm0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZml4ZWRXaWR0aCB8fCBhdXRvV2lkdGgpIHtcbiAgICAgIHJpZ2h0Qm91bmRhcnkgPSBnZXRSaWdodEJvdW5kYXJ5KCk7IC8vIGF1dG9XaWR0aDogPD0gdmlld3BvcnQsIHNsaWRlUG9zaXRpb25zLCBndXR0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpeGVkV2lkdGg6IDw9IHZpZXdwb3J0LCBmaXhlZFdpZHRoLCBndXR0ZXJcbiAgICAgIGluZGV4TWF4ID0gZ2V0SW5kZXhNYXgoKTsgLy8gYXV0b1dpZHRoOiA8PSByaWdodEJvdW5kYXJ5LCBzbGlkZVBvc2l0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaXhlZFdpZHRoOiA8PSByaWdodEJvdW5kYXJ5LCBmaXhlZFdpZHRoLCBndXR0ZXJcbiAgICB9XG5cbiAgICBpZiAoYnBDaGFuZ2VkIHx8IGZpeGVkV2lkdGgpIHtcbiAgICAgIGl0ZW1zID0gZ2V0T3B0aW9uKCdpdGVtcycpO1xuICAgICAgc2xpZGVCeSA9IGdldE9wdGlvbignc2xpZGVCeScpO1xuICAgICAgaXRlbXNDaGFuZ2VkID0gaXRlbXMgIT09IGl0ZW1zVGVtO1xuXG4gICAgICBpZiAoaXRlbXNDaGFuZ2VkKSB7XG4gICAgICAgIGlmICghZml4ZWRXaWR0aCAmJiAhYXV0b1dpZHRoKSB7IGluZGV4TWF4ID0gZ2V0SW5kZXhNYXgoKTsgfSAvLyA8PSBpdGVtc1xuICAgICAgICAvLyBjaGVjayBpbmRleCBiZWZvcmUgdHJhbnNmb3JtIGluIGNhc2VcbiAgICAgICAgLy8gc2xpZGVyIHJlYWNoIHRoZSByaWdodCBlZGdlIHRoZW4gaXRlbXMgYmVjb21lIGJpZ2dlclxuICAgICAgICB1cGRhdGVJbmRleCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBpZiAoYnBDaGFuZ2VkKSB7XG4gICAgICBpZiAoZGlzYWJsZSAhPT0gZGlzYWJsZVRlbSkge1xuICAgICAgICBpZiAoZGlzYWJsZSkge1xuICAgICAgICAgIGRpc2FibGVTbGlkZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBlbmFibGVTbGlkZXIoKTsgLy8gPD0gc2xpZGVQb3NpdGlvbnMsIHJpZ2h0Qm91bmRhcnksIGluZGV4TWF4XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZnJlZXphYmxlICYmIChicENoYW5nZWQgfHwgZml4ZWRXaWR0aCB8fCBhdXRvV2lkdGgpKSB7XG4gICAgICBmcmVlemUgPSBnZXRGcmVlemUoKTsgLy8gPD0gYXV0b1dpZHRoOiBzbGlkZVBvc2l0aW9ucywgZ3V0dGVyLCB2aWV3cG9ydCwgcmlnaHRCb3VuZGFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDw9IGZpeGVkV2lkdGg6IGZpeGVkV2lkdGgsIGd1dHRlciwgcmlnaHRCb3VuZGFyeVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIDw9IG90aGVyczogaXRlbXNcblxuICAgICAgaWYgKGZyZWV6ZSAhPT0gZnJlZXplVGVtKSB7XG4gICAgICAgIGlmIChmcmVlemUpIHtcbiAgICAgICAgICBkb0NvbnRhaW5lclRyYW5zZm9ybShnZXRDb250YWluZXJUcmFuc2Zvcm1WYWx1ZShnZXRTdGFydEluZGV4KDApKSk7XG4gICAgICAgICAgZnJlZXplU2xpZGVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdW5mcmVlemVTbGlkZXIoKTtcbiAgICAgICAgICBuZWVkQ29udGFpbmVyVHJhbnNmb3JtID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHJlc2V0VmFyaWJsZXNXaGVuRGlzYWJsZShkaXNhYmxlIHx8IGZyZWV6ZSk7IC8vIGNvbnRyb2xzLCBuYXYsIHRvdWNoLCBtb3VzZURyYWcsIGFycm93S2V5cywgYXV0b3BsYXksIGF1dG9wbGF5SG92ZXJQYXVzZSwgYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eVxuICAgIGlmICghYXV0b3BsYXkpIHsgYXV0b3BsYXlIb3ZlclBhdXNlID0gYXV0b3BsYXlSZXNldE9uVmlzaWJpbGl0eSA9IGZhbHNlOyB9XG5cbiAgICBpZiAoYXJyb3dLZXlzICE9PSBhcnJvd0tleXNUZW0pIHtcbiAgICAgIGFycm93S2V5cyA/XG4gICAgICAgIGFkZEV2ZW50cyhkb2MsIGRvY21lbnRLZXlkb3duRXZlbnQpIDpcbiAgICAgICAgcmVtb3ZlRXZlbnRzKGRvYywgZG9jbWVudEtleWRvd25FdmVudCk7XG4gICAgfVxuICAgIGlmIChjb250cm9scyAhPT0gY29udHJvbHNUZW0pIHtcbiAgICAgIGlmIChjb250cm9scykge1xuICAgICAgICBpZiAoY29udHJvbHNDb250YWluZXIpIHtcbiAgICAgICAgICBzaG93RWxlbWVudChjb250cm9sc0NvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHByZXZCdXR0b24pIHsgc2hvd0VsZW1lbnQocHJldkJ1dHRvbik7IH1cbiAgICAgICAgICBpZiAobmV4dEJ1dHRvbikgeyBzaG93RWxlbWVudChuZXh0QnV0dG9uKTsgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoY29udHJvbHNDb250YWluZXIpIHtcbiAgICAgICAgICBoaWRlRWxlbWVudChjb250cm9sc0NvbnRhaW5lcik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKHByZXZCdXR0b24pIHsgaGlkZUVsZW1lbnQocHJldkJ1dHRvbik7IH1cbiAgICAgICAgICBpZiAobmV4dEJ1dHRvbikgeyBoaWRlRWxlbWVudChuZXh0QnV0dG9uKTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYXYgIT09IG5hdlRlbSkge1xuICAgICAgbmF2ID9cbiAgICAgICAgc2hvd0VsZW1lbnQobmF2Q29udGFpbmVyKSA6XG4gICAgICAgIGhpZGVFbGVtZW50KG5hdkNvbnRhaW5lcik7XG4gICAgfVxuICAgIGlmICh0b3VjaCAhPT0gdG91Y2hUZW0pIHtcbiAgICAgIHRvdWNoID9cbiAgICAgICAgYWRkRXZlbnRzKGNvbnRhaW5lciwgdG91Y2hFdmVudHMsIG9wdGlvbnMucHJldmVudFNjcm9sbE9uVG91Y2gpIDpcbiAgICAgICAgcmVtb3ZlRXZlbnRzKGNvbnRhaW5lciwgdG91Y2hFdmVudHMpO1xuICAgIH1cbiAgICBpZiAobW91c2VEcmFnICE9PSBtb3VzZURyYWdUZW0pIHtcbiAgICAgIG1vdXNlRHJhZyA/XG4gICAgICAgIGFkZEV2ZW50cyhjb250YWluZXIsIGRyYWdFdmVudHMpIDpcbiAgICAgICAgcmVtb3ZlRXZlbnRzKGNvbnRhaW5lciwgZHJhZ0V2ZW50cyk7XG4gICAgfVxuICAgIGlmIChhdXRvcGxheSAhPT0gYXV0b3BsYXlUZW0pIHtcbiAgICAgIGlmIChhdXRvcGxheSkge1xuICAgICAgICBpZiAoYXV0b3BsYXlCdXR0b24pIHsgc2hvd0VsZW1lbnQoYXV0b3BsYXlCdXR0b24pOyB9XG4gICAgICAgIGlmICghYW5pbWF0aW5nICYmICFhdXRvcGxheVVzZXJQYXVzZWQpIHsgc3RhcnRBdXRvcGxheSgpOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYXV0b3BsYXlCdXR0b24pIHsgaGlkZUVsZW1lbnQoYXV0b3BsYXlCdXR0b24pOyB9XG4gICAgICAgIGlmIChhbmltYXRpbmcpIHsgc3RvcEF1dG9wbGF5KCk7IH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGF1dG9wbGF5SG92ZXJQYXVzZSAhPT0gYXV0b3BsYXlIb3ZlclBhdXNlVGVtKSB7XG4gICAgICBhdXRvcGxheUhvdmVyUGF1c2UgP1xuICAgICAgICBhZGRFdmVudHMoY29udGFpbmVyLCBob3ZlckV2ZW50cykgOlxuICAgICAgICByZW1vdmVFdmVudHMoY29udGFpbmVyLCBob3ZlckV2ZW50cyk7XG4gICAgfVxuICAgIGlmIChhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5ICE9PSBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5VGVtKSB7XG4gICAgICBhdXRvcGxheVJlc2V0T25WaXNpYmlsaXR5ID9cbiAgICAgICAgYWRkRXZlbnRzKGRvYywgdmlzaWJpbGl0eUV2ZW50KSA6XG4gICAgICAgIHJlbW92ZUV2ZW50cyhkb2MsIHZpc2liaWxpdHlFdmVudCk7XG4gICAgfVxuXG4gICAgaWYgKGJwQ2hhbmdlZCkge1xuICAgICAgaWYgKGZpeGVkV2lkdGggIT09IGZpeGVkV2lkdGhUZW0gfHwgY2VudGVyICE9PSBjZW50ZXJUZW0pIHsgbmVlZENvbnRhaW5lclRyYW5zZm9ybSA9IHRydWU7IH1cblxuICAgICAgaWYgKGF1dG9IZWlnaHQgIT09IGF1dG9IZWlnaHRUZW0pIHtcbiAgICAgICAgaWYgKCFhdXRvSGVpZ2h0KSB7IGlubmVyV3JhcHBlci5zdHlsZS5oZWlnaHQgPSAnJzsgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY29udHJvbHMgJiYgY29udHJvbHNUZXh0ICE9PSBjb250cm9sc1RleHRUZW0pIHtcbiAgICAgICAgcHJldkJ1dHRvbi5pbm5lckhUTUwgPSBjb250cm9sc1RleHRbMF07XG4gICAgICAgIG5leHRCdXR0b24uaW5uZXJIVE1MID0gY29udHJvbHNUZXh0WzFdO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXV0b3BsYXlCdXR0b24gJiYgYXV0b3BsYXlUZXh0ICE9PSBhdXRvcGxheVRleHRUZW0pIHtcbiAgICAgICAgdmFyIGkgPSBhdXRvcGxheSA/IDEgOiAwLFxuICAgICAgICAgICAgaHRtbCA9IGF1dG9wbGF5QnV0dG9uLmlubmVySFRNTCxcbiAgICAgICAgICAgIGxlbiA9IGh0bWwubGVuZ3RoIC0gYXV0b3BsYXlUZXh0VGVtW2ldLmxlbmd0aDtcbiAgICAgICAgaWYgKGh0bWwuc3Vic3RyaW5nKGxlbikgPT09IGF1dG9wbGF5VGV4dFRlbVtpXSkge1xuICAgICAgICAgIGF1dG9wbGF5QnV0dG9uLmlubmVySFRNTCA9IGh0bWwuc3Vic3RyaW5nKDAsIGxlbikgKyBhdXRvcGxheVRleHRbaV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGNlbnRlciAmJiAoZml4ZWRXaWR0aCB8fCBhdXRvV2lkdGgpKSB7IG5lZWRDb250YWluZXJUcmFuc2Zvcm0gPSB0cnVlOyB9XG4gICAgfVxuXG4gICAgaWYgKGl0ZW1zQ2hhbmdlZCB8fCBmaXhlZFdpZHRoICYmICFhdXRvV2lkdGgpIHtcbiAgICAgIHBhZ2VzID0gZ2V0UGFnZXMoKTtcbiAgICAgIHVwZGF0ZU5hdlZpc2liaWxpdHkoKTtcbiAgICB9XG5cbiAgICBpbmRDaGFuZ2VkID0gaW5kZXggIT09IGluZGV4VGVtO1xuICAgIGlmIChpbmRDaGFuZ2VkKSB7IFxuICAgICAgZXZlbnRzLmVtaXQoJ2luZGV4Q2hhbmdlZCcsIGluZm8oKSk7XG4gICAgICBuZWVkQ29udGFpbmVyVHJhbnNmb3JtID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGl0ZW1zQ2hhbmdlZCkge1xuICAgICAgaWYgKCFpbmRDaGFuZ2VkKSB7IGFkZGl0aW9uYWxVcGRhdGVzKCk7IH1cbiAgICB9IGVsc2UgaWYgKGZpeGVkV2lkdGggfHwgYXV0b1dpZHRoKSB7XG4gICAgICBkb0xhenlMb2FkKCk7IFxuICAgICAgdXBkYXRlU2xpZGVTdGF0dXMoKTtcbiAgICAgIHVwZGF0ZUxpdmVSZWdpb24oKTtcbiAgICB9XG5cbiAgICBpZiAoaXRlbXNDaGFuZ2VkIHx8ICFjYXJvdXNlbCkgeyB1cGRhdGVHYWxsZXJ5U2xpZGVQb3NpdGlvbnMoKTsgfVxuXG4gICAgaWYgKCFkaXNhYmxlICYmICFmcmVlemUpIHtcbiAgICAgIC8vIG5vbi1tZWR1YXF1ZXJpZXM6IElFOFxuICAgICAgaWYgKGJwQ2hhbmdlZCAmJiAhQ1NTTVEpIHtcbiAgICAgICAgLy8gbWlkZGxlIHdyYXBwZXIgc3R5bGVzXG4gICAgICAgIGlmIChhdXRvSGVpZ2h0ICE9PSBhdXRvaGVpZ2h0VGVtIHx8IHNwZWVkICE9PSBzcGVlZFRlbSkge1xuICAgICAgICAgIHVwZGF0ZV9jYXJvdXNlbF90cmFuc2l0aW9uX2R1cmF0aW9uKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbm5lciB3cmFwcGVyIHN0eWxlc1xuICAgICAgICBpZiAoZWRnZVBhZGRpbmcgIT09IGVkZ2VQYWRkaW5nVGVtIHx8IGd1dHRlciAhPT0gZ3V0dGVyVGVtKSB7XG4gICAgICAgICAgaW5uZXJXcmFwcGVyLnN0eWxlLmNzc1RleHQgPSBnZXRJbm5lcldyYXBwZXJTdHlsZXMoZWRnZVBhZGRpbmcsIGd1dHRlciwgZml4ZWRXaWR0aCwgc3BlZWQsIGF1dG9IZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGhvcml6b250YWwpIHtcbiAgICAgICAgICAvLyBjb250YWluZXIgc3R5bGVzXG4gICAgICAgICAgaWYgKGNhcm91c2VsKSB7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUud2lkdGggPSBnZXRDb250YWluZXJXaWR0aChmaXhlZFdpZHRoLCBndXR0ZXIsIGl0ZW1zKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzbGlkZSBzdHlsZXNcbiAgICAgICAgICB2YXIgc3RyID0gZ2V0U2xpZGVXaWR0aFN0eWxlKGZpeGVkV2lkdGgsIGd1dHRlciwgaXRlbXMpICsgXG4gICAgICAgICAgICAgICAgICAgIGdldFNsaWRlR3V0dGVyU3R5bGUoZ3V0dGVyKTtcblxuICAgICAgICAgIC8vIHJlbW92ZSB0aGUgbGFzdCBsaW5lIGFuZFxuICAgICAgICAgIC8vIGFkZCBuZXcgc3R5bGVzXG4gICAgICAgICAgcmVtb3ZlQ1NTUnVsZShzaGVldCwgZ2V0Q3NzUnVsZXNMZW5ndGgoc2hlZXQpIC0gMSk7XG4gICAgICAgICAgYWRkQ1NTUnVsZShzaGVldCwgJyMnICsgc2xpZGVJZCArICcgPiAudG5zLWl0ZW0nLCBzdHIsIGdldENzc1J1bGVzTGVuZ3RoKHNoZWV0KSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXV0byBoZWlnaHRcbiAgICAgIGlmIChhdXRvSGVpZ2h0KSB7IGRvQXV0b0hlaWdodCgpOyB9XG5cbiAgICAgIGlmIChuZWVkQ29udGFpbmVyVHJhbnNmb3JtKSB7XG4gICAgICAgIGRvQ29udGFpbmVyVHJhbnNmb3JtU2lsZW50KCk7XG4gICAgICAgIGluZGV4Q2FjaGVkID0gaW5kZXg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGJwQ2hhbmdlZCkgeyBldmVudHMuZW1pdCgnbmV3QnJlYWtwb2ludEVuZCcsIGluZm8oZSkpOyB9XG4gIH1cblxuXG5cblxuXG4gIC8vID09PSBJTklUSUFMSVpBVElPTiBGVU5DVElPTlMgPT09IC8vXG4gIGZ1bmN0aW9uIGdldEZyZWV6ZSAoKSB7XG4gICAgaWYgKCFmaXhlZFdpZHRoICYmICFhdXRvV2lkdGgpIHtcbiAgICAgIHZhciBhID0gY2VudGVyID8gaXRlbXMgLSAoaXRlbXMgLSAxKSAvIDIgOiBpdGVtcztcbiAgICAgIHJldHVybiAgc2xpZGVDb3VudCA8PSBhO1xuICAgIH1cblxuICAgIHZhciB3aWR0aCA9IGZpeGVkV2lkdGggPyAoZml4ZWRXaWR0aCArIGd1dHRlcikgKiBzbGlkZUNvdW50IDogc2xpZGVQb3NpdGlvbnNbc2xpZGVDb3VudF0sXG4gICAgICAgIHZwID0gZWRnZVBhZGRpbmcgPyB2aWV3cG9ydCArIGVkZ2VQYWRkaW5nICogMiA6IHZpZXdwb3J0ICsgZ3V0dGVyO1xuXG4gICAgaWYgKGNlbnRlcikge1xuICAgICAgdnAgLT0gZml4ZWRXaWR0aCA/ICh2aWV3cG9ydCAtIGZpeGVkV2lkdGgpIC8gMiA6ICh2aWV3cG9ydCAtIChzbGlkZVBvc2l0aW9uc1tpbmRleCArIDFdIC0gc2xpZGVQb3NpdGlvbnNbaW5kZXhdIC0gZ3V0dGVyKSkgLyAyO1xuICAgIH1cblxuICAgIHJldHVybiB3aWR0aCA8PSB2cDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEJyZWFrcG9pbnRab25lICgpIHtcbiAgICBicmVha3BvaW50Wm9uZSA9IDA7XG4gICAgZm9yICh2YXIgYnAgaW4gcmVzcG9uc2l2ZSkge1xuICAgICAgYnAgPSBwYXJzZUludChicCk7IC8vIGNvbnZlcnQgc3RyaW5nIHRvIG51bWJlclxuICAgICAgaWYgKHdpbmRvd1dpZHRoID49IGJwKSB7IGJyZWFrcG9pbnRab25lID0gYnA7IH1cbiAgICB9XG4gIH1cblxuICAvLyAoc2xpZGVCeSwgaW5kZXhNaW4sIGluZGV4TWF4KSA9PiBpbmRleFxuICB2YXIgdXBkYXRlSW5kZXggPSAoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBsb29wID8gXG4gICAgICBjYXJvdXNlbCA/XG4gICAgICAgIC8vIGxvb3AgKyBjYXJvdXNlbFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIGxlZnRFZGdlID0gaW5kZXhNaW4sXG4gICAgICAgICAgICAgIHJpZ2h0RWRnZSA9IGluZGV4TWF4O1xuXG4gICAgICAgICAgbGVmdEVkZ2UgKz0gc2xpZGVCeTtcbiAgICAgICAgICByaWdodEVkZ2UgLT0gc2xpZGVCeTtcblxuICAgICAgICAgIC8vIGFkanVzdCBlZGdlcyB3aGVuIGhhcyBlZGdlIHBhZGRpbmdzXG4gICAgICAgICAgLy8gb3IgZml4ZWQtd2lkdGggc2xpZGVyIHdpdGggZXh0cmEgc3BhY2Ugb24gdGhlIHJpZ2h0IHNpZGVcbiAgICAgICAgICBpZiAoZWRnZVBhZGRpbmcpIHtcbiAgICAgICAgICAgIGxlZnRFZGdlICs9IDE7XG4gICAgICAgICAgICByaWdodEVkZ2UgLT0gMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZpeGVkV2lkdGgpIHtcbiAgICAgICAgICAgIGlmICgodmlld3BvcnQgKyBndXR0ZXIpJShmaXhlZFdpZHRoICsgZ3V0dGVyKSkgeyByaWdodEVkZ2UgLT0gMTsgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjbG9uZUNvdW50KSB7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiByaWdodEVkZ2UpIHtcbiAgICAgICAgICAgICAgaW5kZXggLT0gc2xpZGVDb3VudDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5kZXggPCBsZWZ0RWRnZSkge1xuICAgICAgICAgICAgICBpbmRleCArPSBzbGlkZUNvdW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSA6XG4gICAgICAgIC8vIGxvb3AgKyBnYWxsZXJ5XG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChpbmRleCA+IGluZGV4TWF4KSB7XG4gICAgICAgICAgICB3aGlsZSAoaW5kZXggPj0gaW5kZXhNaW4gKyBzbGlkZUNvdW50KSB7IGluZGV4IC09IHNsaWRlQ291bnQ7IH1cbiAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4IDwgaW5kZXhNaW4pIHtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleCA8PSBpbmRleE1heCAtIHNsaWRlQ291bnQpIHsgaW5kZXggKz0gc2xpZGVDb3VudDsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSA6XG4gICAgICAvLyBub24tbG9vcFxuICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGluZGV4ID0gTWF0aC5tYXgoaW5kZXhNaW4sIE1hdGgubWluKGluZGV4TWF4LCBpbmRleCkpO1xuICAgICAgfTtcbiAgfSkoKTtcblxuICBmdW5jdGlvbiBkaXNhYmxlVUkgKCkge1xuICAgIGlmICghYXV0b3BsYXkgJiYgYXV0b3BsYXlCdXR0b24pIHsgaGlkZUVsZW1lbnQoYXV0b3BsYXlCdXR0b24pOyB9XG4gICAgaWYgKCFuYXYgJiYgbmF2Q29udGFpbmVyKSB7IGhpZGVFbGVtZW50KG5hdkNvbnRhaW5lcik7IH1cbiAgICBpZiAoIWNvbnRyb2xzKSB7XG4gICAgICBpZiAoY29udHJvbHNDb250YWluZXIpIHtcbiAgICAgICAgaGlkZUVsZW1lbnQoY29udHJvbHNDb250YWluZXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHByZXZCdXR0b24pIHsgaGlkZUVsZW1lbnQocHJldkJ1dHRvbik7IH1cbiAgICAgICAgaWYgKG5leHRCdXR0b24pIHsgaGlkZUVsZW1lbnQobmV4dEJ1dHRvbik7IH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBlbmFibGVVSSAoKSB7XG4gICAgaWYgKGF1dG9wbGF5ICYmIGF1dG9wbGF5QnV0dG9uKSB7IHNob3dFbGVtZW50KGF1dG9wbGF5QnV0dG9uKTsgfVxuICAgIGlmIChuYXYgJiYgbmF2Q29udGFpbmVyKSB7IHNob3dFbGVtZW50KG5hdkNvbnRhaW5lcik7IH1cbiAgICBpZiAoY29udHJvbHMpIHtcbiAgICAgIGlmIChjb250cm9sc0NvbnRhaW5lcikge1xuICAgICAgICBzaG93RWxlbWVudChjb250cm9sc0NvbnRhaW5lcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocHJldkJ1dHRvbikgeyBzaG93RWxlbWVudChwcmV2QnV0dG9uKTsgfVxuICAgICAgICBpZiAobmV4dEJ1dHRvbikgeyBzaG93RWxlbWVudChuZXh0QnV0dG9uKTsgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZyZWV6ZVNsaWRlciAoKSB7XG4gICAgaWYgKGZyb3plbikgeyByZXR1cm47IH1cblxuICAgIC8vIHJlbW92ZSBlZGdlIHBhZGRpbmcgZnJvbSBpbm5lciB3cmFwcGVyXG4gICAgaWYgKGVkZ2VQYWRkaW5nKSB7IGlubmVyV3JhcHBlci5zdHlsZS5tYXJnaW4gPSAnMHB4JzsgfVxuXG4gICAgLy8gYWRkIGNsYXNzIHRucy10cmFuc3BhcmVudCB0byBjbG9uZWQgc2xpZGVzXG4gICAgaWYgKGNsb25lQ291bnQpIHtcbiAgICAgIHZhciBzdHIgPSAndG5zLXRyYW5zcGFyZW50JztcbiAgICAgIGZvciAodmFyIGkgPSBjbG9uZUNvdW50OyBpLS07KSB7XG4gICAgICAgIGlmIChjYXJvdXNlbCkgeyBhZGRDbGFzcyhzbGlkZUl0ZW1zW2ldLCBzdHIpOyB9XG4gICAgICAgIGFkZENsYXNzKHNsaWRlSXRlbXNbc2xpZGVDb3VudE5ldyAtIGkgLSAxXSwgc3RyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgdG9vbHNcbiAgICBkaXNhYmxlVUkoKTtcblxuICAgIGZyb3plbiA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiB1bmZyZWV6ZVNsaWRlciAoKSB7XG4gICAgaWYgKCFmcm96ZW4pIHsgcmV0dXJuOyB9XG5cbiAgICAvLyByZXN0b3JlIGVkZ2UgcGFkZGluZyBmb3IgaW5uZXIgd3JhcHBlclxuICAgIC8vIGZvciBtb3JkZXJuIGJyb3dzZXJzXG4gICAgaWYgKGVkZ2VQYWRkaW5nICYmIENTU01RKSB7IGlubmVyV3JhcHBlci5zdHlsZS5tYXJnaW4gPSAnJzsgfVxuXG4gICAgLy8gcmVtb3ZlIGNsYXNzIHRucy10cmFuc3BhcmVudCB0byBjbG9uZWQgc2xpZGVzXG4gICAgaWYgKGNsb25lQ291bnQpIHtcbiAgICAgIHZhciBzdHIgPSAndG5zLXRyYW5zcGFyZW50JztcbiAgICAgIGZvciAodmFyIGkgPSBjbG9uZUNvdW50OyBpLS07KSB7XG4gICAgICAgIGlmIChjYXJvdXNlbCkgeyByZW1vdmVDbGFzcyhzbGlkZUl0ZW1zW2ldLCBzdHIpOyB9XG4gICAgICAgIHJlbW92ZUNsYXNzKHNsaWRlSXRlbXNbc2xpZGVDb3VudE5ldyAtIGkgLSAxXSwgc3RyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgdG9vbHNcbiAgICBlbmFibGVVSSgpO1xuXG4gICAgZnJvemVuID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNhYmxlU2xpZGVyICgpIHtcbiAgICBpZiAoZGlzYWJsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICBzaGVldC5kaXNhYmxlZCA9IHRydWU7XG4gICAgY29udGFpbmVyLmNsYXNzTmFtZSA9IGNvbnRhaW5lci5jbGFzc05hbWUucmVwbGFjZShuZXdDb250YWluZXJDbGFzc2VzLnN1YnN0cmluZygxKSwgJycpO1xuICAgIHJlbW92ZUF0dHJzKGNvbnRhaW5lciwgWydzdHlsZSddKTtcbiAgICBpZiAobG9vcCkge1xuICAgICAgZm9yICh2YXIgaiA9IGNsb25lQ291bnQ7IGotLTspIHtcbiAgICAgICAgaWYgKGNhcm91c2VsKSB7IGhpZGVFbGVtZW50KHNsaWRlSXRlbXNbal0pOyB9XG4gICAgICAgIGhpZGVFbGVtZW50KHNsaWRlSXRlbXNbc2xpZGVDb3VudE5ldyAtIGogLSAxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdmVydGljYWwgc2xpZGVyXG4gICAgaWYgKCFob3Jpem9udGFsIHx8ICFjYXJvdXNlbCkgeyByZW1vdmVBdHRycyhpbm5lcldyYXBwZXIsIFsnc3R5bGUnXSk7IH1cblxuICAgIC8vIGdhbGxlcnlcbiAgICBpZiAoIWNhcm91c2VsKSB7IFxuICAgICAgZm9yICh2YXIgaSA9IGluZGV4LCBsID0gaW5kZXggKyBzbGlkZUNvdW50OyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gc2xpZGVJdGVtc1tpXTtcbiAgICAgICAgcmVtb3ZlQXR0cnMoaXRlbSwgWydzdHlsZSddKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgYW5pbWF0ZUluKTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgYW5pbWF0ZU5vcm1hbCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIHRvb2xzXG4gICAgZGlzYWJsZVVJKCk7XG5cbiAgICBkaXNhYmxlZCA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBlbmFibGVTbGlkZXIgKCkge1xuICAgIGlmICghZGlzYWJsZWQpIHsgcmV0dXJuOyB9XG5cbiAgICBzaGVldC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgIGNvbnRhaW5lci5jbGFzc05hbWUgKz0gbmV3Q29udGFpbmVyQ2xhc3NlcztcbiAgICBkb0NvbnRhaW5lclRyYW5zZm9ybVNpbGVudCgpO1xuXG4gICAgaWYgKGxvb3ApIHtcbiAgICAgIGZvciAodmFyIGogPSBjbG9uZUNvdW50OyBqLS07KSB7XG4gICAgICAgIGlmIChjYXJvdXNlbCkgeyBzaG93RWxlbWVudChzbGlkZUl0ZW1zW2pdKTsgfVxuICAgICAgICBzaG93RWxlbWVudChzbGlkZUl0ZW1zW3NsaWRlQ291bnROZXcgLSBqIC0gMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIGdhbGxlcnlcbiAgICBpZiAoIWNhcm91c2VsKSB7IFxuICAgICAgZm9yICh2YXIgaSA9IGluZGV4LCBsID0gaW5kZXggKyBzbGlkZUNvdW50OyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gc2xpZGVJdGVtc1tpXSxcbiAgICAgICAgICAgIGNsYXNzTiA9IGkgPCBpbmRleCArIGl0ZW1zID8gYW5pbWF0ZUluIDogYW5pbWF0ZU5vcm1hbDtcbiAgICAgICAgaXRlbS5zdHlsZS5sZWZ0ID0gKGkgLSBpbmRleCkgKiAxMDAgLyBpdGVtcyArICclJztcbiAgICAgICAgYWRkQ2xhc3MoaXRlbSwgY2xhc3NOKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgdG9vbHNcbiAgICBlbmFibGVVSSgpO1xuXG4gICAgZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpdmVSZWdpb24gKCkge1xuICAgIHZhciBzdHIgPSBnZXRMaXZlUmVnaW9uU3RyKCk7XG4gICAgaWYgKGxpdmVyZWdpb25DdXJyZW50LmlubmVySFRNTCAhPT0gc3RyKSB7IGxpdmVyZWdpb25DdXJyZW50LmlubmVySFRNTCA9IHN0cjsgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TGl2ZVJlZ2lvblN0ciAoKSB7XG4gICAgdmFyIGFyciA9IGdldFZpc2libGVTbGlkZVJhbmdlKCksXG4gICAgICAgIHN0YXJ0ID0gYXJyWzBdICsgMSxcbiAgICAgICAgZW5kID0gYXJyWzFdICsgMTtcbiAgICByZXR1cm4gc3RhcnQgPT09IGVuZCA/IHN0YXJ0ICsgJycgOiBzdGFydCArICcgdG8gJyArIGVuZDsgXG4gIH1cblxuICBmdW5jdGlvbiBnZXRWaXNpYmxlU2xpZGVSYW5nZSAodmFsKSB7XG4gICAgaWYgKHZhbCA9PSBudWxsKSB7IHZhbCA9IGdldENvbnRhaW5lclRyYW5zZm9ybVZhbHVlKCk7IH1cbiAgICB2YXIgc3RhcnQgPSBpbmRleCwgZW5kLCByYW5nZXN0YXJ0LCByYW5nZWVuZDtcblxuICAgIC8vIGdldCByYW5nZSBzdGFydCwgcmFuZ2UgZW5kIGZvciBhdXRvV2lkdGggYW5kIGZpeGVkV2lkdGhcbiAgICBpZiAoY2VudGVyIHx8IGVkZ2VQYWRkaW5nKSB7XG4gICAgICBpZiAoYXV0b1dpZHRoIHx8IGZpeGVkV2lkdGgpIHtcbiAgICAgICAgcmFuZ2VzdGFydCA9IC0gKHBhcnNlRmxvYXQodmFsKSArIGVkZ2VQYWRkaW5nKTtcbiAgICAgICAgcmFuZ2VlbmQgPSByYW5nZXN0YXJ0ICsgdmlld3BvcnQgKyBlZGdlUGFkZGluZyAqIDI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhdXRvV2lkdGgpIHtcbiAgICAgICAgcmFuZ2VzdGFydCA9IHNsaWRlUG9zaXRpb25zW2luZGV4XTtcbiAgICAgICAgcmFuZ2VlbmQgPSByYW5nZXN0YXJ0ICsgdmlld3BvcnQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gZ2V0IHN0YXJ0LCBlbmRcbiAgICAvLyAtIGNoZWNrIGF1dG8gd2lkdGhcbiAgICBpZiAoYXV0b1dpZHRoKSB7XG4gICAgICBzbGlkZVBvc2l0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKHBvaW50LCBpKSB7XG4gICAgICAgIGlmIChpIDwgc2xpZGVDb3VudE5ldykge1xuICAgICAgICAgIGlmICgoY2VudGVyIHx8IGVkZ2VQYWRkaW5nKSAmJiBwb2ludCA8PSByYW5nZXN0YXJ0ICsgMC41KSB7IHN0YXJ0ID0gaTsgfVxuICAgICAgICAgIGlmIChyYW5nZWVuZCAtIHBvaW50ID49IDAuNSkgeyBlbmQgPSBpOyB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gLSBjaGVjayBwZXJjZW50YWdlIHdpZHRoLCBmaXhlZCB3aWR0aFxuICAgIH0gZWxzZSB7XG5cbiAgICAgIGlmIChmaXhlZFdpZHRoKSB7XG4gICAgICAgIHZhciBjZWxsID0gZml4ZWRXaWR0aCArIGd1dHRlcjtcbiAgICAgICAgaWYgKGNlbnRlciB8fCBlZGdlUGFkZGluZykge1xuICAgICAgICAgIHN0YXJ0ID0gTWF0aC5mbG9vcihyYW5nZXN0YXJ0L2NlbGwpO1xuICAgICAgICAgIGVuZCA9IE1hdGguY2VpbChyYW5nZWVuZC9jZWxsIC0gMSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQgKyBNYXRoLmNlaWwodmlld3BvcnQvY2VsbCkgLSAxO1xuICAgICAgICB9XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjZW50ZXIgfHwgZWRnZVBhZGRpbmcpIHtcbiAgICAgICAgICB2YXIgYSA9IGl0ZW1zIC0gMTtcbiAgICAgICAgICBpZiAoY2VudGVyKSB7XG4gICAgICAgICAgICBzdGFydCAtPSBhIC8gMjtcbiAgICAgICAgICAgIGVuZCA9IGluZGV4ICsgYSAvIDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVuZCA9IGluZGV4ICsgYTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZWRnZVBhZGRpbmcpIHtcbiAgICAgICAgICAgIHZhciBiID0gZWRnZVBhZGRpbmcgKiBpdGVtcyAvIHZpZXdwb3J0O1xuICAgICAgICAgICAgc3RhcnQgLT0gYjtcbiAgICAgICAgICAgIGVuZCArPSBiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHN0YXJ0ID0gTWF0aC5mbG9vcihzdGFydCk7XG4gICAgICAgICAgZW5kID0gTWF0aC5jZWlsKGVuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQgKyBpdGVtcyAtIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgc3RhcnQgPSBNYXRoLm1heChzdGFydCwgMCk7XG4gICAgICBlbmQgPSBNYXRoLm1pbihlbmQsIHNsaWRlQ291bnROZXcgLSAxKTtcbiAgICB9XG5cbiAgICByZXR1cm4gW3N0YXJ0LCBlbmRdO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9MYXp5TG9hZCAoKSB7XG4gICAgaWYgKGxhenlsb2FkICYmICFkaXNhYmxlKSB7XG4gICAgICBnZXRJbWFnZUFycmF5LmFwcGx5KG51bGwsIGdldFZpc2libGVTbGlkZVJhbmdlKCkpLmZvckVhY2goZnVuY3Rpb24gKGltZykge1xuICAgICAgICBpZiAoIWhhc0NsYXNzKGltZywgaW1nQ29tcGxldGVDbGFzcykpIHtcbiAgICAgICAgICAvLyBzdG9wIHByb3BhZ2F0aW9uIHRyYW5zaXRpb25lbmQgZXZlbnQgdG8gY29udGFpbmVyXG4gICAgICAgICAgdmFyIGV2ZSA9IHt9O1xuICAgICAgICAgIGV2ZVtUUkFOU0lUSU9ORU5EXSA9IGZ1bmN0aW9uIChlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH07XG4gICAgICAgICAgYWRkRXZlbnRzKGltZywgZXZlKTtcblxuICAgICAgICAgIGFkZEV2ZW50cyhpbWcsIGltZ0V2ZW50cyk7XG5cbiAgICAgICAgICAvLyB1cGRhdGUgc3JjXG4gICAgICAgICAgaW1nLnNyYyA9IGdldEF0dHIoaW1nLCAnZGF0YS1zcmMnKTtcblxuICAgICAgICAgIC8vIHVwZGF0ZSBzcmNzZXRcbiAgICAgICAgICB2YXIgc3Jjc2V0ID0gZ2V0QXR0cihpbWcsICdkYXRhLXNyY3NldCcpO1xuICAgICAgICAgIGlmIChzcmNzZXQpIHsgaW1nLnNyY3NldCA9IHNyY3NldDsgfVxuXG4gICAgICAgICAgYWRkQ2xhc3MoaW1nLCAnbG9hZGluZycpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkltZ0xvYWRlZCAoZSkge1xuICAgIGltZ0xvYWRlZChnZXRUYXJnZXQoZSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25JbWdGYWlsZWQgKGUpIHtcbiAgICBpbWdGYWlsZWQoZ2V0VGFyZ2V0KGUpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGltZ0xvYWRlZCAoaW1nKSB7XG4gICAgYWRkQ2xhc3MoaW1nLCAnbG9hZGVkJyk7XG4gICAgaW1nQ29tcGxldGVkKGltZyk7XG4gIH1cblxuICBmdW5jdGlvbiBpbWdGYWlsZWQgKGltZykge1xuICAgIGFkZENsYXNzKGltZywgJ2ZhaWxlZCcpO1xuICAgIGltZ0NvbXBsZXRlZChpbWcpO1xuICB9XG5cbiAgZnVuY3Rpb24gaW1nQ29tcGxldGVkIChpbWcpIHtcbiAgICBhZGRDbGFzcyhpbWcsICd0bnMtY29tcGxldGUnKTtcbiAgICByZW1vdmVDbGFzcyhpbWcsICdsb2FkaW5nJyk7XG4gICAgcmVtb3ZlRXZlbnRzKGltZywgaW1nRXZlbnRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEltYWdlQXJyYXkgKHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgaW1ncyA9IFtdO1xuICAgIHdoaWxlIChzdGFydCA8PSBlbmQpIHtcbiAgICAgIGZvckVhY2goc2xpZGVJdGVtc1tzdGFydF0ucXVlcnlTZWxlY3RvckFsbCgnaW1nJyksIGZ1bmN0aW9uIChpbWcpIHsgaW1ncy5wdXNoKGltZyk7IH0pO1xuICAgICAgc3RhcnQrKztcbiAgICB9XG5cbiAgICByZXR1cm4gaW1ncztcbiAgfVxuXG4gIC8vIGNoZWNrIGlmIGFsbCB2aXNpYmxlIGltYWdlcyBhcmUgbG9hZGVkXG4gIC8vIGFuZCB1cGRhdGUgY29udGFpbmVyIGhlaWdodCBpZiBpdCdzIGRvbmVcbiAgZnVuY3Rpb24gZG9BdXRvSGVpZ2h0ICgpIHtcbiAgICB2YXIgaW1ncyA9IGdldEltYWdlQXJyYXkuYXBwbHkobnVsbCwgZ2V0VmlzaWJsZVNsaWRlUmFuZ2UoKSk7XG4gICAgcmFmKGZ1bmN0aW9uKCl7IGltZ3NMb2FkZWRDaGVjayhpbWdzLCB1cGRhdGVJbm5lcldyYXBwZXJIZWlnaHQpOyB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGltZ3NMb2FkZWRDaGVjayAoaW1ncywgY2IpIHtcbiAgICAvLyBkaXJlY3RseSBleGVjdXRlIGNhbGxiYWNrIGZ1bmN0aW9uIGlmIGFsbCBpbWFnZXMgYXJlIGNvbXBsZXRlXG4gICAgaWYgKGltZ3NDb21wbGV0ZSkgeyByZXR1cm4gY2IoKTsgfVxuXG4gICAgLy8gY2hlY2sgc2VsZWN0ZWQgaW1hZ2UgY2xhc3NlcyBvdGhlcndpc2VcbiAgICBpbWdzLmZvckVhY2goZnVuY3Rpb24gKGltZywgaW5kZXgpIHtcbiAgICAgIGlmIChoYXNDbGFzcyhpbWcsIGltZ0NvbXBsZXRlQ2xhc3MpKSB7IGltZ3Muc3BsaWNlKGluZGV4LCAxKTsgfVxuICAgIH0pO1xuXG4gICAgLy8gZXhlY3V0ZSBjYWxsYmFjayBmdW5jdGlvbiBpZiBzZWxlY3RlZCBpbWFnZXMgYXJlIGFsbCBjb21wbGV0ZVxuICAgIGlmICghaW1ncy5sZW5ndGgpIHsgcmV0dXJuIGNiKCk7IH1cblxuICAgIC8vIG90aGVyd2lzZSBleGVjdXRlIHRoaXMgZnVuY3Rpb25hIGFnYWluXG4gICAgcmFmKGZ1bmN0aW9uKCl7IGltZ3NMb2FkZWRDaGVjayhpbWdzLCBjYik7IH0pO1xuICB9IFxuXG4gIGZ1bmN0aW9uIGFkZGl0aW9uYWxVcGRhdGVzICgpIHtcbiAgICBkb0xhenlMb2FkKCk7IFxuICAgIHVwZGF0ZVNsaWRlU3RhdHVzKCk7XG4gICAgdXBkYXRlTGl2ZVJlZ2lvbigpO1xuICAgIHVwZGF0ZUNvbnRyb2xzU3RhdHVzKCk7XG4gICAgdXBkYXRlTmF2U3RhdHVzKCk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHVwZGF0ZV9jYXJvdXNlbF90cmFuc2l0aW9uX2R1cmF0aW9uICgpIHtcbiAgICBpZiAoY2Fyb3VzZWwgJiYgYXV0b0hlaWdodCkge1xuICAgICAgbWlkZGxlV3JhcHBlci5zdHlsZVtUUkFOU0lUSU9ORFVSQVRJT05dID0gc3BlZWQgLyAxMDAwICsgJ3MnO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1heFNsaWRlSGVpZ2h0IChzbGlkZVN0YXJ0LCBzbGlkZVJhbmdlKSB7XG4gICAgdmFyIGhlaWdodHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gc2xpZGVTdGFydCwgbCA9IE1hdGgubWluKHNsaWRlU3RhcnQgKyBzbGlkZVJhbmdlLCBzbGlkZUNvdW50TmV3KTsgaSA8IGw7IGkrKykge1xuICAgICAgaGVpZ2h0cy5wdXNoKHNsaWRlSXRlbXNbaV0ub2Zmc2V0SGVpZ2h0KTtcbiAgICB9XG5cbiAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgaGVpZ2h0cyk7XG4gIH1cblxuICAvLyB1cGRhdGUgaW5uZXIgd3JhcHBlciBoZWlnaHRcbiAgLy8gMS4gZ2V0IHRoZSBtYXgtaGVpZ2h0IG9mIHRoZSB2aXNpYmxlIHNsaWRlc1xuICAvLyAyLiBzZXQgdHJhbnNpdGlvbkR1cmF0aW9uIHRvIHNwZWVkXG4gIC8vIDMuIHVwZGF0ZSBpbm5lciB3cmFwcGVyIGhlaWdodCB0byBtYXgtaGVpZ2h0XG4gIC8vIDQuIHNldCB0cmFuc2l0aW9uRHVyYXRpb24gdG8gMHMgYWZ0ZXIgdHJhbnNpdGlvbiBkb25lXG4gIGZ1bmN0aW9uIHVwZGF0ZUlubmVyV3JhcHBlckhlaWdodCAoKSB7XG4gICAgdmFyIG1heEhlaWdodCA9IGF1dG9IZWlnaHQgPyBnZXRNYXhTbGlkZUhlaWdodChpbmRleCwgaXRlbXMpIDogZ2V0TWF4U2xpZGVIZWlnaHQoY2xvbmVDb3VudCwgc2xpZGVDb3VudCksXG4gICAgICAgIHdwID0gbWlkZGxlV3JhcHBlciA/IG1pZGRsZVdyYXBwZXIgOiBpbm5lcldyYXBwZXI7XG5cbiAgICBpZiAod3Auc3R5bGUuaGVpZ2h0ICE9PSBtYXhIZWlnaHQpIHsgd3Auc3R5bGUuaGVpZ2h0ID0gbWF4SGVpZ2h0ICsgJ3B4JzsgfVxuICB9XG5cbiAgLy8gZ2V0IHRoZSBkaXN0YW5jZSBmcm9tIHRoZSB0b3AgZWRnZSBvZiB0aGUgZmlyc3Qgc2xpZGUgdG8gZWFjaCBzbGlkZVxuICAvLyAoaW5pdCkgPT4gc2xpZGVQb3NpdGlvbnNcbiAgZnVuY3Rpb24gc2V0U2xpZGVQb3NpdGlvbnMgKCkge1xuICAgIHNsaWRlUG9zaXRpb25zID0gWzBdO1xuICAgIHZhciBhdHRyID0gaG9yaXpvbnRhbCA/ICdsZWZ0JyA6ICd0b3AnLFxuICAgICAgICBhdHRyMiA9IGhvcml6b250YWwgPyAncmlnaHQnIDogJ2JvdHRvbScsXG4gICAgICAgIGJhc2UgPSBzbGlkZUl0ZW1zWzBdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2F0dHJdO1xuXG4gICAgZm9yRWFjaChzbGlkZUl0ZW1zLCBmdW5jdGlvbihpdGVtLCBpKSB7XG4gICAgICAvLyBza2lwIHRoZSBmaXJzdCBzbGlkZVxuICAgICAgaWYgKGkpIHsgc2xpZGVQb3NpdGlvbnMucHVzaChpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpW2F0dHJdIC0gYmFzZSk7IH1cbiAgICAgIC8vIGFkZCB0aGUgZW5kIGVkZ2VcbiAgICAgIGlmIChpID09PSBzbGlkZUNvdW50TmV3IC0gMSkgeyBzbGlkZVBvc2l0aW9ucy5wdXNoKGl0ZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KClbYXR0cjJdIC0gYmFzZSk7IH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIHVwZGF0ZSBzbGlkZVxuICBmdW5jdGlvbiB1cGRhdGVTbGlkZVN0YXR1cyAoKSB7XG4gICAgdmFyIHJhbmdlID0gZ2V0VmlzaWJsZVNsaWRlUmFuZ2UoKSxcbiAgICAgICAgc3RhcnQgPSByYW5nZVswXSxcbiAgICAgICAgZW5kID0gcmFuZ2VbMV07XG5cbiAgICBmb3JFYWNoKHNsaWRlSXRlbXMsIGZ1bmN0aW9uKGl0ZW0sIGkpIHtcbiAgICAgIC8vIHNob3cgc2xpZGVzXG4gICAgICBpZiAoaSA+PSBzdGFydCAmJiBpIDw9IGVuZCkge1xuICAgICAgICBpZiAoaGFzQXR0cihpdGVtLCAnYXJpYS1oaWRkZW4nKSkge1xuICAgICAgICAgIHJlbW92ZUF0dHJzKGl0ZW0sIFsnYXJpYS1oaWRkZW4nLCAndGFiaW5kZXgnXSk7XG4gICAgICAgICAgYWRkQ2xhc3MoaXRlbSwgc2xpZGVBY3RpdmVDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIC8vIGhpZGUgc2xpZGVzXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIWhhc0F0dHIoaXRlbSwgJ2FyaWEtaGlkZGVuJykpIHtcbiAgICAgICAgICBzZXRBdHRycyhpdGVtLCB7XG4gICAgICAgICAgICAnYXJpYS1oaWRkZW4nOiAndHJ1ZScsXG4gICAgICAgICAgICAndGFiaW5kZXgnOiAnLTEnXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgc2xpZGVBY3RpdmVDbGFzcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIGdhbGxlcnk6IHVwZGF0ZSBzbGlkZSBwb3NpdGlvblxuICBmdW5jdGlvbiB1cGRhdGVHYWxsZXJ5U2xpZGVQb3NpdGlvbnMgKCkge1xuICAgIHZhciBsID0gaW5kZXggKyBNYXRoLm1pbihzbGlkZUNvdW50LCBpdGVtcyk7XG4gICAgZm9yICh2YXIgaSA9IHNsaWRlQ291bnROZXc7IGktLTspIHtcbiAgICAgIHZhciBpdGVtID0gc2xpZGVJdGVtc1tpXTtcblxuICAgICAgaWYgKGkgPj0gaW5kZXggJiYgaSA8IGwpIHtcbiAgICAgICAgLy8gYWRkIHRyYW5zaXRpb25zIHRvIHZpc2libGUgc2xpZGVzIHdoZW4gYWRqdXN0aW5nIHRoZWlyIHBvc2l0aW9uc1xuICAgICAgICBhZGRDbGFzcyhpdGVtLCAndG5zLW1vdmluZycpO1xuXG4gICAgICAgIGl0ZW0uc3R5bGUubGVmdCA9IChpIC0gaW5kZXgpICogMTAwIC8gaXRlbXMgKyAnJSc7XG4gICAgICAgIGFkZENsYXNzKGl0ZW0sIGFuaW1hdGVJbik7XG4gICAgICAgIHJlbW92ZUNsYXNzKGl0ZW0sIGFuaW1hdGVOb3JtYWwpO1xuICAgICAgfSBlbHNlIGlmIChpdGVtLnN0eWxlLmxlZnQpIHtcbiAgICAgICAgaXRlbS5zdHlsZS5sZWZ0ID0gJyc7XG4gICAgICAgIGFkZENsYXNzKGl0ZW0sIGFuaW1hdGVOb3JtYWwpO1xuICAgICAgICByZW1vdmVDbGFzcyhpdGVtLCBhbmltYXRlSW4pO1xuICAgICAgfVxuXG4gICAgICAvLyByZW1vdmUgb3V0bGV0IGFuaW1hdGlvblxuICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgYW5pbWF0ZU91dCk7XG4gICAgfVxuXG4gICAgLy8gcmVtb3ZpbmcgJy50bnMtbW92aW5nJ1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICBmb3JFYWNoKHNsaWRlSXRlbXMsIGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgIHJlbW92ZUNsYXNzKGVsLCAndG5zLW1vdmluZycpO1xuICAgICAgfSk7XG4gICAgfSwgMzAwKTtcbiAgfVxuXG4gIC8vIHNldCB0YWJpbmRleCBvbiBOYXZcbiAgZnVuY3Rpb24gdXBkYXRlTmF2U3RhdHVzICgpIHtcbiAgICAvLyBnZXQgY3VycmVudCBuYXZcbiAgICBpZiAobmF2KSB7XG4gICAgICBuYXZDdXJyZW50SW5kZXggPSBuYXZDbGlja2VkID49IDAgPyBuYXZDbGlja2VkIDogZ2V0Q3VycmVudE5hdkluZGV4KCk7XG4gICAgICBuYXZDbGlja2VkID0gLTE7XG5cbiAgICAgIGlmIChuYXZDdXJyZW50SW5kZXggIT09IG5hdkN1cnJlbnRJbmRleENhY2hlZCkge1xuICAgICAgICB2YXIgbmF2UHJldiA9IG5hdkl0ZW1zW25hdkN1cnJlbnRJbmRleENhY2hlZF0sXG4gICAgICAgICAgICBuYXZDdXJyZW50ID0gbmF2SXRlbXNbbmF2Q3VycmVudEluZGV4XTtcblxuICAgICAgICBzZXRBdHRycyhuYXZQcmV2LCB7XG4gICAgICAgICAgJ3RhYmluZGV4JzogJy0xJyxcbiAgICAgICAgICAnYXJpYS1sYWJlbCc6IG5hdlN0ciArIChuYXZDdXJyZW50SW5kZXhDYWNoZWQgKyAxKVxuICAgICAgICB9KTtcbiAgICAgICAgcmVtb3ZlQ2xhc3MobmF2UHJldiwgbmF2QWN0aXZlQ2xhc3MpO1xuICAgICAgICBcbiAgICAgICAgc2V0QXR0cnMobmF2Q3VycmVudCwgeydhcmlhLWxhYmVsJzogbmF2U3RyICsgKG5hdkN1cnJlbnRJbmRleCArIDEpICsgbmF2U3RyQ3VycmVudH0pO1xuICAgICAgICByZW1vdmVBdHRycyhuYXZDdXJyZW50LCAndGFiaW5kZXgnKTtcbiAgICAgICAgYWRkQ2xhc3MobmF2Q3VycmVudCwgbmF2QWN0aXZlQ2xhc3MpO1xuXG4gICAgICAgIG5hdkN1cnJlbnRJbmRleENhY2hlZCA9IG5hdkN1cnJlbnRJbmRleDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMb3dlckNhc2VOb2RlTmFtZSAoZWwpIHtcbiAgICByZXR1cm4gZWwubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlzQnV0dG9uIChlbCkge1xuICAgIHJldHVybiBnZXRMb3dlckNhc2VOb2RlTmFtZShlbCkgPT09ICdidXR0b24nO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNBcmlhRGlzYWJsZWQgKGVsKSB7XG4gICAgcmV0dXJuIGVsLmdldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcpID09PSAndHJ1ZSc7XG4gIH1cblxuICBmdW5jdGlvbiBkaXNFbmFibGVFbGVtZW50IChpc0J1dHRvbiwgZWwsIHZhbCkge1xuICAgIGlmIChpc0J1dHRvbikge1xuICAgICAgZWwuZGlzYWJsZWQgPSB2YWw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLnNldEF0dHJpYnV0ZSgnYXJpYS1kaXNhYmxlZCcsIHZhbC50b1N0cmluZygpKTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXQgJ2Rpc2FibGVkJyB0byB0cnVlIG9uIGNvbnRyb2xzIHdoZW4gcmVhY2ggdGhlIGVkZ2VzXG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRyb2xzU3RhdHVzICgpIHtcbiAgICBpZiAoIWNvbnRyb2xzIHx8IHJld2luZCB8fCBsb29wKSB7IHJldHVybjsgfVxuXG4gICAgdmFyIHByZXZEaXNhYmxlZCA9IChwcmV2SXNCdXR0b24pID8gcHJldkJ1dHRvbi5kaXNhYmxlZCA6IGlzQXJpYURpc2FibGVkKHByZXZCdXR0b24pLFxuICAgICAgICBuZXh0RGlzYWJsZWQgPSAobmV4dElzQnV0dG9uKSA/IG5leHRCdXR0b24uZGlzYWJsZWQgOiBpc0FyaWFEaXNhYmxlZChuZXh0QnV0dG9uKSxcbiAgICAgICAgZGlzYWJsZVByZXYgPSAoaW5kZXggPD0gaW5kZXhNaW4pID8gdHJ1ZSA6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlTmV4dCA9ICghcmV3aW5kICYmIGluZGV4ID49IGluZGV4TWF4KSA/IHRydWUgOiBmYWxzZTtcblxuICAgIGlmIChkaXNhYmxlUHJldiAmJiAhcHJldkRpc2FibGVkKSB7XG4gICAgICBkaXNFbmFibGVFbGVtZW50KHByZXZJc0J1dHRvbiwgcHJldkJ1dHRvbiwgdHJ1ZSk7XG4gICAgfVxuICAgIGlmICghZGlzYWJsZVByZXYgJiYgcHJldkRpc2FibGVkKSB7XG4gICAgICBkaXNFbmFibGVFbGVtZW50KHByZXZJc0J1dHRvbiwgcHJldkJ1dHRvbiwgZmFsc2UpO1xuICAgIH1cbiAgICBpZiAoZGlzYWJsZU5leHQgJiYgIW5leHREaXNhYmxlZCkge1xuICAgICAgZGlzRW5hYmxlRWxlbWVudChuZXh0SXNCdXR0b24sIG5leHRCdXR0b24sIHRydWUpO1xuICAgIH1cbiAgICBpZiAoIWRpc2FibGVOZXh0ICYmIG5leHREaXNhYmxlZCkge1xuICAgICAgZGlzRW5hYmxlRWxlbWVudChuZXh0SXNCdXR0b24sIG5leHRCdXR0b24sIGZhbHNlKTtcbiAgICB9XG4gIH1cblxuICAvLyBzZXQgZHVyYXRpb25cbiAgZnVuY3Rpb24gcmVzZXREdXJhdGlvbiAoZWwsIHN0cikge1xuICAgIGlmIChUUkFOU0lUSU9ORFVSQVRJT04pIHsgZWwuc3R5bGVbVFJBTlNJVElPTkRVUkFUSU9OXSA9IHN0cjsgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2xpZGVyV2lkdGggKCkge1xuICAgIHJldHVybiBmaXhlZFdpZHRoID8gKGZpeGVkV2lkdGggKyBndXR0ZXIpICogc2xpZGVDb3VudE5ldyA6IHNsaWRlUG9zaXRpb25zW3NsaWRlQ291bnROZXddO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Q2VudGVyR2FwIChudW0pIHtcbiAgICBpZiAobnVtID09IG51bGwpIHsgbnVtID0gaW5kZXg7IH1cblxuICAgIHZhciBnYXAgPSBlZGdlUGFkZGluZyA/IGd1dHRlciA6IDA7XG4gICAgcmV0dXJuIGF1dG9XaWR0aCA/ICgodmlld3BvcnQgLSBnYXApIC0gKHNsaWRlUG9zaXRpb25zW251bSArIDFdIC0gc2xpZGVQb3NpdGlvbnNbbnVtXSAtIGd1dHRlcikpLzIgOlxuICAgICAgZml4ZWRXaWR0aCA/ICh2aWV3cG9ydCAtIGZpeGVkV2lkdGgpIC8gMiA6XG4gICAgICAgIChpdGVtcyAtIDEpIC8gMjtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJpZ2h0Qm91bmRhcnkgKCkge1xuICAgIHZhciBnYXAgPSBlZGdlUGFkZGluZyA/IGd1dHRlciA6IDAsXG4gICAgICAgIHJlc3VsdCA9ICh2aWV3cG9ydCArIGdhcCkgLSBnZXRTbGlkZXJXaWR0aCgpO1xuXG4gICAgaWYgKGNlbnRlciAmJiAhbG9vcCkge1xuICAgICAgcmVzdWx0ID0gZml4ZWRXaWR0aCA/IC0gKGZpeGVkV2lkdGggKyBndXR0ZXIpICogKHNsaWRlQ291bnROZXcgLSAxKSAtIGdldENlbnRlckdhcCgpIDpcbiAgICAgICAgZ2V0Q2VudGVyR2FwKHNsaWRlQ291bnROZXcgLSAxKSAtIHNsaWRlUG9zaXRpb25zW3NsaWRlQ291bnROZXcgLSAxXTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCA+IDApIHsgcmVzdWx0ID0gMDsgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbnRhaW5lclRyYW5zZm9ybVZhbHVlIChudW0pIHtcbiAgICBpZiAobnVtID09IG51bGwpIHsgbnVtID0gaW5kZXg7IH1cblxuICAgIHZhciB2YWw7XG4gICAgaWYgKGhvcml6b250YWwgJiYgIWF1dG9XaWR0aCkge1xuICAgICAgaWYgKGZpeGVkV2lkdGgpIHtcbiAgICAgICAgdmFsID0gLSAoZml4ZWRXaWR0aCArIGd1dHRlcikgKiBudW07XG4gICAgICAgIGlmIChjZW50ZXIpIHsgdmFsICs9IGdldENlbnRlckdhcCgpOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBUUkFOU0ZPUk0gPyBzbGlkZUNvdW50TmV3IDogaXRlbXM7XG4gICAgICAgIGlmIChjZW50ZXIpIHsgbnVtIC09IGdldENlbnRlckdhcCgpOyB9XG4gICAgICAgIHZhbCA9IC0gbnVtICogMTAwIC8gZGVub21pbmF0b3I7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbCA9IC0gc2xpZGVQb3NpdGlvbnNbbnVtXTtcbiAgICAgIGlmIChjZW50ZXIgJiYgYXV0b1dpZHRoKSB7XG4gICAgICAgIHZhbCArPSBnZXRDZW50ZXJHYXAoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzUmlnaHREZWFkWm9uZSkgeyB2YWwgPSBNYXRoLm1heCh2YWwsIHJpZ2h0Qm91bmRhcnkpOyB9XG5cbiAgICB2YWwgKz0gKGhvcml6b250YWwgJiYgIWF1dG9XaWR0aCAmJiAhZml4ZWRXaWR0aCkgPyAnJScgOiAncHgnO1xuXG4gICAgcmV0dXJuIHZhbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvQ29udGFpbmVyVHJhbnNmb3JtU2lsZW50ICh2YWwpIHtcbiAgICByZXNldER1cmF0aW9uKGNvbnRhaW5lciwgJzBzJyk7XG4gICAgZG9Db250YWluZXJUcmFuc2Zvcm0odmFsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvQ29udGFpbmVyVHJhbnNmb3JtICh2YWwpIHtcbiAgICBpZiAodmFsID09IG51bGwpIHsgdmFsID0gZ2V0Q29udGFpbmVyVHJhbnNmb3JtVmFsdWUoKTsgfVxuICAgIGNvbnRhaW5lci5zdHlsZVt0cmFuc2Zvcm1BdHRyXSA9IHRyYW5zZm9ybVByZWZpeCArIHZhbCArIHRyYW5zZm9ybVBvc3RmaXg7XG4gIH1cblxuICBmdW5jdGlvbiBhbmltYXRlU2xpZGUgKG51bWJlciwgY2xhc3NPdXQsIGNsYXNzSW4sIGlzT3V0KSB7XG4gICAgdmFyIGwgPSBudW1iZXIgKyBpdGVtcztcbiAgICBpZiAoIWxvb3ApIHsgbCA9IE1hdGgubWluKGwsIHNsaWRlQ291bnROZXcpOyB9XG5cbiAgICBmb3IgKHZhciBpID0gbnVtYmVyOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBpdGVtID0gc2xpZGVJdGVtc1tpXTtcblxuICAgICAgLy8gc2V0IGl0ZW0gcG9zaXRpb25zXG4gICAgICBpZiAoIWlzT3V0KSB7IGl0ZW0uc3R5bGUubGVmdCA9IChpIC0gaW5kZXgpICogMTAwIC8gaXRlbXMgKyAnJSc7IH1cblxuICAgICAgaWYgKGFuaW1hdGVEZWxheSAmJiBUUkFOU0lUSU9OREVMQVkpIHtcbiAgICAgICAgaXRlbS5zdHlsZVtUUkFOU0lUSU9OREVMQVldID0gaXRlbS5zdHlsZVtBTklNQVRJT05ERUxBWV0gPSBhbmltYXRlRGVsYXkgKiAoaSAtIG51bWJlcikgLyAxMDAwICsgJ3MnO1xuICAgICAgfVxuICAgICAgcmVtb3ZlQ2xhc3MoaXRlbSwgY2xhc3NPdXQpO1xuICAgICAgYWRkQ2xhc3MoaXRlbSwgY2xhc3NJbik7XG4gICAgICBcbiAgICAgIGlmIChpc091dCkgeyBzbGlkZUl0ZW1zT3V0LnB1c2goaXRlbSk7IH1cbiAgICB9XG4gIH1cblxuICAvLyBtYWtlIHRyYW5zZmVyIGFmdGVyIGNsaWNrL2RyYWc6XG4gIC8vIDEuIGNoYW5nZSAndHJhbnNmb3JtJyBwcm9wZXJ0eSBmb3IgbW9yZGVybiBicm93c2Vyc1xuICAvLyAyLiBjaGFuZ2UgJ2xlZnQnIHByb3BlcnR5IGZvciBsZWdhY3kgYnJvd3NlcnNcbiAgdmFyIHRyYW5zZm9ybUNvcmUgPSAoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBjYXJvdXNlbCA/XG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc2V0RHVyYXRpb24oY29udGFpbmVyLCAnJyk7XG4gICAgICAgIGlmIChUUkFOU0lUSU9ORFVSQVRJT04gfHwgIXNwZWVkKSB7XG4gICAgICAgICAgLy8gZm9yIG1vcmRlbiBicm93c2VycyB3aXRoIG5vbi16ZXJvIGR1cmF0aW9uIG9yIFxuICAgICAgICAgIC8vIHplcm8gZHVyYXRpb24gZm9yIGFsbCBicm93c2Vyc1xuICAgICAgICAgIGRvQ29udGFpbmVyVHJhbnNmb3JtKCk7XG4gICAgICAgICAgLy8gcnVuIGZhbGxiYWNrIGZ1bmN0aW9uIG1hbnVhbGx5IFxuICAgICAgICAgIC8vIHdoZW4gZHVyYXRpb24gaXMgMCAvIGNvbnRhaW5lciBpcyBoaWRkZW5cbiAgICAgICAgICBpZiAoIXNwZWVkIHx8ICFpc1Zpc2libGUoY29udGFpbmVyKSkgeyBvblRyYW5zaXRpb25FbmQoKTsgfVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gZm9yIG9sZCBicm93c2VyIHdpdGggbm9uLXplcm8gZHVyYXRpb25cbiAgICAgICAgICBqc1RyYW5zZm9ybShjb250YWluZXIsIHRyYW5zZm9ybUF0dHIsIHRyYW5zZm9ybVByZWZpeCwgdHJhbnNmb3JtUG9zdGZpeCwgZ2V0Q29udGFpbmVyVHJhbnNmb3JtVmFsdWUoKSwgc3BlZWQsIG9uVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhvcml6b250YWwpIHsgdXBkYXRlQ29udGVudFdyYXBwZXJIZWlnaHQoKTsgfVxuICAgICAgfSA6XG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNsaWRlSXRlbXNPdXQgPSBbXTtcblxuICAgICAgICB2YXIgZXZlID0ge307XG4gICAgICAgIGV2ZVtUUkFOU0lUSU9ORU5EXSA9IGV2ZVtBTklNQVRJT05FTkRdID0gb25UcmFuc2l0aW9uRW5kO1xuICAgICAgICByZW1vdmVFdmVudHMoc2xpZGVJdGVtc1tpbmRleENhY2hlZF0sIGV2ZSk7XG4gICAgICAgIGFkZEV2ZW50cyhzbGlkZUl0ZW1zW2luZGV4XSwgZXZlKTtcblxuICAgICAgICBhbmltYXRlU2xpZGUoaW5kZXhDYWNoZWQsIGFuaW1hdGVJbiwgYW5pbWF0ZU91dCwgdHJ1ZSk7XG4gICAgICAgIGFuaW1hdGVTbGlkZShpbmRleCwgYW5pbWF0ZU5vcm1hbCwgYW5pbWF0ZUluKTtcblxuICAgICAgICAvLyBydW4gZmFsbGJhY2sgZnVuY3Rpb24gbWFudWFsbHkgXG4gICAgICAgIC8vIHdoZW4gdHJhbnNpdGlvbiBvciBhbmltYXRpb24gbm90IHN1cHBvcnRlZCAvIGR1cmF0aW9uIGlzIDBcbiAgICAgICAgaWYgKCFUUkFOU0lUSU9ORU5EIHx8ICFBTklNQVRJT05FTkQgfHwgIXNwZWVkIHx8ICFpc1Zpc2libGUoY29udGFpbmVyKSkgeyBvblRyYW5zaXRpb25FbmQoKTsgfVxuICAgICAgfTtcbiAgfSkoKTtcblxuICBmdW5jdGlvbiByZW5kZXIgKGUsIHNsaWRlck1vdmVkKSB7XG4gICAgaWYgKHVwZGF0ZUluZGV4QmVmb3JlVHJhbnNmb3JtKSB7IHVwZGF0ZUluZGV4KCk7IH1cblxuICAgIC8vIHJlbmRlciB3aGVuIHNsaWRlciB3YXMgbW92ZWQgKHRvdWNoIG9yIGRyYWcpIGV2ZW4gdGhvdWdoIGluZGV4IG1heSBub3QgY2hhbmdlXG4gICAgaWYgKGluZGV4ICE9PSBpbmRleENhY2hlZCB8fCBzbGlkZXJNb3ZlZCkge1xuICAgICAgLy8gZXZlbnRzXG4gICAgICBldmVudHMuZW1pdCgnaW5kZXhDaGFuZ2VkJywgaW5mbygpKTtcbiAgICAgIGV2ZW50cy5lbWl0KCd0cmFuc2l0aW9uU3RhcnQnLCBpbmZvKCkpO1xuICAgICAgaWYgKGF1dG9IZWlnaHQpIHsgZG9BdXRvSGVpZ2h0KCk7IH1cblxuICAgICAgLy8gcGF1c2UgYXV0b3BsYXkgd2hlbiBjbGljayBvciBrZXlkb3duIGZyb20gdXNlclxuICAgICAgaWYgKGFuaW1hdGluZyAmJiBlICYmIFsnY2xpY2snLCAna2V5ZG93biddLmluZGV4T2YoZS50eXBlKSA+PSAwKSB7IHN0b3BBdXRvcGxheSgpOyB9XG5cbiAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgdHJhbnNmb3JtQ29yZSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qXG4gICAqIFRyYW5zZmVyIHByZWZpeGVkIHByb3BlcnRpZXMgdG8gdGhlIHNhbWUgZm9ybWF0XG4gICAqIENTUzogLVdlYmtpdC1UcmFuc2Zvcm0gPT4gd2Via2l0dHJhbnNmb3JtXG4gICAqIEpTOiBXZWJraXRUcmFuc2Zvcm0gPT4gd2Via2l0dHJhbnNmb3JtXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgLSBwcm9wZXJ0eVxuICAgKlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyVHJhbnMgKHN0cikge1xuICAgIHJldHVybiBzdHIudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC8tL2csICcnKTtcbiAgfVxuXG4gIC8vIEFGVEVSIFRSQU5TRk9STVxuICAvLyBUaGluZ3MgbmVlZCB0byBiZSBkb25lIGFmdGVyIGEgdHJhbnNmZXI6XG4gIC8vIDEuIGNoZWNrIGluZGV4XG4gIC8vIDIuIGFkZCBjbGFzc2VzIHRvIHZpc2libGUgc2xpZGVcbiAgLy8gMy4gZGlzYWJsZSBjb250cm9scyBidXR0b25zIHdoZW4gcmVhY2ggdGhlIGZpcnN0L2xhc3Qgc2xpZGUgaW4gbm9uLWxvb3Agc2xpZGVyXG4gIC8vIDQuIHVwZGF0ZSBuYXYgc3RhdHVzXG4gIC8vIDUuIGxhenlsb2FkIGltYWdlc1xuICAvLyA2LiB1cGRhdGUgY29udGFpbmVyIGhlaWdodFxuICBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQgKGV2ZW50KSB7XG4gICAgLy8gY2hlY2sgcnVubmluZyBvbiBnYWxsZXJ5IG1vZGVcbiAgICAvLyBtYWtlIHN1cmUgdHJhbnRpb25lbmQvYW5pbWF0aW9uZW5kIGV2ZW50cyBydW4gb25seSBvbmNlXG4gICAgaWYgKGNhcm91c2VsIHx8IHJ1bm5pbmcpIHtcbiAgICAgIGV2ZW50cy5lbWl0KCd0cmFuc2l0aW9uRW5kJywgaW5mbyhldmVudCkpO1xuXG4gICAgICBpZiAoIWNhcm91c2VsICYmIHNsaWRlSXRlbXNPdXQubGVuZ3RoID4gMCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNsaWRlSXRlbXNPdXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgaXRlbSA9IHNsaWRlSXRlbXNPdXRbaV07XG4gICAgICAgICAgLy8gc2V0IGl0ZW0gcG9zaXRpb25zXG4gICAgICAgICAgaXRlbS5zdHlsZS5sZWZ0ID0gJyc7XG5cbiAgICAgICAgICBpZiAoQU5JTUFUSU9OREVMQVkgJiYgVFJBTlNJVElPTkRFTEFZKSB7IFxuICAgICAgICAgICAgaXRlbS5zdHlsZVtBTklNQVRJT05ERUxBWV0gPSAnJztcbiAgICAgICAgICAgIGl0ZW0uc3R5bGVbVFJBTlNJVElPTkRFTEFZXSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZW1vdmVDbGFzcyhpdGVtLCBhbmltYXRlT3V0KTtcbiAgICAgICAgICBhZGRDbGFzcyhpdGVtLCBhbmltYXRlTm9ybWFsKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiB1cGRhdGUgc2xpZGVzLCBuYXYsIGNvbnRyb2xzIGFmdGVyIGNoZWNraW5nIC4uLlxuICAgICAgICogPT4gbGVnYWN5IGJyb3dzZXJzIHdobyBkb24ndCBzdXBwb3J0ICdldmVudCcgXG4gICAgICAgKiAgICBoYXZlIHRvIGNoZWNrIGV2ZW50IGZpcnN0LCBvdGhlcndpc2UgZXZlbnQudGFyZ2V0IHdpbGwgY2F1c2UgYW4gZXJyb3IgXG4gICAgICAgKiA9PiBvciAnZ2FsbGVyeScgbW9kZTogXG4gICAgICAgKiAgICsgZXZlbnQgdGFyZ2V0IGlzIHNsaWRlIGl0ZW1cbiAgICAgICAqID0+IG9yICdjYXJvdXNlbCcgbW9kZTogXG4gICAgICAgKiAgICsgZXZlbnQgdGFyZ2V0IGlzIGNvbnRhaW5lciwgXG4gICAgICAgKiAgICsgZXZlbnQucHJvcGVydHkgaXMgdGhlIHNhbWUgd2l0aCB0cmFuc2Zvcm0gYXR0cmlidXRlXG4gICAgICAgKi9cbiAgICAgIGlmICghZXZlbnQgfHwgXG4gICAgICAgICAgIWNhcm91c2VsICYmIGV2ZW50LnRhcmdldC5wYXJlbnROb2RlID09PSBjb250YWluZXIgfHwgXG4gICAgICAgICAgZXZlbnQudGFyZ2V0ID09PSBjb250YWluZXIgJiYgc3RyVHJhbnMoZXZlbnQucHJvcGVydHlOYW1lKSA9PT0gc3RyVHJhbnModHJhbnNmb3JtQXR0cikpIHtcblxuICAgICAgICBpZiAoIXVwZGF0ZUluZGV4QmVmb3JlVHJhbnNmb3JtKSB7IFxuICAgICAgICAgIHZhciBpbmRleFRlbSA9IGluZGV4O1xuICAgICAgICAgIHVwZGF0ZUluZGV4KCk7XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSBpbmRleFRlbSkgeyBcbiAgICAgICAgICAgIGV2ZW50cy5lbWl0KCdpbmRleENoYW5nZWQnLCBpbmZvKCkpO1xuXG4gICAgICAgICAgICBkb0NvbnRhaW5lclRyYW5zZm9ybVNpbGVudCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBcblxuICAgICAgICBpZiAobmVzdGVkID09PSAnaW5uZXInKSB7IGV2ZW50cy5lbWl0KCdpbm5lckxvYWRlZCcsIGluZm8oKSk7IH1cbiAgICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgICBpbmRleENhY2hlZCA9IGluZGV4O1xuICAgICAgfVxuICAgIH1cblxuICB9XG5cbiAgLy8gIyBBQ1RJT05TXG4gIGZ1bmN0aW9uIGdvVG8gKHRhcmdldEluZGV4LCBlKSB7XG4gICAgaWYgKGZyZWV6ZSkgeyByZXR1cm47IH1cblxuICAgIC8vIHByZXYgc2xpZGVCeVxuICAgIGlmICh0YXJnZXRJbmRleCA9PT0gJ3ByZXYnKSB7XG4gICAgICBvbkNvbnRyb2xzQ2xpY2soZSwgLTEpO1xuXG4gICAgLy8gbmV4dCBzbGlkZUJ5XG4gICAgfSBlbHNlIGlmICh0YXJnZXRJbmRleCA9PT0gJ25leHQnKSB7XG4gICAgICBvbkNvbnRyb2xzQ2xpY2soZSwgMSk7XG5cbiAgICAvLyBnbyB0byBleGFjdCBzbGlkZVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAocnVubmluZykge1xuICAgICAgICBpZiAocHJldmVudEFjdGlvbldoZW5SdW5uaW5nKSB7IHJldHVybjsgfSBlbHNlIHsgb25UcmFuc2l0aW9uRW5kKCk7IH1cbiAgICAgIH1cblxuICAgICAgdmFyIGFic0luZGV4ID0gZ2V0QWJzSW5kZXgoKSwgXG4gICAgICAgICAgaW5kZXhHYXAgPSAwO1xuXG4gICAgICBpZiAodGFyZ2V0SW5kZXggPT09ICdmaXJzdCcpIHtcbiAgICAgICAgaW5kZXhHYXAgPSAtIGFic0luZGV4O1xuICAgICAgfSBlbHNlIGlmICh0YXJnZXRJbmRleCA9PT0gJ2xhc3QnKSB7XG4gICAgICAgIGluZGV4R2FwID0gY2Fyb3VzZWwgPyBzbGlkZUNvdW50IC0gaXRlbXMgLSBhYnNJbmRleCA6IHNsaWRlQ291bnQgLSAxIC0gYWJzSW5kZXg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHRhcmdldEluZGV4ICE9PSAnbnVtYmVyJykgeyB0YXJnZXRJbmRleCA9IHBhcnNlSW50KHRhcmdldEluZGV4KTsgfVxuXG4gICAgICAgIGlmICghaXNOYU4odGFyZ2V0SW5kZXgpKSB7XG4gICAgICAgICAgLy8gZnJvbSBkaXJlY3RseSBjYWxsZWQgZ29UbyBmdW5jdGlvblxuICAgICAgICAgIGlmICghZSkgeyB0YXJnZXRJbmRleCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHNsaWRlQ291bnQgLSAxLCB0YXJnZXRJbmRleCkpOyB9XG5cbiAgICAgICAgICBpbmRleEdhcCA9IHRhcmdldEluZGV4IC0gYWJzSW5kZXg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gZ2FsbGVyeTogbWFrZSBzdXJlIG5ldyBwYWdlIHdvbid0IG92ZXJsYXAgd2l0aCBjdXJyZW50IHBhZ2VcbiAgICAgIGlmICghY2Fyb3VzZWwgJiYgaW5kZXhHYXAgJiYgTWF0aC5hYnMoaW5kZXhHYXApIDwgaXRlbXMpIHtcbiAgICAgICAgdmFyIGZhY3RvciA9IGluZGV4R2FwID4gMCA/IDEgOiAtMTtcbiAgICAgICAgaW5kZXhHYXAgKz0gKGluZGV4ICsgaW5kZXhHYXAgLSBzbGlkZUNvdW50KSA+PSBpbmRleE1pbiA/IHNsaWRlQ291bnQgKiBmYWN0b3IgOiBzbGlkZUNvdW50ICogMiAqIGZhY3RvciAqIC0xO1xuICAgICAgfVxuXG4gICAgICBpbmRleCArPSBpbmRleEdhcDtcblxuICAgICAgLy8gbWFrZSBzdXJlIGluZGV4IGlzIGluIHJhbmdlXG4gICAgICBpZiAoY2Fyb3VzZWwgJiYgbG9vcCkge1xuICAgICAgICBpZiAoaW5kZXggPCBpbmRleE1pbikgeyBpbmRleCArPSBzbGlkZUNvdW50OyB9XG4gICAgICAgIGlmIChpbmRleCA+IGluZGV4TWF4KSB7IGluZGV4IC09IHNsaWRlQ291bnQ7IH1cbiAgICAgIH1cblxuICAgICAgLy8gaWYgaW5kZXggaXMgY2hhbmdlZCwgc3RhcnQgcmVuZGVyaW5nXG4gICAgICBpZiAoZ2V0QWJzSW5kZXgoaW5kZXgpICE9PSBnZXRBYnNJbmRleChpbmRleENhY2hlZCkpIHtcbiAgICAgICAgcmVuZGVyKGUpO1xuICAgICAgfVxuXG4gICAgfVxuICB9XG5cbiAgLy8gb24gY29udHJvbHMgY2xpY2tcbiAgZnVuY3Rpb24gb25Db250cm9sc0NsaWNrIChlLCBkaXIpIHtcbiAgICBpZiAocnVubmluZykge1xuICAgICAgaWYgKHByZXZlbnRBY3Rpb25XaGVuUnVubmluZykgeyByZXR1cm47IH0gZWxzZSB7IG9uVHJhbnNpdGlvbkVuZCgpOyB9XG4gICAgfVxuICAgIHZhciBwYXNzRXZlbnRPYmplY3Q7XG5cbiAgICBpZiAoIWRpcikge1xuICAgICAgZSA9IGdldEV2ZW50KGUpO1xuICAgICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChlKTtcblxuICAgICAgd2hpbGUgKHRhcmdldCAhPT0gY29udHJvbHNDb250YWluZXIgJiYgW3ByZXZCdXR0b24sIG5leHRCdXR0b25dLmluZGV4T2YodGFyZ2V0KSA8IDApIHsgdGFyZ2V0ID0gdGFyZ2V0LnBhcmVudE5vZGU7IH1cblxuICAgICAgdmFyIHRhcmdldEluID0gW3ByZXZCdXR0b24sIG5leHRCdXR0b25dLmluZGV4T2YodGFyZ2V0KTtcbiAgICAgIGlmICh0YXJnZXRJbiA+PSAwKSB7XG4gICAgICAgIHBhc3NFdmVudE9iamVjdCA9IHRydWU7XG4gICAgICAgIGRpciA9IHRhcmdldEluID09PSAwID8gLTEgOiAxO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZXdpbmQpIHtcbiAgICAgIGlmIChpbmRleCA9PT0gaW5kZXhNaW4gJiYgZGlyID09PSAtMSkge1xuICAgICAgICBnb1RvKCdsYXN0JywgZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSBpZiAoaW5kZXggPT09IGluZGV4TWF4ICYmIGRpciA9PT0gMSkge1xuICAgICAgICBnb1RvKCdmaXJzdCcsIGUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGRpcikge1xuICAgICAgaW5kZXggKz0gc2xpZGVCeSAqIGRpcjtcbiAgICAgIGlmIChhdXRvV2lkdGgpIHsgaW5kZXggPSBNYXRoLmZsb29yKGluZGV4KTsgfVxuICAgICAgLy8gcGFzcyBlIHdoZW4gY2xpY2sgY29udHJvbCBidXR0b25zIG9yIGtleWRvd25cbiAgICAgIHJlbmRlcigocGFzc0V2ZW50T2JqZWN0IHx8IChlICYmIGUudHlwZSA9PT0gJ2tleWRvd24nKSkgPyBlIDogbnVsbCk7XG4gICAgfVxuICB9XG5cbiAgLy8gb24gbmF2IGNsaWNrXG4gIGZ1bmN0aW9uIG9uTmF2Q2xpY2sgKGUpIHtcbiAgICBpZiAocnVubmluZykge1xuICAgICAgaWYgKHByZXZlbnRBY3Rpb25XaGVuUnVubmluZykgeyByZXR1cm47IH0gZWxzZSB7IG9uVHJhbnNpdGlvbkVuZCgpOyB9XG4gICAgfVxuICAgIFxuICAgIGUgPSBnZXRFdmVudChlKTtcbiAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGUpLCBuYXZJbmRleDtcblxuICAgIC8vIGZpbmQgdGhlIGNsaWNrZWQgbmF2IGl0ZW1cbiAgICB3aGlsZSAodGFyZ2V0ICE9PSBuYXZDb250YWluZXIgJiYgIWhhc0F0dHIodGFyZ2V0LCAnZGF0YS1uYXYnKSkgeyB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTsgfVxuICAgIGlmIChoYXNBdHRyKHRhcmdldCwgJ2RhdGEtbmF2JykpIHtcbiAgICAgIHZhciBuYXZJbmRleCA9IG5hdkNsaWNrZWQgPSBOdW1iZXIoZ2V0QXR0cih0YXJnZXQsICdkYXRhLW5hdicpKSxcbiAgICAgICAgICB0YXJnZXRJbmRleEJhc2UgPSBmaXhlZFdpZHRoIHx8IGF1dG9XaWR0aCA/IG5hdkluZGV4ICogc2xpZGVDb3VudCAvIHBhZ2VzIDogbmF2SW5kZXggKiBpdGVtcyxcbiAgICAgICAgICB0YXJnZXRJbmRleCA9IG5hdkFzVGh1bWJuYWlscyA/IG5hdkluZGV4IDogTWF0aC5taW4oTWF0aC5jZWlsKHRhcmdldEluZGV4QmFzZSksIHNsaWRlQ291bnQgLSAxKTtcbiAgICAgIGdvVG8odGFyZ2V0SW5kZXgsIGUpO1xuXG4gICAgICBpZiAobmF2Q3VycmVudEluZGV4ID09PSBuYXZJbmRleCkge1xuICAgICAgICBpZiAoYW5pbWF0aW5nKSB7IHN0b3BBdXRvcGxheSgpOyB9XG4gICAgICAgIG5hdkNsaWNrZWQgPSAtMTsgLy8gcmVzZXQgbmF2Q2xpY2tlZFxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIGF1dG9wbGF5IGZ1bmN0aW9uc1xuICBmdW5jdGlvbiBzZXRBdXRvcGxheVRpbWVyICgpIHtcbiAgICBhdXRvcGxheVRpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgb25Db250cm9sc0NsaWNrKG51bGwsIGF1dG9wbGF5RGlyZWN0aW9uKTtcbiAgICB9LCBhdXRvcGxheVRpbWVvdXQpO1xuXG4gICAgYW5pbWF0aW5nID0gdHJ1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0b3BBdXRvcGxheVRpbWVyICgpIHtcbiAgICBjbGVhckludGVydmFsKGF1dG9wbGF5VGltZXIpO1xuICAgIGFuaW1hdGluZyA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlQXV0b3BsYXlCdXR0b24gKGFjdGlvbiwgdHh0KSB7XG4gICAgc2V0QXR0cnMoYXV0b3BsYXlCdXR0b24sIHsnZGF0YS1hY3Rpb24nOiBhY3Rpb259KTtcbiAgICBhdXRvcGxheUJ1dHRvbi5pbm5lckhUTUwgPSBhdXRvcGxheUh0bWxTdHJpbmdzWzBdICsgYWN0aW9uICsgYXV0b3BsYXlIdG1sU3RyaW5nc1sxXSArIHR4dDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0QXV0b3BsYXkgKCkge1xuICAgIHNldEF1dG9wbGF5VGltZXIoKTtcbiAgICBpZiAoYXV0b3BsYXlCdXR0b24pIHsgdXBkYXRlQXV0b3BsYXlCdXR0b24oJ3N0b3AnLCBhdXRvcGxheVRleHRbMV0pOyB9XG4gIH1cblxuICBmdW5jdGlvbiBzdG9wQXV0b3BsYXkgKCkge1xuICAgIHN0b3BBdXRvcGxheVRpbWVyKCk7XG4gICAgaWYgKGF1dG9wbGF5QnV0dG9uKSB7IHVwZGF0ZUF1dG9wbGF5QnV0dG9uKCdzdGFydCcsIGF1dG9wbGF5VGV4dFswXSk7IH1cbiAgfVxuXG4gIC8vIHByb2dyYW1haXRjYWxseSBwbGF5L3BhdXNlIHRoZSBzbGlkZXJcbiAgZnVuY3Rpb24gcGxheSAoKSB7XG4gICAgaWYgKGF1dG9wbGF5ICYmICFhbmltYXRpbmcpIHtcbiAgICAgIHN0YXJ0QXV0b3BsYXkoKTtcbiAgICAgIGF1dG9wbGF5VXNlclBhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwYXVzZSAoKSB7XG4gICAgaWYgKGFuaW1hdGluZykge1xuICAgICAgc3RvcEF1dG9wbGF5KCk7XG4gICAgICBhdXRvcGxheVVzZXJQYXVzZWQgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRvZ2dsZUF1dG9wbGF5ICgpIHtcbiAgICBpZiAoYW5pbWF0aW5nKSB7XG4gICAgICBzdG9wQXV0b3BsYXkoKTtcbiAgICAgIGF1dG9wbGF5VXNlclBhdXNlZCA9IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0QXV0b3BsYXkoKTtcbiAgICAgIGF1dG9wbGF5VXNlclBhdXNlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVmlzaWJpbGl0eUNoYW5nZSAoKSB7XG4gICAgaWYgKGRvYy5oaWRkZW4pIHtcbiAgICAgIGlmIChhbmltYXRpbmcpIHtcbiAgICAgICAgc3RvcEF1dG9wbGF5VGltZXIoKTtcbiAgICAgICAgYXV0b3BsYXlWaXNpYmlsaXR5UGF1c2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGF1dG9wbGF5VmlzaWJpbGl0eVBhdXNlZCkge1xuICAgICAgc2V0QXV0b3BsYXlUaW1lcigpO1xuICAgICAgYXV0b3BsYXlWaXNpYmlsaXR5UGF1c2VkID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbW91c2VvdmVyUGF1c2UgKCkge1xuICAgIGlmIChhbmltYXRpbmcpIHsgXG4gICAgICBzdG9wQXV0b3BsYXlUaW1lcigpO1xuICAgICAgYXV0b3BsYXlIb3ZlclBhdXNlZCA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbW91c2VvdXRSZXN0YXJ0ICgpIHtcbiAgICBpZiAoYXV0b3BsYXlIb3ZlclBhdXNlZCkgeyBcbiAgICAgIHNldEF1dG9wbGF5VGltZXIoKTtcbiAgICAgIGF1dG9wbGF5SG92ZXJQYXVzZWQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvLyBrZXlkb3duIGV2ZW50cyBvbiBkb2N1bWVudCBcbiAgZnVuY3Rpb24gb25Eb2N1bWVudEtleWRvd24gKGUpIHtcbiAgICBlID0gZ2V0RXZlbnQoZSk7XG4gICAgdmFyIGtleUluZGV4ID0gW0tFWVMuTEVGVCwgS0VZUy5SSUdIVF0uaW5kZXhPZihlLmtleUNvZGUpO1xuXG4gICAgaWYgKGtleUluZGV4ID49IDApIHtcbiAgICAgIG9uQ29udHJvbHNDbGljayhlLCBrZXlJbmRleCA9PT0gMCA/IC0xIDogMSk7XG4gICAgfVxuICB9XG5cbiAgLy8gb24ga2V5IGNvbnRyb2xcbiAgZnVuY3Rpb24gb25Db250cm9sc0tleWRvd24gKGUpIHtcbiAgICBlID0gZ2V0RXZlbnQoZSk7XG4gICAgdmFyIGtleUluZGV4ID0gW0tFWVMuTEVGVCwgS0VZUy5SSUdIVF0uaW5kZXhPZihlLmtleUNvZGUpO1xuXG4gICAgaWYgKGtleUluZGV4ID49IDApIHtcbiAgICAgIGlmIChrZXlJbmRleCA9PT0gMCkge1xuICAgICAgICBpZiAoIXByZXZCdXR0b24uZGlzYWJsZWQpIHsgb25Db250cm9sc0NsaWNrKGUsIC0xKTsgfVxuICAgICAgfSBlbHNlIGlmICghbmV4dEJ1dHRvbi5kaXNhYmxlZCkge1xuICAgICAgICBvbkNvbnRyb2xzQ2xpY2soZSwgMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gc2V0IGZvY3VzXG4gIGZ1bmN0aW9uIHNldEZvY3VzIChlbCkge1xuICAgIGVsLmZvY3VzKCk7XG4gIH1cblxuICAvLyBvbiBrZXkgbmF2XG4gIGZ1bmN0aW9uIG9uTmF2S2V5ZG93biAoZSkge1xuICAgIGUgPSBnZXRFdmVudChlKTtcbiAgICB2YXIgY3VyRWxlbWVudCA9IGRvYy5hY3RpdmVFbGVtZW50O1xuICAgIGlmICghaGFzQXR0cihjdXJFbGVtZW50LCAnZGF0YS1uYXYnKSkgeyByZXR1cm47IH1cblxuICAgIC8vIHZhciBjb2RlID0gZS5rZXlDb2RlLFxuICAgIHZhciBrZXlJbmRleCA9IFtLRVlTLkxFRlQsIEtFWVMuUklHSFQsIEtFWVMuRU5URVIsIEtFWVMuU1BBQ0VdLmluZGV4T2YoZS5rZXlDb2RlKSxcbiAgICAgICAgbmF2SW5kZXggPSBOdW1iZXIoZ2V0QXR0cihjdXJFbGVtZW50LCAnZGF0YS1uYXYnKSk7XG5cbiAgICBpZiAoa2V5SW5kZXggPj0gMCkge1xuICAgICAgaWYgKGtleUluZGV4ID09PSAwKSB7XG4gICAgICAgIGlmIChuYXZJbmRleCA+IDApIHsgc2V0Rm9jdXMobmF2SXRlbXNbbmF2SW5kZXggLSAxXSk7IH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5SW5kZXggPT09IDEpIHtcbiAgICAgICAgaWYgKG5hdkluZGV4IDwgcGFnZXMgLSAxKSB7IHNldEZvY3VzKG5hdkl0ZW1zW25hdkluZGV4ICsgMV0pOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuYXZDbGlja2VkID0gbmF2SW5kZXg7XG4gICAgICAgIGdvVG8obmF2SW5kZXgsIGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEV2ZW50IChlKSB7XG4gICAgZSA9IGUgfHwgd2luLmV2ZW50O1xuICAgIHJldHVybiBpc1RvdWNoRXZlbnQoZSkgPyBlLmNoYW5nZWRUb3VjaGVzWzBdIDogZTtcbiAgfVxuICBmdW5jdGlvbiBnZXRUYXJnZXQgKGUpIHtcbiAgICByZXR1cm4gZS50YXJnZXQgfHwgd2luLmV2ZW50LnNyY0VsZW1lbnQ7XG4gIH1cblxuICBmdW5jdGlvbiBpc1RvdWNoRXZlbnQgKGUpIHtcbiAgICByZXR1cm4gZS50eXBlLmluZGV4T2YoJ3RvdWNoJykgPj0gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0QmVoYXZpb3IgKGUpIHtcbiAgICBlLnByZXZlbnREZWZhdWx0ID8gZS5wcmV2ZW50RGVmYXVsdCgpIDogZS5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TW92ZURpcmVjdGlvbkV4cGVjdGVkICgpIHtcbiAgICByZXR1cm4gZ2V0VG91Y2hEaXJlY3Rpb24odG9EZWdyZWUobGFzdFBvc2l0aW9uLnkgLSBpbml0UG9zaXRpb24ueSwgbGFzdFBvc2l0aW9uLnggLSBpbml0UG9zaXRpb24ueCksIHN3aXBlQW5nbGUpID09PSBvcHRpb25zLmF4aXM7XG4gIH1cblxuICBmdW5jdGlvbiBvblBhblN0YXJ0IChlKSB7XG4gICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgIGlmIChwcmV2ZW50QWN0aW9uV2hlblJ1bm5pbmcpIHsgcmV0dXJuOyB9IGVsc2UgeyBvblRyYW5zaXRpb25FbmQoKTsgfVxuICAgIH1cblxuICAgIGlmIChhdXRvcGxheSAmJiBhbmltYXRpbmcpIHsgc3RvcEF1dG9wbGF5VGltZXIoKTsgfVxuICAgIFxuICAgIHBhblN0YXJ0ID0gdHJ1ZTtcbiAgICBpZiAocmFmSW5kZXgpIHtcbiAgICAgIGNhZihyYWZJbmRleCk7XG4gICAgICByYWZJbmRleCA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyICQgPSBnZXRFdmVudChlKTtcbiAgICBldmVudHMuZW1pdChpc1RvdWNoRXZlbnQoZSkgPyAndG91Y2hTdGFydCcgOiAnZHJhZ1N0YXJ0JywgaW5mbyhlKSk7XG5cbiAgICBpZiAoIWlzVG91Y2hFdmVudChlKSAmJiBbJ2ltZycsICdhJ10uaW5kZXhPZihnZXRMb3dlckNhc2VOb2RlTmFtZShnZXRUYXJnZXQoZSkpKSA+PSAwKSB7XG4gICAgICBwcmV2ZW50RGVmYXVsdEJlaGF2aW9yKGUpO1xuICAgIH1cblxuICAgIGxhc3RQb3NpdGlvbi54ID0gaW5pdFBvc2l0aW9uLnggPSAkLmNsaWVudFg7XG4gICAgbGFzdFBvc2l0aW9uLnkgPSBpbml0UG9zaXRpb24ueSA9ICQuY2xpZW50WTtcbiAgICBpZiAoY2Fyb3VzZWwpIHtcbiAgICAgIHRyYW5zbGF0ZUluaXQgPSBwYXJzZUZsb2F0KGNvbnRhaW5lci5zdHlsZVt0cmFuc2Zvcm1BdHRyXS5yZXBsYWNlKHRyYW5zZm9ybVByZWZpeCwgJycpKTtcbiAgICAgIHJlc2V0RHVyYXRpb24oY29udGFpbmVyLCAnMHMnKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblBhbk1vdmUgKGUpIHtcbiAgICBpZiAocGFuU3RhcnQpIHtcbiAgICAgIHZhciAkID0gZ2V0RXZlbnQoZSk7XG4gICAgICBsYXN0UG9zaXRpb24ueCA9ICQuY2xpZW50WDtcbiAgICAgIGxhc3RQb3NpdGlvbi55ID0gJC5jbGllbnRZO1xuXG4gICAgICBpZiAoY2Fyb3VzZWwpIHtcbiAgICAgICAgaWYgKCFyYWZJbmRleCkgeyByYWZJbmRleCA9IHJhZihmdW5jdGlvbigpeyBwYW5VcGRhdGUoZSk7IH0pOyB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAobW92ZURpcmVjdGlvbkV4cGVjdGVkID09PSAnPycpIHsgbW92ZURpcmVjdGlvbkV4cGVjdGVkID0gZ2V0TW92ZURpcmVjdGlvbkV4cGVjdGVkKCk7IH1cbiAgICAgICAgaWYgKG1vdmVEaXJlY3Rpb25FeHBlY3RlZCkgeyBwcmV2ZW50U2Nyb2xsID0gdHJ1ZTsgfVxuICAgICAgfVxuXG4gICAgICBpZiAocHJldmVudFNjcm9sbCkgeyBlLnByZXZlbnREZWZhdWx0KCk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYW5VcGRhdGUgKGUpIHtcbiAgICBpZiAoIW1vdmVEaXJlY3Rpb25FeHBlY3RlZCkge1xuICAgICAgcGFuU3RhcnQgPSBmYWxzZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2FmKHJhZkluZGV4KTtcbiAgICBpZiAocGFuU3RhcnQpIHsgcmFmSW5kZXggPSByYWYoZnVuY3Rpb24oKXsgcGFuVXBkYXRlKGUpOyB9KTsgfVxuXG4gICAgaWYgKG1vdmVEaXJlY3Rpb25FeHBlY3RlZCA9PT0gJz8nKSB7IG1vdmVEaXJlY3Rpb25FeHBlY3RlZCA9IGdldE1vdmVEaXJlY3Rpb25FeHBlY3RlZCgpOyB9XG4gICAgaWYgKG1vdmVEaXJlY3Rpb25FeHBlY3RlZCkge1xuICAgICAgaWYgKCFwcmV2ZW50U2Nyb2xsICYmIGlzVG91Y2hFdmVudChlKSkgeyBwcmV2ZW50U2Nyb2xsID0gdHJ1ZTsgfVxuXG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZS50eXBlKSB7IGV2ZW50cy5lbWl0KGlzVG91Y2hFdmVudChlKSA/ICd0b3VjaE1vdmUnIDogJ2RyYWdNb3ZlJywgaW5mbyhlKSk7IH1cbiAgICAgIH0gY2F0Y2goZXJyKSB7fVxuXG4gICAgICB2YXIgeCA9IHRyYW5zbGF0ZUluaXQsXG4gICAgICAgICAgZGlzdCA9IGdldERpc3QobGFzdFBvc2l0aW9uLCBpbml0UG9zaXRpb24pO1xuICAgICAgaWYgKCFob3Jpem9udGFsIHx8IGZpeGVkV2lkdGggfHwgYXV0b1dpZHRoKSB7XG4gICAgICAgIHggKz0gZGlzdDtcbiAgICAgICAgeCArPSAncHgnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHBlcmNlbnRhZ2VYID0gVFJBTlNGT1JNID8gZGlzdCAqIGl0ZW1zICogMTAwIC8gKCh2aWV3cG9ydCArIGd1dHRlcikgKiBzbGlkZUNvdW50TmV3KTogZGlzdCAqIDEwMCAvICh2aWV3cG9ydCArIGd1dHRlcik7XG4gICAgICAgIHggKz0gcGVyY2VudGFnZVg7XG4gICAgICAgIHggKz0gJyUnO1xuICAgICAgfVxuXG4gICAgICBjb250YWluZXIuc3R5bGVbdHJhbnNmb3JtQXR0cl0gPSB0cmFuc2Zvcm1QcmVmaXggKyB4ICsgdHJhbnNmb3JtUG9zdGZpeDtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvblBhbkVuZCAoZSkge1xuICAgIGlmIChwYW5TdGFydCkge1xuICAgICAgaWYgKHJhZkluZGV4KSB7XG4gICAgICAgIGNhZihyYWZJbmRleCk7XG4gICAgICAgIHJhZkluZGV4ID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmIChjYXJvdXNlbCkgeyByZXNldER1cmF0aW9uKGNvbnRhaW5lciwgJycpOyB9XG4gICAgICBwYW5TdGFydCA9IGZhbHNlO1xuXG4gICAgICB2YXIgJCA9IGdldEV2ZW50KGUpO1xuICAgICAgbGFzdFBvc2l0aW9uLnggPSAkLmNsaWVudFg7XG4gICAgICBsYXN0UG9zaXRpb24ueSA9ICQuY2xpZW50WTtcbiAgICAgIHZhciBkaXN0ID0gZ2V0RGlzdChsYXN0UG9zaXRpb24sIGluaXRQb3NpdGlvbik7XG5cbiAgICAgIGlmIChNYXRoLmFicyhkaXN0KSkge1xuICAgICAgICAvLyBkcmFnIHZzIGNsaWNrXG4gICAgICAgIGlmICghaXNUb3VjaEV2ZW50KGUpKSB7XG4gICAgICAgICAgLy8gcHJldmVudCBcImNsaWNrXCJcbiAgICAgICAgICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGUpO1xuICAgICAgICAgIGFkZEV2ZW50cyh0YXJnZXQsIHsnY2xpY2snOiBmdW5jdGlvbiBwcmV2ZW50Q2xpY2sgKGUpIHtcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0QmVoYXZpb3IoZSk7XG4gICAgICAgICAgICByZW1vdmVFdmVudHModGFyZ2V0LCB7J2NsaWNrJzogcHJldmVudENsaWNrfSk7XG4gICAgICAgICAgfX0pOyBcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjYXJvdXNlbCkge1xuICAgICAgICAgIHJhZkluZGV4ID0gcmFmKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKGhvcml6b250YWwgJiYgIWF1dG9XaWR0aCkge1xuICAgICAgICAgICAgICB2YXIgaW5kZXhNb3ZlZCA9IC0gZGlzdCAqIGl0ZW1zIC8gKHZpZXdwb3J0ICsgZ3V0dGVyKTtcbiAgICAgICAgICAgICAgaW5kZXhNb3ZlZCA9IGRpc3QgPiAwID8gTWF0aC5mbG9vcihpbmRleE1vdmVkKSA6IE1hdGguY2VpbChpbmRleE1vdmVkKTtcbiAgICAgICAgICAgICAgaW5kZXggKz0gaW5kZXhNb3ZlZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBtb3ZlZCA9IC0gKHRyYW5zbGF0ZUluaXQgKyBkaXN0KTtcbiAgICAgICAgICAgICAgaWYgKG1vdmVkIDw9IDApIHtcbiAgICAgICAgICAgICAgICBpbmRleCA9IGluZGV4TWluO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1vdmVkID49IHNsaWRlUG9zaXRpb25zW3NsaWRlQ291bnROZXcgLSAxXSkge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gaW5kZXhNYXg7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpIDwgc2xpZGVDb3VudE5ldyAmJiBtb3ZlZCA+PSBzbGlkZVBvc2l0aW9uc1tpXSkge1xuICAgICAgICAgICAgICAgICAgaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgICAgaWYgKG1vdmVkID4gc2xpZGVQb3NpdGlvbnNbaV0gJiYgZGlzdCA8IDApIHsgaW5kZXggKz0gMTsgfVxuICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZW5kZXIoZSwgZGlzdCk7XG4gICAgICAgICAgICBldmVudHMuZW1pdChpc1RvdWNoRXZlbnQoZSkgPyAndG91Y2hFbmQnIDogJ2RyYWdFbmQnLCBpbmZvKGUpKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAobW92ZURpcmVjdGlvbkV4cGVjdGVkKSB7XG4gICAgICAgICAgICBvbkNvbnRyb2xzQ2xpY2soZSwgZGlzdCA+IDAgPyAtMSA6IDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIHJlc2V0XG4gICAgaWYgKG9wdGlvbnMucHJldmVudFNjcm9sbE9uVG91Y2ggPT09ICdhdXRvJykgeyBwcmV2ZW50U2Nyb2xsID0gZmFsc2U7IH1cbiAgICBpZiAoc3dpcGVBbmdsZSkgeyBtb3ZlRGlyZWN0aW9uRXhwZWN0ZWQgPSAnPyc7IH0gXG4gICAgaWYgKGF1dG9wbGF5ICYmICFhbmltYXRpbmcpIHsgc2V0QXV0b3BsYXlUaW1lcigpOyB9XG4gIH1cblxuICAvLyA9PT0gUkVTSVpFIEZVTkNUSU9OUyA9PT0gLy9cbiAgLy8gKHNsaWRlUG9zaXRpb25zLCBpbmRleCwgaXRlbXMpID0+IHZlcnRpY2FsX2NvbmVudFdyYXBwZXIuaGVpZ2h0XG4gIGZ1bmN0aW9uIHVwZGF0ZUNvbnRlbnRXcmFwcGVySGVpZ2h0ICgpIHtcbiAgICB2YXIgd3AgPSBtaWRkbGVXcmFwcGVyID8gbWlkZGxlV3JhcHBlciA6IGlubmVyV3JhcHBlcjtcbiAgICB3cC5zdHlsZS5oZWlnaHQgPSBzbGlkZVBvc2l0aW9uc1tpbmRleCArIGl0ZW1zXSAtIHNsaWRlUG9zaXRpb25zW2luZGV4XSArICdweCc7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRQYWdlcyAoKSB7XG4gICAgdmFyIHJvdWdoID0gZml4ZWRXaWR0aCA/IChmaXhlZFdpZHRoICsgZ3V0dGVyKSAqIHNsaWRlQ291bnQgLyB2aWV3cG9ydCA6IHNsaWRlQ291bnQgLyBpdGVtcztcbiAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5jZWlsKHJvdWdoKSwgc2xpZGVDb3VudCk7XG4gIH1cblxuICAvKlxuICAgKiAxLiB1cGRhdGUgdmlzaWJsZSBuYXYgaXRlbXMgbGlzdFxuICAgKiAyLiBhZGQgXCJoaWRkZW5cIiBhdHRyaWJ1dGVzIHRvIHByZXZpb3VzIHZpc2libGUgbmF2IGl0ZW1zXG4gICAqIDMuIHJlbW92ZSBcImhpZGRlblwiIGF0dHJ1YnV0ZXMgdG8gbmV3IHZpc2libGUgbmF2IGl0ZW1zXG4gICAqL1xuICBmdW5jdGlvbiB1cGRhdGVOYXZWaXNpYmlsaXR5ICgpIHtcbiAgICBpZiAoIW5hdiB8fCBuYXZBc1RodW1ibmFpbHMpIHsgcmV0dXJuOyB9XG5cbiAgICBpZiAocGFnZXMgIT09IHBhZ2VzQ2FjaGVkKSB7XG4gICAgICB2YXIgbWluID0gcGFnZXNDYWNoZWQsXG4gICAgICAgICAgbWF4ID0gcGFnZXMsXG4gICAgICAgICAgZm4gPSBzaG93RWxlbWVudDtcblxuICAgICAgaWYgKHBhZ2VzQ2FjaGVkID4gcGFnZXMpIHtcbiAgICAgICAgbWluID0gcGFnZXM7XG4gICAgICAgIG1heCA9IHBhZ2VzQ2FjaGVkO1xuICAgICAgICBmbiA9IGhpZGVFbGVtZW50O1xuICAgICAgfVxuXG4gICAgICB3aGlsZSAobWluIDwgbWF4KSB7XG4gICAgICAgIGZuKG5hdkl0ZW1zW21pbl0pO1xuICAgICAgICBtaW4rKztcbiAgICAgIH1cblxuICAgICAgLy8gY2FjaGUgcGFnZXNcbiAgICAgIHBhZ2VzQ2FjaGVkID0gcGFnZXM7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaW5mbyAoZSkge1xuICAgIHJldHVybiB7XG4gICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgIHNsaWRlSXRlbXM6IHNsaWRlSXRlbXMsXG4gICAgICBuYXZDb250YWluZXI6IG5hdkNvbnRhaW5lcixcbiAgICAgIG5hdkl0ZW1zOiBuYXZJdGVtcyxcbiAgICAgIGNvbnRyb2xzQ29udGFpbmVyOiBjb250cm9sc0NvbnRhaW5lcixcbiAgICAgIGhhc0NvbnRyb2xzOiBoYXNDb250cm9scyxcbiAgICAgIHByZXZCdXR0b246IHByZXZCdXR0b24sXG4gICAgICBuZXh0QnV0dG9uOiBuZXh0QnV0dG9uLFxuICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgc2xpZGVCeTogc2xpZGVCeSxcbiAgICAgIGNsb25lQ291bnQ6IGNsb25lQ291bnQsXG4gICAgICBzbGlkZUNvdW50OiBzbGlkZUNvdW50LFxuICAgICAgc2xpZGVDb3VudE5ldzogc2xpZGVDb3VudE5ldyxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIGluZGV4Q2FjaGVkOiBpbmRleENhY2hlZCxcbiAgICAgIGRpc3BsYXlJbmRleDogZ2V0Q3VycmVudFNsaWRlKCksXG4gICAgICBuYXZDdXJyZW50SW5kZXg6IG5hdkN1cnJlbnRJbmRleCxcbiAgICAgIG5hdkN1cnJlbnRJbmRleENhY2hlZDogbmF2Q3VycmVudEluZGV4Q2FjaGVkLFxuICAgICAgcGFnZXM6IHBhZ2VzLFxuICAgICAgcGFnZXNDYWNoZWQ6IHBhZ2VzQ2FjaGVkLFxuICAgICAgc2hlZXQ6IHNoZWV0LFxuICAgICAgaXNPbjogaXNPbixcbiAgICAgIGV2ZW50OiBlIHx8IHt9LFxuICAgIH07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHZlcnNpb246ICcyLjkuMScsXG4gICAgZ2V0SW5mbzogaW5mbyxcbiAgICBldmVudHM6IGV2ZW50cyxcbiAgICBnb1RvOiBnb1RvLFxuICAgIHBsYXk6IHBsYXksXG4gICAgcGF1c2U6IHBhdXNlLFxuICAgIGlzT246IGlzT24sXG4gICAgdXBkYXRlU2xpZGVySGVpZ2h0OiB1cGRhdGVJbm5lcldyYXBwZXJIZWlnaHQsXG4gICAgcmVmcmVzaDogaW5pdFNsaWRlclRyYW5zZm9ybSxcbiAgICBkZXN0cm95OiBkZXN0cm95LFxuICAgIHJlYnVpbGQ6IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRucyhleHRlbmQob3B0aW9ucywgb3B0aW9uc0VsZW1lbnRzKSk7XG4gICAgfVxuICB9O1xufTtcbiIsInZhciB2ZXJzaW9uPVwiMC4zLjFcIixjbGFzc0NhbGxDaGVjaz1mdW5jdGlvbihlLG8pe2lmKCEoZSBpbnN0YW5jZW9mIG8pKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9LGNyZWF0ZUNsYXNzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZShlLG8pe2Zvcih2YXIgdD0wO3Q8by5sZW5ndGg7dCsrKXt2YXIgaT1vW3RdO2kuZW51bWVyYWJsZT1pLmVudW1lcmFibGV8fCExLGkuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIGkmJihpLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLmtleSxpKX19cmV0dXJuIGZ1bmN0aW9uKG8sdCxpKXtyZXR1cm4gdCYmZShvLnByb3RvdHlwZSx0KSxpJiZlKG8saSksb319KCksdG9Db25zdW1hYmxlQXJyYXk9ZnVuY3Rpb24oZSl7aWYoQXJyYXkuaXNBcnJheShlKSl7Zm9yKHZhciBvPTAsdD1BcnJheShlLmxlbmd0aCk7bzxlLmxlbmd0aDtvKyspdFtvXT1lW29dO3JldHVybiB0fXJldHVybiBBcnJheS5mcm9tKGUpfSxNaWNyb01vZGFsPWZ1bmN0aW9uKCl7dmFyIGU9W1wiYVtocmVmXVwiLFwiYXJlYVtocmVmXVwiLCdpbnB1dDpub3QoW2Rpc2FibGVkXSk6bm90KFt0eXBlPVwiaGlkZGVuXCJdKTpub3QoW2FyaWEtaGlkZGVuXSknLFwic2VsZWN0Om5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSlcIixcInRleHRhcmVhOm5vdChbZGlzYWJsZWRdKTpub3QoW2FyaWEtaGlkZGVuXSlcIixcImJ1dHRvbjpub3QoW2Rpc2FibGVkXSk6bm90KFthcmlhLWhpZGRlbl0pXCIsXCJpZnJhbWVcIixcIm9iamVjdFwiLFwiZW1iZWRcIixcIltjb250ZW50ZWRpdGFibGVdXCIsJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleF49XCItXCJdKSddLG89ZnVuY3Rpb24oKXtmdW5jdGlvbiBvKGUpe3ZhciB0PWUudGFyZ2V0TW9kYWwsaT1lLnRyaWdnZXJzLG49dm9pZCAwPT09aT9bXTppLGE9ZS5vblNob3cscj12b2lkIDA9PT1hP2Z1bmN0aW9uKCl7fTphLHM9ZS5vbkNsb3NlLGw9dm9pZCAwPT09cz9mdW5jdGlvbigpe306cyxjPWUub3BlblRyaWdnZXIsZD12b2lkIDA9PT1jP1wiZGF0YS1taWNyb21vZGFsLXRyaWdnZXJcIjpjLHU9ZS5jbG9zZVRyaWdnZXIsaD12b2lkIDA9PT11P1wiZGF0YS1taWNyb21vZGFsLWNsb3NlXCI6dSxmPWUuZGlzYWJsZVNjcm9sbCx2PXZvaWQgMCE9PWYmJmYsZz1lLmRpc2FibGVGb2N1cyxtPXZvaWQgMCE9PWcmJmcsYj1lLmF3YWl0Q2xvc2VBbmltYXRpb24seT12b2lkIDAhPT1iJiZiLGs9ZS5kZWJ1Z01vZGUsdz12b2lkIDAhPT1rJiZrO2NsYXNzQ2FsbENoZWNrKHRoaXMsbyksdGhpcy5tb2RhbD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0KSx0aGlzLmNvbmZpZz17ZGVidWdNb2RlOncsZGlzYWJsZVNjcm9sbDp2LG9wZW5UcmlnZ2VyOmQsY2xvc2VUcmlnZ2VyOmgsb25TaG93OnIsb25DbG9zZTpsLGF3YWl0Q2xvc2VBbmltYXRpb246eSxkaXNhYmxlRm9jdXM6bX0sbi5sZW5ndGg+MCYmdGhpcy5yZWdpc3RlclRyaWdnZXJzLmFwcGx5KHRoaXMsdG9Db25zdW1hYmxlQXJyYXkobikpLHRoaXMub25DbGljaz10aGlzLm9uQ2xpY2suYmluZCh0aGlzKSx0aGlzLm9uS2V5ZG93bj10aGlzLm9uS2V5ZG93bi5iaW5kKHRoaXMpfXJldHVybiBjcmVhdGVDbGFzcyhvLFt7a2V5OlwicmVnaXN0ZXJUcmlnZ2Vyc1wiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsbz1hcmd1bWVudHMubGVuZ3RoLHQ9QXJyYXkobyksaT0wO2k8bztpKyspdFtpXT1hcmd1bWVudHNbaV07dC5mb3JFYWNoKGZ1bmN0aW9uKG8pe28uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtyZXR1cm4gZS5zaG93TW9kYWwoKX0pfSl9fSx7a2V5Olwic2hvd01vZGFsXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLmFjdGl2ZUVsZW1lbnQ9ZG9jdW1lbnQuYWN0aXZlRWxlbWVudCx0aGlzLm1vZGFsLnNldEF0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIsXCJmYWxzZVwiKSx0aGlzLm1vZGFsLmNsYXNzTGlzdC5hZGQoXCJpcy1vcGVuXCIpLHRoaXMuc2V0Rm9jdXNUb0ZpcnN0Tm9kZSgpLHRoaXMuc2Nyb2xsQmVoYXZpb3VyKFwiZGlzYWJsZVwiKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCksdGhpcy5jb25maWcub25TaG93KHRoaXMubW9kYWwpfX0se2tleTpcImNsb3NlTW9kYWxcIix2YWx1ZTpmdW5jdGlvbigpe3ZhciBlPXRoaXMubW9kYWw7dGhpcy5tb2RhbC5zZXRBdHRyaWJ1dGUoXCJhcmlhLWhpZGRlblwiLFwidHJ1ZVwiKSx0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCksdGhpcy5zY3JvbGxCZWhhdmlvdXIoXCJlbmFibGVcIiksdGhpcy5hY3RpdmVFbGVtZW50LmZvY3VzKCksdGhpcy5jb25maWcub25DbG9zZSh0aGlzLm1vZGFsKSx0aGlzLmNvbmZpZy5hd2FpdENsb3NlQW5pbWF0aW9uP3RoaXMubW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLGZ1bmN0aW9uIG8oKXtlLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1vcGVuXCIpLGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLG8sITEpfSwhMSk6ZS5jbGFzc0xpc3QucmVtb3ZlKFwiaXMtb3BlblwiKX19LHtrZXk6XCJzY3JvbGxCZWhhdmlvdXJcIix2YWx1ZTpmdW5jdGlvbihlKXtpZih0aGlzLmNvbmZpZy5kaXNhYmxlU2Nyb2xsKXt2YXIgbz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtzd2l0Y2goZSl7Y2FzZVwiZW5hYmxlXCI6T2JqZWN0LmFzc2lnbihvLnN0eWxlLHtvdmVyZmxvdzpcImluaXRpYWxcIixoZWlnaHQ6XCJpbml0aWFsXCJ9KTticmVhaztjYXNlXCJkaXNhYmxlXCI6T2JqZWN0LmFzc2lnbihvLnN0eWxlLHtvdmVyZmxvdzpcImhpZGRlblwiLGhlaWdodDpcIjEwMHZoXCJ9KX19fX0se2tleTpcImFkZEV2ZW50TGlzdGVuZXJzXCIsdmFsdWU6ZnVuY3Rpb24oKXt0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsdGhpcy5vbkNsaWNrKSx0aGlzLm1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGljayksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIix0aGlzLm9uS2V5ZG93bil9fSx7a2V5OlwicmVtb3ZlRXZlbnRMaXN0ZW5lcnNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIix0aGlzLm9uQ2xpY2spLHRoaXMubW9kYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbkNsaWNrKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLHRoaXMub25LZXlkb3duKX19LHtrZXk6XCJvbkNsaWNrXCIsdmFsdWU6ZnVuY3Rpb24oZSl7ZS50YXJnZXQuaGFzQXR0cmlidXRlKHRoaXMuY29uZmlnLmNsb3NlVHJpZ2dlcikmJih0aGlzLmNsb3NlTW9kYWwoKSxlLnByZXZlbnREZWZhdWx0KCkpfX0se2tleTpcIm9uS2V5ZG93blwiLHZhbHVlOmZ1bmN0aW9uKGUpezI3PT09ZS5rZXlDb2RlJiZ0aGlzLmNsb3NlTW9kYWwoZSksOT09PWUua2V5Q29kZSYmdGhpcy5tYWludGFpbkZvY3VzKGUpfX0se2tleTpcImdldEZvY3VzYWJsZU5vZGVzXCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgbz10aGlzLm1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoZSk7cmV0dXJuIE9iamVjdC5rZXlzKG8pLm1hcChmdW5jdGlvbihlKXtyZXR1cm4gb1tlXX0pfX0se2tleTpcInNldEZvY3VzVG9GaXJzdE5vZGVcIix2YWx1ZTpmdW5jdGlvbigpe2lmKCF0aGlzLmNvbmZpZy5kaXNhYmxlRm9jdXMpe3ZhciBlPXRoaXMuZ2V0Rm9jdXNhYmxlTm9kZXMoKTtlLmxlbmd0aCYmZVswXS5mb2N1cygpfX19LHtrZXk6XCJtYWludGFpbkZvY3VzXCIsdmFsdWU6ZnVuY3Rpb24oZSl7dmFyIG89dGhpcy5nZXRGb2N1c2FibGVOb2RlcygpO2lmKHRoaXMubW9kYWwuY29udGFpbnMoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkpe3ZhciB0PW8uaW5kZXhPZihkb2N1bWVudC5hY3RpdmVFbGVtZW50KTtlLnNoaWZ0S2V5JiYwPT09dCYmKG9bby5sZW5ndGgtMV0uZm9jdXMoKSxlLnByZXZlbnREZWZhdWx0KCkpLGUuc2hpZnRLZXl8fHQhPT1vLmxlbmd0aC0xfHwob1swXS5mb2N1cygpLGUucHJldmVudERlZmF1bHQoKSl9ZWxzZSBvWzBdLmZvY3VzKCl9fV0pLG99KCksdD1udWxsLGk9ZnVuY3Rpb24oZSxvKXt2YXIgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKGZ1bmN0aW9uKGUpe3ZhciBpPWUuYXR0cmlidXRlc1tvXS52YWx1ZTt2b2lkIDA9PT10W2ldJiYodFtpXT1bXSksdFtpXS5wdXNoKGUpfSksdH0sbj1mdW5jdGlvbihlKXtpZighZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkpcmV0dXJuIGNvbnNvbGUud2FybihcIk1pY3JvTW9kYWwgdlwiK3ZlcnNpb24rXCI6IOKdl1NlZW1zIGxpa2UgeW91IGhhdmUgbWlzc2VkICVjJ1wiK2UrXCInXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkO1wiLFwiSUQgc29tZXdoZXJlIGluIHlvdXIgY29kZS4gUmVmZXIgZXhhbXBsZSBiZWxvdyB0byByZXNvbHZlIGl0LlwiKSxjb25zb2xlLndhcm4oXCIlY0V4YW1wbGU6XCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkO1wiLCc8ZGl2IGNsYXNzPVwibW9kYWxcIiBpZD1cIicrZSsnXCI+PC9kaXY+JyksITF9LGE9ZnVuY3Rpb24oZSl7aWYoZS5sZW5ndGg8PTApcmV0dXJuIGNvbnNvbGUud2FybihcIk1pY3JvTW9kYWwgdlwiK3ZlcnNpb24rXCI6IOKdl1BsZWFzZSBzcGVjaWZ5IGF0IGxlYXN0IG9uZSAlYydtaWNyb21vZGFsLXRyaWdnZXInXCIsXCJiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhO2NvbG9yOiAjNTA1OTZjO2ZvbnQtd2VpZ2h0OiBib2xkO1wiLFwiZGF0YSBhdHRyaWJ1dGUuXCIpLGNvbnNvbGUud2FybihcIiVjRXhhbXBsZTpcIixcImJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7Y29sb3I6ICM1MDU5NmM7Zm9udC13ZWlnaHQ6IGJvbGQ7XCIsJzxhIGhyZWY9XCIjXCIgZGF0YS1taWNyb21vZGFsLXRyaWdnZXI9XCJteS1tb2RhbFwiPjwvYT4nKSwhMX0scj1mdW5jdGlvbihlLG8pe2lmKGEoZSksIW8pcmV0dXJuITA7Zm9yKHZhciB0IGluIG8pbih0KTtyZXR1cm4hMH07cmV0dXJue2luaXQ6ZnVuY3Rpb24oZSl7dmFyIHQ9T2JqZWN0LmFzc2lnbih7fSx7b3BlblRyaWdnZXI6XCJkYXRhLW1pY3JvbW9kYWwtdHJpZ2dlclwifSxlKSxuPVtdLmNvbmNhdCh0b0NvbnN1bWFibGVBcnJheShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiW1wiK3Qub3BlblRyaWdnZXIrXCJdXCIpKSksYT1pKG4sdC5vcGVuVHJpZ2dlcik7aWYoITAhPT10LmRlYnVnTW9kZXx8ITEhPT1yKG4sYSkpZm9yKHZhciBzIGluIGEpe3ZhciBsPWFbc107dC50YXJnZXRNb2RhbD1zLHQudHJpZ2dlcnM9W10uY29uY2F0KHRvQ29uc3VtYWJsZUFycmF5KGwpKSxuZXcgbyh0KX19LHNob3c6ZnVuY3Rpb24oZSxpKXt2YXIgYT1pfHx7fTthLnRhcmdldE1vZGFsPWUsITA9PT1hLmRlYnVnTW9kZSYmITE9PT1uKGUpfHwodD1uZXcgbyhhKSkuc2hvd01vZGFsKCl9LGNsb3NlOmZ1bmN0aW9uKCl7dC5jbG9zZU1vZGFsKCl9fX0oKTtleHBvcnQgZGVmYXVsdCBNaWNyb01vZGFsO1xuIiwiaWYgKCFBcnJheS5mcm9tKSB7XG4gICAgQXJyYXkuZnJvbSA9IChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHRvU3RyID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcbiAgICAgICAgdmFyIGlzQ2FsbGFibGUgPSBmdW5jdGlvbihmbikge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJyB8fCB0b1N0ci5jYWxsKGZuKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHRvSW50ZWdlciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgbnVtYmVyID0gTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChpc05hTihudW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobnVtYmVyID09PSAwIHx8ICFpc0Zpbml0ZShudW1iZXIpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgbnVtYmVyID4gMFxuICAgICAgICAgICAgICAgICAgICA/IDFcbiAgICAgICAgICAgICAgICAgICAgOiAtMSkgKiBNYXRoLmZsb29yKE1hdGguYWJzKG51bWJlcikpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgbWF4U2FmZUludGVnZXIgPSBNYXRoLnBvdygyLCA1MykgLSAxO1xuICAgICAgICB2YXIgdG9MZW5ndGggPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGxlbiA9IHRvSW50ZWdlcih2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4oTWF0aC5tYXgobGVuLCAwKSwgbWF4U2FmZUludGVnZXIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRoZSBsZW5ndGggcHJvcGVydHkgb2YgdGhlIGZyb20gbWV0aG9kIGlzIDEuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBmcm9tKGFycmF5TGlrZS8qICwgbWFwRm4sIHRoaXNBcmcgKi8pIHtcbiAgICAgICAgICAgIC8vIDEuIExldCBDIGJlIHRoZSB0aGlzIHZhbHVlLlxuICAgICAgICAgICAgdmFyIEMgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyAyLiBMZXQgaXRlbXMgYmUgVG9PYmplY3QoYXJyYXlMaWtlKS5cbiAgICAgICAgICAgIHZhciBpdGVtcyA9IE9iamVjdChhcnJheUxpa2UpO1xuXG4gICAgICAgICAgICAvLyAzLiBSZXR1cm5JZkFicnVwdChpdGVtcykuXG4gICAgICAgICAgICBpZiAoYXJyYXlMaWtlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5mcm9tIHJlcXVpcmVzIGFuIGFycmF5LWxpa2Ugb2JqZWN0IC0gbm90IG51bGwgb3IgdW5kZWZpbmVkJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDQuIElmIG1hcGZuIGlzIHVuZGVmaW5lZCwgdGhlbiBsZXQgbWFwcGluZyBiZSBmYWxzZS5cbiAgICAgICAgICAgIHZhciBtYXBGbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAxXG4gICAgICAgICAgICAgICAgPyBhcmd1bWVudHNbMV1cbiAgICAgICAgICAgICAgICA6IHZvaWQgdW5kZWZpbmVkO1xuICAgICAgICAgICAgdmFyIFQ7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG1hcEZuICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIC8vIDUuIGVsc2VcbiAgICAgICAgICAgICAgICAvLyA1LiBhIElmIElzQ2FsbGFibGUobWFwZm4pIGlzIGZhbHNlLCB0aHJvdyBhIFR5cGVFcnJvciBleGNlcHRpb24uXG4gICAgICAgICAgICAgICAgaWYgKCFpc0NhbGxhYmxlKG1hcEZuKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBcnJheS5mcm9tOiB3aGVuIHByb3ZpZGVkLCB0aGUgc2Vjb25kIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIDUuIGIuIElmIHRoaXNBcmcgd2FzIHN1cHBsaWVkLCBsZXQgVCBiZSB0aGlzQXJnOyBlbHNlIGxldCBUIGJlIHVuZGVmaW5lZC5cbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgVCA9IGFyZ3VtZW50c1syXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIDEwLiBMZXQgbGVuVmFsdWUgYmUgR2V0KGl0ZW1zLCBcImxlbmd0aFwiKS5cbiAgICAgICAgICAgIC8vIDExLiBMZXQgbGVuIGJlIFRvTGVuZ3RoKGxlblZhbHVlKS5cbiAgICAgICAgICAgIHZhciBsZW4gPSB0b0xlbmd0aChpdGVtcy5sZW5ndGgpO1xuXG4gICAgICAgICAgICAvLyAxMy4gSWYgSXNDb25zdHJ1Y3RvcihDKSBpcyB0cnVlLCB0aGVuXG4gICAgICAgICAgICAvLyAxMy4gYS4gTGV0IEEgYmUgdGhlIHJlc3VsdCBvZiBjYWxsaW5nIHRoZSBbW0NvbnN0cnVjdF1dIGludGVybmFsIG1ldGhvZFxuICAgICAgICAgICAgLy8gb2YgQyB3aXRoIGFuIGFyZ3VtZW50IGxpc3QgY29udGFpbmluZyB0aGUgc2luZ2xlIGl0ZW0gbGVuLlxuICAgICAgICAgICAgLy8gMTQuIGEuIEVsc2UsIExldCBBIGJlIEFycmF5Q3JlYXRlKGxlbikuXG4gICAgICAgICAgICB2YXIgQSA9IGlzQ2FsbGFibGUoQylcbiAgICAgICAgICAgICAgICA/IE9iamVjdChuZXcgQyhsZW4pKVxuICAgICAgICAgICAgICAgIDogbmV3IEFycmF5KGxlbik7XG5cbiAgICAgICAgICAgIC8vIDE2LiBMZXQgayBiZSAwLlxuICAgICAgICAgICAgdmFyIGsgPSAwO1xuICAgICAgICAgICAgLy8gMTcuIFJlcGVhdCwgd2hpbGUgayA8IGxlbuKApiAoYWxzbyBzdGVwcyBhIC0gaClcbiAgICAgICAgICAgIHZhciBrVmFsdWU7XG4gICAgICAgICAgICB3aGlsZSAoayA8IGxlbikge1xuICAgICAgICAgICAgICAgIGtWYWx1ZSA9IGl0ZW1zW2tdO1xuICAgICAgICAgICAgICAgIGlmIChtYXBGbikge1xuICAgICAgICAgICAgICAgICAgICBBW2tdID0gdHlwZW9mIFQgPT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG1hcEZuKGtWYWx1ZSwgaylcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbWFwRm4uY2FsbChULCBrVmFsdWUsIGspO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIEFba10gPSBrVmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGsgKz0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIDE4LiBMZXQgcHV0U3RhdHVzIGJlIFB1dChBLCBcImxlbmd0aFwiLCBsZW4sIHRydWUpLlxuICAgICAgICAgICAgQS5sZW5ndGggPSBsZW47XG4gICAgICAgICAgICAvLyAyMC4gUmV0dXJuIEEuXG4gICAgICAgICAgICByZXR1cm4gQTtcbiAgICAgICAgfTtcbiAgICB9KCkpO1xufVxuXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bmRlZiAqL1xuZXhwb3J0IGRlZmF1bHQgbW9kdWxlO1xuIiwiLy8gZ2V0IGNzcy1jYWxjIFxuLy8gQHJldHVybiAtIGZhbHNlIHwgY2FsYyB8IC13ZWJraXQtY2FsYyB8IC1tb3otY2FsY1xuLy8gQHVzYWdlIC0gdmFyIGNhbGMgPSBnZXRDYWxjKCk7IFxuaW1wb3J0IHsgZ2V0Qm9keSB9IGZyb20gJy4vZ2V0Qm9keS5qcyc7XG5pbXBvcnQgeyBzZXRGYWtlQm9keSB9IGZyb20gJy4vc2V0RmFrZUJvZHkuanMnO1xuaW1wb3J0IHsgcmVzZXRGYWtlQm9keSB9IGZyb20gJy4vcmVzZXRGYWtlQm9keS5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBjYWxjKCkge1xuICB2YXIgZG9jID0gZG9jdW1lbnQsIFxuICAgICAgYm9keSA9IGdldEJvZHkoKSxcbiAgICAgIGRvY092ZXJmbG93ID0gc2V0RmFrZUJvZHkoYm9keSksXG4gICAgICBkaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JyksIFxuICAgICAgcmVzdWx0ID0gZmFsc2U7XG5cbiAgYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICB0cnkge1xuICAgIHZhciBzdHIgPSAnKDEwcHggKiAxMCknLFxuICAgICAgICB2YWxzID0gWydjYWxjJyArIHN0ciwgJy1tb3otY2FsYycgKyBzdHIsICctd2Via2l0LWNhbGMnICsgc3RyXSxcbiAgICAgICAgdmFsO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMzsgaSsrKSB7XG4gICAgICB2YWwgPSB2YWxzW2ldO1xuICAgICAgZGl2LnN0eWxlLndpZHRoID0gdmFsO1xuICAgICAgaWYgKGRpdi5vZmZzZXRXaWR0aCA9PT0gMTAwKSB7IFxuICAgICAgICByZXN1bHQgPSB2YWwucmVwbGFjZShzdHIsICcnKTsgXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge31cbiAgXG4gIGJvZHkuZmFrZSA/IHJlc2V0RmFrZUJvZHkoYm9keSwgZG9jT3ZlcmZsb3cpIDogZGl2LnJlbW92ZSgpO1xuXG4gIHJldHVybiByZXN1bHQ7XG59IiwiLy8gZ2V0IHN1YnBpeGVsIHN1cHBvcnQgdmFsdWVcbi8vIEByZXR1cm4gLSBib29sZWFuXG5pbXBvcnQgeyBnZXRCb2R5IH0gZnJvbSAnLi9nZXRCb2R5LmpzJztcbmltcG9ydCB7IHNldEZha2VCb2R5IH0gZnJvbSAnLi9zZXRGYWtlQm9keS5qcyc7XG5pbXBvcnQgeyByZXNldEZha2VCb2R5IH0gZnJvbSAnLi9yZXNldEZha2VCb2R5LmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHBlcmNlbnRhZ2VMYXlvdXQoKSB7XG4gIC8vIGNoZWNrIHN1YnBpeGVsIGxheW91dCBzdXBwb3J0aW5nXG4gIHZhciBkb2MgPSBkb2N1bWVudCxcbiAgICAgIGJvZHkgPSBnZXRCb2R5KCksXG4gICAgICBkb2NPdmVyZmxvdyA9IHNldEZha2VCb2R5KGJvZHkpLFxuICAgICAgd3JhcHBlciA9IGRvYy5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgIG91dGVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgc3RyID0gJycsXG4gICAgICBjb3VudCA9IDcwLFxuICAgICAgcGVyUGFnZSA9IDMsXG4gICAgICBzdXBwb3J0ZWQgPSBmYWxzZTtcblxuICB3cmFwcGVyLmNsYXNzTmFtZSA9IFwidG5zLXQtc3VicDJcIjtcbiAgb3V0ZXIuY2xhc3NOYW1lID0gXCJ0bnMtdC1jdFwiO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgIHN0ciArPSAnPGRpdj48L2Rpdj4nO1xuICB9XG5cbiAgb3V0ZXIuaW5uZXJIVE1MID0gc3RyO1xuICB3cmFwcGVyLmFwcGVuZENoaWxkKG91dGVyKTtcbiAgYm9keS5hcHBlbmRDaGlsZCh3cmFwcGVyKTtcblxuICBzdXBwb3J0ZWQgPSBNYXRoLmFicyh3cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQgLSBvdXRlci5jaGlsZHJlbltjb3VudCAtIHBlclBhZ2VdLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQpIDwgMjtcblxuICBib2R5LmZha2UgPyByZXNldEZha2VCb2R5KGJvZHksIGRvY092ZXJmbG93KSA6IHdyYXBwZXIucmVtb3ZlKCk7XG5cbiAgcmV0dXJuIHN1cHBvcnRlZDtcbn0iLCJpbXBvcnQgeyBnZXRCb2R5IH0gZnJvbSAnLi9nZXRCb2R5LmpzJztcbmltcG9ydCB7IHNldEZha2VCb2R5IH0gZnJvbSAnLi9zZXRGYWtlQm9keS5qcyc7XG5pbXBvcnQgeyByZXNldEZha2VCb2R5IH0gZnJvbSAnLi9yZXNldEZha2VCb2R5LmpzJztcblxuZXhwb3J0IGZ1bmN0aW9uIG1lZGlhcXVlcnlTdXBwb3J0ICgpIHtcbiAgdmFyIGRvYyA9IGRvY3VtZW50LFxuICAgICAgYm9keSA9IGdldEJvZHkoKSxcbiAgICAgIGRvY092ZXJmbG93ID0gc2V0RmFrZUJvZHkoYm9keSksXG4gICAgICBkaXYgPSBkb2MuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICBzdHlsZSA9IGRvYy5jcmVhdGVFbGVtZW50KCdzdHlsZScpLFxuICAgICAgcnVsZSA9ICdAbWVkaWEgYWxsIGFuZCAobWluLXdpZHRoOjFweCl7LnRucy1tcS10ZXN0e3Bvc2l0aW9uOmFic29sdXRlfX0nLFxuICAgICAgcG9zaXRpb247XG5cbiAgc3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG4gIGRpdi5jbGFzc05hbWUgPSAndG5zLW1xLXRlc3QnO1xuXG4gIGJvZHkuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICBib2R5LmFwcGVuZENoaWxkKGRpdik7XG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBydWxlO1xuICB9IGVsc2Uge1xuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvYy5jcmVhdGVUZXh0Tm9kZShydWxlKSk7XG4gIH1cblxuICBwb3NpdGlvbiA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlID8gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZGl2KS5wb3NpdGlvbiA6IGRpdi5jdXJyZW50U3R5bGVbJ3Bvc2l0aW9uJ107XG5cbiAgYm9keS5mYWtlID8gcmVzZXRGYWtlQm9keShib2R5LCBkb2NPdmVyZmxvdykgOiBkaXYucmVtb3ZlKCk7XG5cbiAgcmV0dXJuIHBvc2l0aW9uID09PSBcImFic29sdXRlXCI7XG59IiwiaW1wb3J0IHsgZ2V0Qm9keSB9IGZyb20gJy4vZ2V0Qm9keS5qcyc7XG5pbXBvcnQgeyBzZXRGYWtlQm9keSB9IGZyb20gJy4vc2V0RmFrZUJvZHkuanMnO1xuaW1wb3J0IHsgcmVzZXRGYWtlQm9keSB9IGZyb20gJy4vcmVzZXRGYWtlQm9keS5qcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXMzRFRyYW5zZm9ybXModGYpe1xuICBpZiAoIXRmKSB7IHJldHVybiBmYWxzZTsgfVxuICBpZiAoIXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7IHJldHVybiBmYWxzZTsgfVxuICBcbiAgdmFyIGRvYyA9IGRvY3VtZW50LFxuICAgICAgYm9keSA9IGdldEJvZHkoKSxcbiAgICAgIGRvY092ZXJmbG93ID0gc2V0RmFrZUJvZHkoYm9keSksXG4gICAgICBlbCA9IGRvYy5jcmVhdGVFbGVtZW50KCdwJyksXG4gICAgICBoYXMzZCxcbiAgICAgIGNzc1RGID0gdGYubGVuZ3RoID4gOSA/ICctJyArIHRmLnNsaWNlKDAsIC05KS50b0xvd2VyQ2FzZSgpICsgJy0nIDogJyc7XG5cbiAgY3NzVEYgKz0gJ3RyYW5zZm9ybSc7XG5cbiAgLy8gQWRkIGl0IHRvIHRoZSBib2R5IHRvIGdldCB0aGUgY29tcHV0ZWQgc3R5bGVcbiAgYm9keS5pbnNlcnRCZWZvcmUoZWwsIG51bGwpO1xuXG4gIGVsLnN0eWxlW3RmXSA9ICd0cmFuc2xhdGUzZCgxcHgsMXB4LDFweCknO1xuICBoYXMzZCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsKS5nZXRQcm9wZXJ0eVZhbHVlKGNzc1RGKTtcblxuICBib2R5LmZha2UgPyByZXNldEZha2VCb2R5KGJvZHksIGRvY092ZXJmbG93KSA6IGVsLnJlbW92ZSgpO1xuXG4gIHJldHVybiAoaGFzM2QgIT09IHVuZGVmaW5lZCAmJiBoYXMzZC5sZW5ndGggPiAwICYmIGhhczNkICE9PSBcIm5vbmVcIik7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0U2xpZGVJZCgpIHtcbiAgdmFyIGlkID0gd2luZG93LnRuc0lkO1xuICB3aW5kb3cudG5zSWQgPSAhaWQgPyAxIDogaWQgKyAxO1xuICBcbiAgcmV0dXJuICd0bnMnICsgd2luZG93LnRuc0lkO1xufSIsIi8vIGNyZWF0ZSBhbmQgYXBwZW5kIHN0eWxlIHNoZWV0XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3R5bGVTaGVldCAobWVkaWEpIHtcbiAgLy8gQ3JlYXRlIHRoZSA8c3R5bGU+IHRhZ1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIC8vIHN0eWxlLnNldEF0dHJpYnV0ZShcInR5cGVcIiwgXCJ0ZXh0L2Nzc1wiKTtcblxuICAvLyBBZGQgYSBtZWRpYSAoYW5kL29yIG1lZGlhIHF1ZXJ5KSBoZXJlIGlmIHlvdSdkIGxpa2UhXG4gIC8vIHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIFwic2NyZWVuXCIpXG4gIC8vIHN0eWxlLnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIFwib25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGggOiAxMDI0cHgpXCIpXG4gIGlmIChtZWRpYSkgeyBzdHlsZS5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLCBtZWRpYSk7IH1cblxuICAvLyBXZWJLaXQgaGFjayA6KFxuICAvLyBzdHlsZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSk7XG5cbiAgLy8gQWRkIHRoZSA8c3R5bGU+IGVsZW1lbnQgdG8gdGhlIHBhZ2VcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaGVhZCcpLmFwcGVuZENoaWxkKHN0eWxlKTtcblxuICByZXR1cm4gc3R5bGUuc2hlZXQgPyBzdHlsZS5zaGVldCA6IHN0eWxlLnN0eWxlU2hlZXQ7XG59OyIsImV4cG9ydCBmdW5jdGlvbiBqc1RyYW5zZm9ybShlbGVtZW50LCBhdHRyLCBwcmVmaXgsIHBvc3RmaXgsIHRvLCBkdXJhdGlvbiwgY2FsbGJhY2spIHtcbiAgdmFyIHRpY2sgPSBNYXRoLm1pbihkdXJhdGlvbiwgMTApLFxuICAgICAgdW5pdCA9ICh0by5pbmRleE9mKCclJykgPj0gMCkgPyAnJScgOiAncHgnLFxuICAgICAgdG8gPSB0by5yZXBsYWNlKHVuaXQsICcnKSxcbiAgICAgIGZyb20gPSBOdW1iZXIoZWxlbWVudC5zdHlsZVthdHRyXS5yZXBsYWNlKHByZWZpeCwgJycpLnJlcGxhY2UocG9zdGZpeCwgJycpLnJlcGxhY2UodW5pdCwgJycpKSxcbiAgICAgIHBvc2l0aW9uVGljayA9ICh0byAtIGZyb20pIC8gZHVyYXRpb24gKiB0aWNrLFxuICAgICAgcnVubmluZztcblxuICBzZXRUaW1lb3V0KG1vdmVFbGVtZW50LCB0aWNrKTtcbiAgZnVuY3Rpb24gbW92ZUVsZW1lbnQoKSB7XG4gICAgZHVyYXRpb24gLT0gdGljaztcbiAgICBmcm9tICs9IHBvc2l0aW9uVGljaztcbiAgICBlbGVtZW50LnN0eWxlW2F0dHJdID0gcHJlZml4ICsgZnJvbSArIHVuaXQgKyBwb3N0Zml4O1xuICAgIGlmIChkdXJhdGlvbiA+IDApIHsgXG4gICAgICBzZXRUaW1lb3V0KG1vdmVFbGVtZW50LCB0aWNrKTsgXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9XG59IiwiLy8gY3Jvc3MgYnJvd3NlcnMgYWRkUnVsZSBtZXRob2RcbmltcG9ydCB7IHJhZiB9IGZyb20gJy4vcmFmLmpzJztcbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVDU1NSdWxlKHNoZWV0LCBpbmRleCkge1xuICAvLyByZXR1cm4gcmFmKGZ1bmN0aW9uKCkge1xuICAgICdkZWxldGVSdWxlJyBpbiBzaGVldCA/XG4gICAgICBzaGVldC5kZWxldGVSdWxlKGluZGV4KSA6XG4gICAgICBzaGVldC5yZW1vdmVSdWxlKGluZGV4KTtcbiAgLy8gfSk7XG59IiwiZXhwb3J0IGZ1bmN0aW9uIHRvRGVncmVlICh5LCB4KSB7XG4gIHJldHVybiBNYXRoLmF0YW4yKHksIHgpICogKDE4MCAvIE1hdGguUEkpO1xufSIsImV4cG9ydCBmdW5jdGlvbiBnZXRUb3VjaERpcmVjdGlvbihhbmdsZSwgcmFuZ2UpIHtcbiAgdmFyIGRpcmVjdGlvbiA9IGZhbHNlLFxuICAgICAgZ2FwID0gTWF0aC5hYnMoOTAgLSBNYXRoLmFicyhhbmdsZSkpO1xuICAgICAgXG4gIGlmIChnYXAgPj0gOTAgLSByYW5nZSkge1xuICAgIGRpcmVjdGlvbiA9ICdob3Jpem9udGFsJztcbiAgfSBlbHNlIGlmIChnYXAgPD0gcmFuZ2UpIHtcbiAgICBkaXJlY3Rpb24gPSAndmVydGljYWwnO1xuICB9XG5cbiAgcmV0dXJuIGRpcmVjdGlvbjtcbn0iLCIvKlxuXHRCeSBPc3ZhbGRhcyBWYWx1dGlzLCB3d3cub3N2YWxkYXMuaW5mb1xuXHRBdmFpbGFibGUgZm9yIHVzZSB1bmRlciB0aGUgTUlUIExpY2Vuc2VcbiovXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11bnVzZWQtdmFycyAqL1xuKGZ1bmN0aW9uKGRvY3VtZW50LCB3aW5kb3cpIHtcbiAgICBsZXQgZWwgPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgcyA9IGVsLnN0eWxlLFxuICAgICAgICBwcmVmaXhBbmltYXRpb24gPSAnJyxcbiAgICAgICAgcHJlZml4VHJhbnNpdGlvbiA9ICcnO1xuXG4gICAgaWYgKHMuV2Via2l0QW5pbWF0aW9uID09ICcnKVxuICAgICAgICBwcmVmaXhBbmltYXRpb24gPSAnLXdlYmtpdC0nO1xuICAgIGlmIChzLk1vekFuaW1hdGlvbiA9PSAnJylcbiAgICAgICAgcHJlZml4QW5pbWF0aW9uID0gJy1tb3otJztcbiAgICBpZiAocy5PQW5pbWF0aW9uID09ICcnKVxuICAgICAgICBwcmVmaXhBbmltYXRpb24gPSAnLW8tJztcblxuICAgIGlmIChzLldlYmtpdFRyYW5zaXRpb24gPT0gJycpXG4gICAgICAgIHByZWZpeFRyYW5zaXRpb24gPSAnLXdlYmtpdC0nO1xuICAgIGlmIChzLk1velRyYW5zaXRpb24gPT0gJycpXG4gICAgICAgIHByZWZpeFRyYW5zaXRpb24gPSAnLW1vei0nO1xuICAgIGlmIChzLk9UcmFuc2l0aW9uID09ICcnKVxuICAgICAgICBwcmVmaXhUcmFuc2l0aW9uID0gJy1vLSc7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgJ29uQ1NTQW5pbWF0aW9uRW5kJywge1xuICAgICAgICB2YWx1ZTogZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBydW5PbmNlID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLnR5cGUsIHJ1bk9uY2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0QW5pbWF0aW9uRW5kJywgcnVuT25jZSk7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ21vekFuaW1hdGlvbkVuZCcsIHJ1bk9uY2UpO1xuICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdvQW5pbWF0aW9uRW5kJywgcnVuT25jZSk7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ29hbmltYXRpb25lbmQnLCBydW5PbmNlKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignYW5pbWF0aW9uZW5kJywgcnVuT25jZSk7XG4gICAgICAgICAgICBpZiAoKHByZWZpeEFuaW1hdGlvbiA9PSAnJyAmJiAhKCdhbmltYXRpb24nIGluIHMpKSB8fCBnZXRDb21wdXRlZFN0eWxlKHRoaXMpW3ByZWZpeEFuaW1hdGlvbiArICdhbmltYXRpb24tZHVyYXRpb24nXSA9PSAnMHMnKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoT2JqZWN0LnByb3RvdHlwZSwgJ29uQ1NTVHJhbnNpdGlvbkVuZCcsIHtcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgcnVuT25jZSA9IGZ1bmN0aW9uIHJ1bk9uY2UoZSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLnR5cGUsIHJ1bk9uY2UpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0VHJhbnNpdGlvbkVuZCcsIHJ1bk9uY2UpO1xuICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdtb3pUcmFuc2l0aW9uRW5kJywgcnVuT25jZSk7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ29UcmFuc2l0aW9uRW5kJywgcnVuT25jZSk7XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBydW5PbmNlKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIHJ1bk9uY2UpO1xuICAgICAgICAgICAgaWYgKHByZWZpeFRyYW5zaXRpb24gPT0gJycgJiYgISgndHJhbnNpdGlvbicgaW4gcykgfHwgZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzKVtwcmVmaXhUcmFuc2l0aW9uICsgJ3RyYW5zaXRpb24tZHVyYXRpb24nXSA9PSAnMHMnKVxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlXG4gICAgfSk7XG59KGRvY3VtZW50LCB3aW5kb3csIDApKTtcblxuLyogZXNsaW50LWRpc2FibGUgbm8tdW5kZWYgKi9cbmV4cG9ydCBkZWZhdWx0IG1vZHVsZTtcbiIsIi8qKlxuICogIEFDQ09SRElPTlxuICpcbiAqIEEgbGlnaHR3aWdodCB2YW5pbGxhIEpTIGFjY29yZGlvbiB3aXRoIGFuIGV4c3RlbnNpYmxlIEFQSVxuICovXG5cbi8vIGltcG9ydCB1dWlkIGZyb20gJ3V1aWQvdjQnO1xuLy8gY29uc3QgdXVpZFY0ID0gdXVpZDtcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVudXNlZC12YXJzICovXG5pbXBvcnQgYXJyYXlGcm9tUG9seWZpbGwgZnJvbSAnYXJyYXktZnJvbS1wb2x5ZmlsbCc7XG5pbXBvcnQgb25DU1NUcmFuc2l0aW9uRW5kIGZyb20gJ3RyYW5zaXRpb24tZW5kJztcblxuLyoqXG4gKiBDT05TVFJVQ1RPUlxuICogSW5pdGlhbGl6ZXMgdGhlIG9iamVjdFxuICovXG5jbGFzcyBCYWRnZXJBY2NvcmRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGVsLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHR5cGVvZiBlbCA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKSA6IGVsO1xuXG4gICAgICAgIC8vIElmIGVsIGlzIG5vdCBkZWZpbmVkXG4gICAgICAgIGlmIChjb250YWluZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cblxuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGhlYWRlckNsYXNzOiAgICAgICAgJy5qcy1iYWRnZXItYWNjb3JkaW9uLWhlYWRlcicsXG4gICAgICAgICAgICBwYW5lbENsYXNzOiAgICAgICAgICcuanMtYmFkZ2VyLWFjY29yZGlvbi1wYW5lbCcsXG4gICAgICAgICAgICBwYW5lbElubmVyQ2xhc3M6ICAgICcuanMtYmFkZ2VyLWFjY29yZGlvbi1wYW5lbC1pbm5lcicsXG4gICAgICAgICAgICBoaWRkZW5DbGFzczogICAgICAgICctYmEtaXMtaGlkZGVuJyxcbiAgICAgICAgICAgIGFjdGl2ZUNsYXNzOiAgICAgICAgJy1iYS1pcy1hY3RpdmUnLFxuICAgICAgICAgICAgZ2V0IGhpZGVuQ2xhc3MoKSB7IHJldHVybiB0aGlzLmhpZGRlbkNsYXNzOyB9LFxuICAgICAgICAgICAgaW5pdGlhbGl6ZWRDbGFzczogICAgJ2JhZGdlci1hY2NvcmRpb24tLWluaXRpYWxpemVkJyxcbiAgICAgICAgICAgIGdldCBpbml0YWxpc2VkQ2xhc3MoKSB7IHJldHVybiB0aGlzLmluaXRpYWxpemVkQ2xhc3M7IH0sXG4gICAgICAgICAgICBoZWFkZXJEYXRhQXR0cjogICAgICdkYXRhLWJhZGdlci1hY2NvcmRpb24taGVhZGVyLWlkJyxcbiAgICAgICAgICAgIG9wZW5NdWx0aXBsZVBhbmVsczogZmFsc2UsXG4gICAgICAgICAgICBvcGVuSGVhZGVyc09uTG9hZDogIFtdLFxuICAgICAgICAgICAgaGVhZGVyT3BlbkxhYmVsOiAgICAnJyxcbiAgICAgICAgICAgIGhlYWRlckNsb3NlTGFiZWw6ICAgJycsXG4gICAgICAgICAgICByb2xlczogICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIC8vIHRvZ2dsZUVsOiAgICAgICAgICAgIC8vIElmIHlvdSB3YW50IHRvIHVzZSBhIGRpZmZlcmVudCBlbGVtZW50IHRvIHRyaWdnZXIgdGhlIGFjY29yZGlvblxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIE9wdGlvbnNcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICAvLyBTZXR0aW5nIGdldHRpbmcgZWxlbWVudHNcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG5cbiAgICAgICAgLy8gU2VsZWN0aW5nIGNoaWxkcmVuIG9mIHRoZSBjdXJyZW50IGFjY29yZGlvbiBpbnN0YW5jZVxuICAgICAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20odGhpcy5jb250YWluZXIuY2hpbGRyZW4pO1xuICAgICAgICBcbiAgICAgICAgLy8gU2luY2UgdGhlIEFjY29yZGlvbnMgaGVhZGVyIGJ1dHRvbiBpcyBuZXN0ZWQgaW5zaWRlIGFuIGVsZW1lbnQgd2l0aCBjbGFzc1xuICAgICAgICAvLyBvZiBgYmFkZ2VyLWFjY29yZGlvbl9faGVhZGVyYCBpdCBpcyBhIGdyYW5kY2hpbGQgb2YgdGhlIGFjY29yZGlvbiBpbnN0YW5jZS5cbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gaGF2ZSBuZXN0ZWQgYWNjb3JkaW9ucyB3ZSBuZWVkIGVhY2ggdG8gb25seSBnZXQgYWxsIHRoZSBidXR0b24gXG4gICAgICAgIC8vIGVsZW1lbnRzIGZvciB0aGlzIGluc3RhbmNlLiBIZXJlIGFuIGFycmF5IGlzIGNyZWF0ZWQgdG8gc2hvdyBhbGwgdGhlIGNoaWxkcmVuXG4gICAgICAgIC8vIG9mIHRoZSBlbGVtZW50IGBiYWRnZXItYWNjb3JkaW9uX19oZWFkZXJgLlxuICAgICAgICBjb25zdCBoZWFkZXJQYXJlbnQgPSBjaGlsZHJlbi5maWx0ZXIoaGVhZGVyID0+ICFoZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuc2V0dGluZ3MucGFuZWxDbGFzcy5zdWJzdHIoMSkpKTtcblxuICAgICAgICAvLyBDcmVhdGluZyBhbiBhcnJheSBvZiBhbGwgRE9NIG5vZGVzIHRoYXQgYXJlIEFjY29yZGlvbiBoZWFkZXJzXG4gICAgICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlclBhcmVudC5yZWR1Y2UoKGFjYywgaGVhZGVyKSA9PiB7XG4gICAgICAgICAgICAvLyBHZXRzIGFsbCB0aGUgZWxlbWVudHMgdGhhdCBoYXZlIHRoZSBoZWFkZXJDbGFzc1xuICAgICAgICAgICAgY29uc3QgYSA9IEFycmF5LmZyb20oaGVhZGVyLmNoaWxkcmVuKS5maWx0ZXIoIGNoaWxkID0+IGNoaWxkLmNsYXNzTGlzdC5jb250YWlucyggdGhpcy5zZXR0aW5ncy5oZWFkZXJDbGFzcy5zdWJzdHIoMSkgKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIE1lcmdlcyB0aGUgY3VycmVudCBgYmFkZ2VyLWFjY29yZGlvbl9faGVhZGVyYCBhY2NvcmRpb24gdHJpZ2dlcnNcbiAgICAgICAgICAgIC8vIHdpdGggYWxsIHRoZSBvdGhlcnMuXG4gICAgICAgICAgICBhY2MgPSBbXS5jb25jYXQoLi4uYWNjLCBhKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICBcbiAgICAgICAgLy8gQ3JlYXRlcyBhbiBhcnJheSBvZiBhbGwgcGFuZWwgZWxlbWVudHMgZm9yIHRoaXMgaW5zdGFuY2Ugb2YgdGhlIGFjY29yZGlvblxuICAgICAgICB0aGlzLnBhbmVscyA9IGNoaWxkcmVuLmZpbHRlcihwYW5lbCA9PiBwYW5lbC5jbGFzc0xpc3QuY29udGFpbnMoIHRoaXMuc2V0dGluZ3MucGFuZWxDbGFzcy5zdWJzdHIoMSkgKSk7XG5cbiAgICAgICAgdGhpcy50b2dnbGVFbCA9IHRoaXMuc2V0dGluZ3MudG9nZ2xlRWwgIT09IHVuZGVmaW5lZCA/IEFycmF5LmZyb20odGhpcy5jb250YWluZXIucXVlcnlTZWxlY3RvckFsbCh0aGlzLnNldHRpbmdzLnRvZ2dsZUVsKSkgOiB0aGlzLmhlYWRlcnM7XG5cblxuICAgICAgICAvLyBUaGlzIGlzIGZvciBtYW5hZ2luZyBzdGF0ZSBvZiB0aGUgYWNjb3JkaW9uLiBJdCBieSBkZWZhdWx0IHNldHNcbiAgICAgICAgLy8gYWxsIGFjY29yZGlvbiBwYW5lbHMgdG8gYmUgY2xvc2VkXG4gICAgICAgIHRoaXMuc3RhdGVzID0gW10ubWFwLmNhbGwodGhpcy5oZWFkZXJzLCAoKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBzdGF0ZTogJ2Nsb3NlZCcgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5pZHMgPSBbXS5tYXAuY2FsbCh0aGlzLmhlYWRlcnMsICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7IGlkOiBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogMTAwMDAwMCkgKyAxKSB9O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBUaGlzIGlzIHRvIGVuc3VyZSB0aGF0IG9uY2UgYW4gb3Blbi9jbG9zZSBldmVudCBoYXMgYmVlbiBmaXJlZFxuICAgICAgICAvLyBhbm90aGVyIGNhbm5vdCBzdGFydCB1bnRpbCB0aGUgZmlyc3QgZXZlbnQgaGFzIGZpbmlzaGVkLlxuICAgICAgICAvLyBAVE9ETyAtIGdldCB0aGlzIHdvcmtpbmcuLi5cbiAgICAgICAgdGhpcy50b2dnbGluZyA9IGZhbHNlO1xuXG4gICAgICAgIC8vIEluaXRpYXRpbmcgdGhlIGFjY29yZGlvblxuICAgICAgICBpZiggdGhpcy5jb250YWluZXIgKSB7XG4gICAgICAgICAgICB0aGlzLmluaXQoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnNvbGUgKi9cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTb21ldGhpbmcgaXMgd3Jvbmcgd2l0aCB5b3UgbWFya3VwLi4uJyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBJTklUXG4gICAgICpcbiAgICAgKiAgSW5pdGFsaXNlcyB0aGUgYWNjb3JkaW9uXG4gICAgICovXG4gICAgaW5pdCgpIHtcbiAgICAgICAgLy8gU2V0cyB1cCBJRCwgYXJpYSBhdHRycyAmIGRhdGEtYXR0cnNcbiAgICAgICAgdGhpcy5fc2V0dXBBdHRyaWJ1dGVzKCk7XG5cbiAgICAgICAgLy8gU2V0dGluZyB1cCB0aGUgaW5pdGFsIHZpZXcgb2YgdGhlIGFjY29yZGlvblxuICAgICAgICB0aGlzLl9pbml0YWxTdGF0ZSgpO1xuXG4gICAgICAgIC8vIFNldHRpbmcgdGhlIGhlaWdodCBvZiBlYWNoIHBhbmVsXG4gICAgICAgIHRoaXMuY2FsY3VsYXRlQWxsUGFuZWxzSGVpZ2h0KCk7XG5cbiAgICAgICAgLy8gSW5zZXJ0aW5nIGRhdGEtYXR0cmlidXRlIG9udG8gZWFjaCBgaGVhZGVyYFxuICAgICAgICB0aGlzLl9pbnNlcnREYXRhQXR0cnMoKTtcblxuICAgICAgICAvLyBBZGRpbmcgbGlzdGVuZXJzIHRvIGhlYWRlcnNcbiAgICAgICAgdGhpcy5fYWRkTGlzdGVuZXJzKCk7XG5cbiAgICAgICAgLy8gQWRkcyBjbGFzcyB0byBhY2NvcmRpb24gZm9yIGluaXRhbGlzYXRpb25cbiAgICAgICAgdGhpcy5fZmluaXNoSW5pdGlhbGl6YXRpb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDSEVDSyBST0xFUyBFVFRJTkdcbiAgICAgKiBAcmV0dXJuIHtbYm9vbGVhbl19XG4gICAgICogQ2hlY2tzIHJvbGVzIHNldHRpbmcgZm9yIGFsbCByb2xlcyBvciBhIHNpbmdsZSByb2xlLlxuICAgICAqIEZpcnN0IGNoZWNrcyBpZiBhIGBib29sZWFuYCBoYXMgYmVlbiB1c2VkIHRvIHNldCBhbGxcbiAgICAgKiByb2xlcyB0byBlaXRoZXIgdHJ1ZSBvciBmYWxzZS4gSWYgdGhlIHNldHRpbmcgaXMgYW5cbiAgICAgKiBvYmplY3QgaXQgd2lsbCBvbmx5IHNldCB0aGUgYXR0cmlidXRlIHdoZXJlIGVhY2hcbiAgICAgKiBhdHRyaWJ1dGUgaGFzIGV4cGxpY2l0bHkgYmVlbiBzZXQgYXMgdHJ1ZSwgZWc7XG4gICAgICogYGBgXG4gICAgICogcm9sZXM6IHtcbiAgICAgKiAgICAgcmVnaW9uOiB0cnVlXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIF9zZXRSb2xlKHJvbGUsIGVsKSB7XG4gICAgICAgIGlmKHR5cGVvZiB0aGlzLnNldHRpbmdzLnJvbGVzID09PSAnYm9vbGVhbicgJiYgdGhpcy5zZXR0aW5ncy5yb2xlcyB8fCB0aGlzLnNldHRpbmdzLnJvbGVzW3JvbGVdICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zZXR0aW5ncy5yb2xlc1tyb2xlXSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGVsLnNldEF0dHJpYnV0ZSgncm9sZScsIHJvbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgSU5TRVJUIERBVEEgQVRUUlNcbiAgICAgKlxuICAgICAqICBVcGRhdGVzIHN0YXRlIG9iamVjdCBmb3IgaW5pdGFsIGxvYWRpbmcgb2YgdGhlIGFjY29yZGlvblxuICAgICAqL1xuICAgIF9pbml0YWxTdGF0ZSgpIHtcbiAgICAgICAgLy8gU2V0cyBzdGF0ZSBvYmplY3QgYXMgcGVyIGB0aGlzLnNldHRpbmdzLm9wZW5IZWFkZXJzT25Mb2FkYFxuICAgICAgICBjb25zdCBoZWFkZXJzVG9PcGVuID0gdGhpcy5zZXR0aW5ncy5vcGVuSGVhZGVyc09uTG9hZDtcblxuICAgICAgICBpZiAoaGVhZGVyc1RvT3Blbi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuX29wZW5IZWFkZXJzT25Mb2FkKGhlYWRlcnNUb09wZW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmVuZGVyIERPTSBhcyBwZXIgdGhlIHVwZGF0ZXMgYHRoaXMuc3RhdGVzYCBvYmplY3RcbiAgICAgICAgdGhpcy5fcmVuZGVyRG9tKCk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgSU5TRVJUIERBVEEgQVRUUlNcbiAgICAgKlxuICAgICAqICBBZGRzIGBoZWFkZXJEYXRhQXR0cmAgdG8gYWxsIGhlYWRlcnNcbiAgICAgKi9cbiAgICBfaW5zZXJ0RGF0YUF0dHJzKCkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuZm9yRWFjaCggKGhlYWRlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGhlYWRlci5zZXRBdHRyaWJ1dGUodGhpcy5zZXR0aW5ncy5oZWFkZXJEYXRhQXR0ciwgaW5kZXgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBGSU5JU0ggSU5JVEFMSVNBVElPTlxuICAgICAqXG4gICAgICogIEFkZHMgaW4gYGluaXRpYWxpemVkQ2xhc3NgIHRvIGFjY29yZGlvblxuICAgICAqL1xuICAgIF9maW5pc2hJbml0aWFsaXphdGlvbigpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCh0aGlzLnNldHRpbmdzLmluaXRpYWxpemVkQ2xhc3MpO1xuICAgICAgICB0aGlzLl9zZXRSb2xlKCdwcmVzZW50YXRpb24nLCB0aGlzLmNvbnRhaW5lcik7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgQUREIExJU1RFTkVSU1xuICAgICAqXG4gICAgICogIEFkZHMgY2xpY2sgZXZlbnQgdG8gZWFjaCBoZWFkZXJcbiAgICAgKi9cbiAgICBfYWRkTGlzdGVuZXJzKCkge1xuICAgICAgICAvLyBTbyB3ZSBjYW4gcmVmZXJlbmNlIHRoZSBiYWRnZXItYWNjb3JkaW9uIG9iamVjdCBpbnNpZGUgb3V0IGV2ZW50TGlzdGVuZXJcbiAgICAgICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgIC8vIEFkZGluZyBjbGljayBldmVudCB0byBhY2NvcmRpb25cbiAgICAgICAgdGhpcy5oZWFkZXJzLmZvckVhY2goKGhlYWRlciwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIEdldHRpbmcgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2tcbiAgICAgICAgICAgICAgICAvLyBjb25zdCBjbGlja2VkRWwgPSBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVDbGljayhoZWFkZXIsIGluZGV4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBIQU5ETEUgQ0xJQ0tcbiAgICAgKlxuICAgICAqICBIYW5kbGVzIGNsaWNrIGFuZCBjaGVja3MgaWYgY2xpY2sgd2FzIG9uIGFuIGhlYWRlciBlbGVtZW50XG4gICAgICogIEBwYXJhbSB7b2JqZWN0fSB0YXJnZXRIZWFkZXIgLSBUaGUgaGVhZGVyIG5vZGUgeW91IHdhbnQgdG8gb3BlblxuICAgICAqL1xuICAgIGhhbmRsZUNsaWNrKHRhcmdldEhlYWRlciwgaGVhZGVySW5kZXgpIHtcbiAgICAgICAgLy8gUmVtb3ZpbmcgY3VycmVudCBgLmAgZnJvbSBgdGhpcy5zZXR0aW5ncy5oZWFkZXJDbGFzc2AgY2xhc3Mgc28gaXQgY2FuXG4gICAgICAgIC8vIGJlIGNoZWNrZWQgYWdhaW5zdCB0aGUgYHRhcmdldEhlYWRlcmAgY2xhc3NMaXN0XG4gICAgICAgIGNvbnN0IHRhcmdldEhlYWRlckNsYXNzID0gdGhpcy5zZXR0aW5ncy5oZWFkZXJDbGFzcy5zdWJzdHIoMSk7XG5cbiAgICAgICAgLy8gQ2hlY2tpbmcgdGhhdCB0aGUgdGhpbmcgdGhhdCB3YXMgY2xpY2tlZCBvbiB3YXMgdGhlIGFjY29yZGlvbnMgaGVhZGVyXG4gICAgICAgIGlmICh0YXJnZXRIZWFkZXIuY2xhc3NMaXN0LmNvbnRhaW5zKHRhcmdldEhlYWRlckNsYXNzKSAmJiB0aGlzLnRvZ2dsaW5nID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy50b2dnbGluZyA9IHRydWU7XG5cbiAgICAgICAgICAgIC8vIFVwZGF0aW5nIHN0YXRlc1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShoZWFkZXJJbmRleCk7XG5cbiAgICAgICAgICAgIC8vIFJlbmRlciBET00gYXMgcGVyIHRoZSB1cGRhdGVzIGB0aGlzLnN0YXRlc2Agb2JqZWN0XG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJEb20oKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogIFNFVCBTVEFURVNcbiAgICAgKlxuICAgICAqICBTZXRzIHRoZSBzdGF0ZSBmb3IgYWxsIGhlYWRlcnMuIFRoZSAndGFyZ2V0IGhlYWRlcicgd2lsbCBoYXZlIGl0cyBzdGF0ZSB0b2dnZWxlZFxuICAgICAqICBAcGFyYW0ge29iamVjdH0gdGFyZ2V0SGVhZGVySWQgLSBUaGUgaGVhZGVyIG5vZGUgeW91IHdhbnQgdG8gb3BlblxuICAgICAqL1xuICAgIHNldFN0YXRlKHRhcmdldEhlYWRlcklkKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlcyA9IHRoaXMuZ2V0U3RhdGUoKTtcblxuICAgICAgICAvLyBJZiBgdGhpcy5zZXR0aW5ncy5vcGVuTXVsdGlwbGVQYW5lbHNgIGlzIGZhbHNlIHdlIG5lZWQgdG8gZW5zdXJlIG9ubHkgb25lIHBhbmVsXG4gICAgICAgIC8vIGJlIGNhbiBvcGVuIGF0IG9uY2UuIElmIGl0IGlzIGZhbHNlIHRoZW4gYWxsIHBhbmVscyBzdGF0ZSBBUEFSVCBmcm9tIHRoZSBvbmUgdGhhdFxuICAgICAgICAvLyBoYXMganVzdCBiZWVuIGNsaWNrZWQgbmVlZHMgdG8gYmUgc2V0IHRvICdjbG9zZWQnLlxuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3Mub3Blbk11bHRpcGxlUGFuZWxzKSB7XG4gICAgICAgICAgICBzdGF0ZXMuZmlsdGVyKChzdGF0ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggIT0gdGFyZ2V0SGVhZGVySWQpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUuc3RhdGUgPSAnY2xvc2VkJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRvZ2dsZXMgdGhlIHN0YXRlIHZhbHVlIG9mIHRoZSB0YXJnZXQgaGVhZGVyLiBUaGlzIHdhcyBgYXJyYXkuZmluZGAgYnV0IGBmaW5kYFxuICAgICAgICAvLyBpc250IHN1cHBvcnRlZCBpbiBJRTExXG4gICAgICAgIHN0YXRlcy5maWx0ZXIoKHN0YXRlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGluZGV4ID09IHRhcmdldEhlYWRlcklkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV3U3RhdGUgPSB0aGlzLnRvZ2dsZVN0YXRlKHN0YXRlLnN0YXRlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gKHN0YXRlLnN0YXRlID0gbmV3U3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBSRU5ERVIgRE9NXG4gICAgICpcbiAgICAgKiAgUmVuZGVycyB0aGUgYWNjb3JkaW9uIGluIHRoZSBET00gdXNpbmcgdGhlIGB0aGlzLnN0YXRlc2Agb2JqZWN0XG4gICAgICovXG4gICAgX3JlbmRlckRvbSgpIHtcbiAgICAgICAgLy8gRmlsdGVyIHRocm91Z2ggYWxsIG9wZW4gaGVhZGVycyBhbmQgb3BlbiB0aGVtXG4gICAgICAgIHRoaXMuc3RhdGVzLmZpbHRlciggKHN0YXRlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYoc3RhdGUuc3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICAgICAgICAgIC8vIE9wZW5pbmcgdGhlIGN1cnJlbnQgcGFuZWwgYnV0IF9OT1RfIHVwZGF0aW5nIHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgIHRoaXMub3BlbihpbmRleCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBGaWx0ZXIgdGhyb3VnaCBhbGwgY2xvc2VkIGhlYWRlcnMgYW5kIGNsb3NlcyB0aGVtXG4gICAgICAgIHRoaXMuc3RhdGVzLmZpbHRlciggKHN0YXRlLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYoc3RhdGUuc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2xvc2luZyB0aGUgY3VycmVudCBwYW5lbCBidXQgX05PVF8gdXBkYXRpbmcgdGhlIHN0YXRlXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZShpbmRleCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBPUEVOXG4gICAgICpcbiAgICAgKiAgQ2xvc2VzIGEgc3BlY2lmaWMgcGFuZWxcbiAgICAgKiAgQHBhcmFtIHtpbnRlZ2VyfSBoZWFkZXJJbmRleCAtIFRoZSBoZWFkZXIgbm9kZSBpbmRleCB5b3Ugd2FudCB0byBvcGVuXG4gICAgICovXG4gICAgb3BlbihoZWFkZXJJbmRleCwgc2V0U3RhdGUgPSB0cnVlKSB7XG4gICAgICAgIC8vIDEuIElmIGJlaW5nIGZpcmVkIGRpcmVjdGx5IHRoZSBzdGF0ZSBuZWVkcyB0byBiZSB1cGRhdGVkLlxuICAgICAgICBpZihzZXRTdGF0ZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShoZWFkZXJJbmRleCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRvZ2dsZVBhbmVsKCdvcGVuJywgaGVhZGVySW5kZXgpO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogIENMT1NFXG4gICAgICpcbiAgICAgKiAgQ2xvc2VzIGEgc3BlY2lmaWMgcGFuZWxcbiAgICAgKiAgQHBhcmFtIHtpbnRlZ2VyfSBoZWFkZXJJbmRleCAtIFRoZSBoZWFkZXIgbm9kZSBpbmRleCB5b3Ugd2FudCB0byBjbG9zZVxuICAgICAqL1xuICAgIGNsb3NlKGhlYWRlckluZGV4LCBzZXRTdGF0ZSA9IHRydWUpIHtcbiAgICAgICAgLy8gMS4gSWYgYmVpbmcgZmlyZWQgZGlyZWN0bHkgdGhlIHN0YXRlIG5lZWRzIHRvIGJlIHVwZGF0ZWQuXG4gICAgICAgIGlmKHNldFN0YXRlKSB7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKGhlYWRlckluZGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudG9nZ2xlUGFuZWwoJ2Nsb3NlZCcsIGhlYWRlckluZGV4KTtcbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBPUEVOIEFMTFxuICAgICAqXG4gICAgICogIE9wZW5zIGFsbCBwYW5lbHNcbiAgICAgKi9cbiAgICBvcGVuQWxsKCkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuZm9yRWFjaCgoaGVhZGVyLCBoZWFkZXJJbmRleCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50b2dnbGVQYW5lbCgnb3BlbicsIGhlYWRlckluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgQ0xPU0UgQUxMXG4gICAgICpcbiAgICAgKiAgQ2xvc2VzIGFsbCBwYW5lbHNcbiAgICAgKi9cbiAgICBjbG9zZUFsbCgpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLmZvckVhY2goKGhlYWRlciwgaGVhZGVySW5kZXgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGFuZWwoJ2Nsb3NlZCcsIGhlYWRlckluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cbiAgICAvKipcbiAgICAgKiAgR0VUIFNUQVRFXG4gICAgICpcbiAgICAgKiAgR2V0dGluZyBzdGF0ZSBvZiBoZWFkZXJzLiBCeSBkZWZhdWx0IGdldHMgc3RhdGUgb2YgYWxsIGhlYWRlcnNcbiAgICAgKiAgQHBhcmFtIHtzdHJpbmd9IGFuaW1hdGlvbkFjdGlvbiAtIFRoZSBhbmltYXRpb24geW91IHdhbnQgdG8gaW52b2tlXG4gICAgICogIEBwYXJhbSB7aW50ZWdlcn0gaGVhZGVySW5kZXggICAgLSBUaGUgaGVhZGVyIG5vZGUgaW5kZXggeW91IHdhbnQgdG8gYW5pbWF0ZVxuICAgICAqL1xuICAgIHRvZ2dsZVBhbmVsKGFuaW1hdGlvbkFjdGlvbiwgaGVhZGVySW5kZXgpIHtcbiAgICAgICAgaWYoYW5pbWF0aW9uQWN0aW9uICE9PSB1bmRlZmluZWQgJiYgaGVhZGVySW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYoYW5pbWF0aW9uQWN0aW9uID09PSAnY2xvc2VkJykge1xuICAgICAgICAgICAgICAgIC8vIDEuIEdldHRpbmcgSUQgb2YgcGFuZWwgdGhhdCB3ZSB3YW50IHRvIGNsb3NlXG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyICAgICAgICA9IHRoaXMuaGVhZGVyc1toZWFkZXJJbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgcGFuZWxUb0Nsb3NlICA9IHRoaXMucGFuZWxzW2hlYWRlckluZGV4XTtcblxuICAgICAgICAgICAgICAgIC8vIDIuIENsb3NlaW5nIHBhbmVsXG4gICAgICAgICAgICAgICAgcGFuZWxUb0Nsb3NlLmNsYXNzTGlzdC5hZGQodGhpcy5zZXR0aW5ncy5oaWRkZW5DbGFzcyk7XG5cbiAgICAgICAgICAgICAgICAvLyAzLiBSZW1vdmluZyBhY3RpdmUgY2xhc3Nlc1xuICAgICAgICAgICAgICAgIHBhbmVsVG9DbG9zZS5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2V0dGluZ3MuYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2V0dGluZ3MuYWN0aXZlQ2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgLy8gNC4gU2V0IGFyaWEgYXR0cnNcbiAgICAgICAgICAgICAgICBoZWFkZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgZmFsc2UpO1xuXG4gICAgICAgICAgICAgICAgLy8gNS4gUmVzZXR0aW5nIHRvZ2dsaW5nIHNvIGEgbmV3IGV2ZW50IGNhbiBiZSBmaXJlZFxuICAgICAgICAgICAgICAgIHBhbmVsVG9DbG9zZS5vbkNTU1RyYW5zaXRpb25FbmQoKCkgPT4gdGhpcy50b2dnbGluZyA9IGZhbHNlICk7XG4gICAgICAgICAgICB9IGVsc2UgaWYoYW5pbWF0aW9uQWN0aW9uID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgICAgICAvLyAxLiBHZXR0aW5nIElEIG9mIHBhbmVsIHRoYXQgd2Ugd2FudCB0byBvcGVuXG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyICAgICAgPSB0aGlzLmhlYWRlcnNbaGVhZGVySW5kZXhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhbmVsVG9PcGVuID0gdGhpcy5wYW5lbHNbaGVhZGVySW5kZXhdO1xuXG4gICAgICAgICAgICAgICAgLy8gMi4gT3BlbmluZyBwYW5lbFxuICAgICAgICAgICAgICAgIHBhbmVsVG9PcGVuLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZXR0aW5ncy5oaWRkZW5DbGFzcyk7XG5cbiAgICAgICAgICAgICAgICAvLyAzLiBBZGRpbmcgYWN0aXZlIGNsYXNzZXNcbiAgICAgICAgICAgICAgICBwYW5lbFRvT3Blbi5jbGFzc0xpc3QuYWRkKHRoaXMuc2V0dGluZ3MuYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIGhlYWRlci5jbGFzc0xpc3QuYWRkKHRoaXMuc2V0dGluZ3MuYWN0aXZlQ2xhc3MpO1xuXG4gICAgICAgICAgICAgICAgLy8gNC4gU2V0IGFyaWEgYXR0cnNcbiAgICAgICAgICAgICAgICBoZWFkZXIuc2V0QXR0cmlidXRlKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAvLyA1LiBSZXNldHRpbmcgdG9nZ2xpbmcgc28gYSBuZXcgZXZlbnQgY2FuIGJlIGZpcmVkXG4gICAgICAgICAgICAgICAgcGFuZWxUb09wZW4ub25DU1NUcmFuc2l0aW9uRW5kKCgpID0+IHRoaXMudG9nZ2xpbmcgPSBmYWxzZSApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICAvLyBAVE9ETyAtIGlzIHRoaXMgbmVlZGVkIGFueW1vcmU/XG4gICAgLy8gY2hlY2tTdGF0ZShoZWFkZXJJZCkge1xuICAgIC8vICAgICBsZXQgc3RhdGUgPSB0aGlzLnN0YXRlc1toZWFkZXJJZF0uc3RhdGU7XG4gICAgLy9cbiAgICAvLyAgICAgaWYoc3RhdGUgPT09ICdjbG9zZWQnKSB7XG4gICAgLy8gICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgLy8gICAgIH0gZWxzZSBpZihzdGF0ZSA9PT0gJ29wZW4nKSB7XG4gICAgLy8gICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgLy8gICAgIH1cbiAgICAvLyB9XG5cblxuICAgIC8qKlxuICAgICAqICBHRVQgU1RBVEVcbiAgICAgKlxuICAgICAqICBHZXR0aW5nIHN0YXRlIG9mIGhlYWRlcnMuIEJ5IGRlZmF1bHQgZ2V0cyBzdGF0ZSBvZiBhbGwgaGVhZGVyc1xuICAgICAqICBAcGFyYW0ge2FycmF5fSBoZWFkZXJJZHMgLSBJZC8ncyBvZiB0aGUgaGVhZGVycyB5b3Ugd2FudCB0byBjaGVja1xuICAgICAqL1xuICAgIGdldFN0YXRlKGhlYWRlcklkcyA9IFtdKSB7XG4gICAgICAgIGlmKGhlYWRlcklkcy5sZW5ndGggJiYgQXJyYXkuaXNBcnJheShoZWFkZXJJZHMpKSB7XG4gICAgICAgICAgICBsZXQgc3RhdGVzID0gaGVhZGVySWRzLm1hcCggaGVhZGVyID0+IHRoaXMuc3RhdGVzW2hlYWRlcl0gKTtcblxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnN0YXRlcztcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogIFRPR0dMRSBTVEFURVxuICAgICAqXG4gICAgICogIFRvZ2dsaW5nIHRoZSBzdGF0ZSB2YWx1ZVxuICAgICAqICBAcGFyYW0ge3N0cmluZ30gY3VycmVudFN0YXRlIC0gQ3VycmVudCBzdGF0ZSB2YWx1ZSBmb3IgYSBoZWFkZXJcbiAgICAgKi9cbiAgICB0b2dnbGVTdGF0ZShjdXJyZW50U3RhdGUpIHtcbiAgICAgICAgaWYoY3VycmVudFN0YXRlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAoY3VycmVudFN0YXRlID09PSAnY2xvc2VkJykgPyAnb3BlbicgOiAnY2xvc2VkJztcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiAgSEVBREVSUyBUTyBPUEVOXG4gICAgICpcbiAgICAgKiAgU2V0dGluZyB3aGljaCBoZWFkZXJzIHNob3VsZCBiZSBvcGVuIHdoZW4gYWNjb3JkaW9uIGlzIGluaXRhbGlzZWRcbiAgICAgKiAgQHBhcmFtIHthcnJheX0gaGVhZGVyc1RvT3BlbiAtIEFycmF5IG9mIElEJ3MgZm9yIHRoZSBoZWFkZXJzIHRvIGJlIG9wZW5cbiAgICAgKi9cbiAgICBfb3BlbkhlYWRlcnNPbkxvYWQoaGVhZGVyc1RvT3BlbiA9IFtdKSB7XG4gICAgICAgIGlmIChoZWFkZXJzVG9PcGVuLmxlbmd0aCAmJiBBcnJheS5pc0FycmF5KGhlYWRlcnNUb09wZW4pKSB7XG4gICAgICAgICAgICBsZXQgaGVhZGVycyA9IGhlYWRlcnNUb09wZW4uZmlsdGVyKGhlYWRlciA9PiBoZWFkZXIgIT0gdW5kZWZpbmVkKTtcblxuICAgICAgICAgICAgaGVhZGVycy5mb3JFYWNoKGhlYWRlciA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShoZWFkZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIC8qKlxuICAgICAqICBTRVQgVVAgQVRUUklCVVRFU1xuICAgICAqXG4gICAgICogIEluaXRhbGlzZXMgYWNjb3JkaW9uIGF0dHJpYnV0ZSBtZXRob2RzXG4gICAgICovXG4gICAgX3NldHVwQXR0cmlidXRlcygpIHtcbiAgICAgICAgLy8gQWRkaW5nIElEICYgYXJpYS1jb250cm9sc1xuICAgICAgICB0aGlzLl9zZXR1cEhlYWRlcnMoKTtcblxuICAgICAgICAvLyBBZGRpbmcgSUQgJiBhcmlhLWxhYmVsbGVkYnlcbiAgICAgICAgdGhpcy5fc2V0dXBQYW5lbHMoKTtcblxuICAgICAgICAvLyBJbnNlcnRpbmcgZGF0YS1hdHRyaWJ1dGUgb250byBlYWNoIGBoZWFkZXJgXG4gICAgICAgIHRoaXMuX2luc2VydERhdGFBdHRycygpO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiAgU0VUIFBBTkVMIEhFSUdIVCAtICoqIERFUFJJQ0FURUQgKipcbiAgICAgKlxuICAgICAqICBEZXByZWljYXRlZCBhcyB0aGlzIG1ldGhvZCBpcyBiZWNvbWluZyBwdWJsaWMgYW5kXG4gICAgICogIEkgd2FudCB0byBuYW1lIGl0IHNvbWV0aGluZyB0aGF0IGxldHMgZGV2cyBrbm93XG4gICAgICogIGl0J3Mgbm90IGp1c3QgZm9yIHVzaW5nIGluc2lkZSB0aGUgYGluaXQoKWAgbWV0aG9kLlxuICAgICAqL1xuICAgIF9zZXRQYW5lbEhlaWdodCgpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVBbGxQYW5lbHNIZWlnaHQoKTtcbiAgICB9XG5cblxuXG4gICAgLyoqXG4gICAgICogIENBTENVTEFURSBQQU5FTCBIRUlHSFRcbiAgICAgKlxuICAgICAqICBTZXR0aW5nIGhlaWdodCBmb3IgcGFuZWxzIHVzaW5nIHBhbm5lbHMgaW5uZXIgZWxlbWVudFxuICAgICAqL1xuICAgIGNhbGN1bGF0ZVBhbmVsSGVpZ2h0KHBhbmVsKSB7XG4gICAgICAgIGNvbnN0IHBhbmVsSW5uZXIgPSBwYW5lbC5xdWVyeVNlbGVjdG9yKHRoaXMuc2V0dGluZ3MucGFuZWxJbm5lckNsYXNzKTtcblxuICAgICAgICBsZXQgYWN0aXZlSGVpZ2h0ID0gcGFuZWxJbm5lci5vZmZzZXRIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIHBhbmVsLnN0eWxlLm1heEhlaWdodCA9IGAke2FjdGl2ZUhlaWdodH1weGA7XG4gICAgfVxuXG5cblxuICAgIC8qKlxuICAgICAqICBDQUxDVUxBVEUgUEFORUwgSEVJR0hUXG4gICAgICpcbiAgICAgKiAgU2V0dGluZyBoZWlnaHQgZm9yIHBhbmVscyB1c2luZyBwYW5uZWxzIGlubmVyIGVsZW1lbnRcbiAgICAgKi9cbiAgICBjYWxjdWxhdGVBbGxQYW5lbHNIZWlnaHQoKSB7XG4gICAgICAgIHRoaXMucGFuZWxzLmZvckVhY2gocGFuZWwgPT4ge1xuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVQYW5lbEhlaWdodChwYW5lbCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG5cbiAgICAvKipcbiAgICAgKiBTRVQgVVAgSEVBREVSU1xuICAgICAqL1xuICAgIF9zZXR1cEhlYWRlcnMoKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5mb3JFYWNoKCAoaGVhZGVyLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaGVhZGVyLnNldEF0dHJpYnV0ZSgnaWQnLCBgYmFkZ2VyLWFjY29yZGlvbi1oZWFkZXItJHt0aGlzLmlkc1tpbmRleF0uaWR9YCk7XG4gICAgICAgICAgICBoZWFkZXIuc2V0QXR0cmlidXRlKCdhcmlhLWNvbnRyb2xzJywgYGJhZGdlci1hY2NvcmRpb24tcGFuZWwtJHt0aGlzLmlkc1tpbmRleF0uaWR9YCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuXG4gICAgLyoqXG4gICAgICogU0VUIFVQIFBBTkVMU1xuICAgICAqL1xuICAgIF9zZXR1cFBhbmVscygpIHtcbiAgICAgICAgdGhpcy5wYW5lbHMuZm9yRWFjaCggKHBhbmVsLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKCdpZCcsIGBiYWRnZXItYWNjb3JkaW9uLXBhbmVsLSR7dGhpcy5pZHNbaW5kZXhdLmlkfWApO1xuICAgICAgICAgICAgcGFuZWwuc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknLCBgYmFkZ2VyLWFjY29yZGlvbi1oZWFkZXItJHt0aGlzLmlkc1tpbmRleF0uaWR9YCk7XG4gICAgICAgICAgICBpZih0aGlzLnNldHRpbmdzLnJvbGVzID09PSB0cnVlIHx8IHRoaXMuc2V0dGluZ3Mucm9sZXMucmVnaW9uICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX3NldFJvbGUoJ3JlZ2lvbicsIHBhbmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cbi8vIEV4cG9ydFxuZXhwb3J0IGRlZmF1bHQgQmFkZ2VyQWNjb3JkaW9uO1xuIiwiaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IHtcclxuICB0bnNcclxufSBmcm9tICcuLi8uLi8uLi9ub2RlX21vZHVsZXMvdGlueS1zbGlkZXIvc3JjL3Rpbnktc2xpZGVyJztcclxuaW1wb3J0IG9mZnNpZGUgZnJvbSBcIm9mZnNpZGUtanNcIjtcclxuaW1wb3J0IE1pY3JvTW9kYWwgZnJvbSAnbWljcm9tb2RhbCc7XHJcbmltcG9ydCBSZWxsYXggZnJvbSAncmVsbGF4JztcclxuaW1wb3J0IEJhZGdlckFjY29yZGlvbiBmcm9tICdiYWRnZXItYWNjb3JkaW9uJztcclxuXHJcblxyXG5pbXBvcnQgJy4vY29tcG9uZW50cy9kb2NzJztcclxuXHJcblxyXG5cclxuXHJcblxyXG4vLyBBQ0NPUkRJT05cclxuY29uc3QgYWNjb3JkaW9uRG9tTm9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5qcy1iYWRnZXItYWNjb3JkaW9uJyk7XHJcblxyXG5jb25zdCBhY2NvcmRpb24gPSBuZXcgQmFkZ2VyQWNjb3JkaW9uKGFjY29yZGlvbkRvbU5vZGUpO1xyXG5cclxuXHJcbi8vIFJFTEFYIFBBUkFMTEFYXHJcblxyXG5cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnJlbGxheFwiKSkge1xyXG4gIHZhciByZWxsYXggPSBuZXcgUmVsbGF4KCcucmVsbGF4Jywge1xyXG4gICAgc3BlZWQ6IC0yLFxyXG4gICAgY2VudGVyOiBmYWxzZSxcclxuICAgIC8vIHdyYXBwZXI6ICcucmVsbGF4LXdycCcsXHJcbiAgICByb3VuZDogdHJ1ZSxcclxuICAgIHZlcnRpY2FsOiB0cnVlLFxyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuLy8gY29uc29sZS5sb2cocmVsbGF4KTtcclxuXHJcbi8vIFRJTlkgU0xJREVSXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kb2Mtc2xpZGVyXCIpKSB7XHJcbiAgdmFyIHNsaWRlciA9IHRucyh7XHJcbiAgICBjb250YWluZXI6IFwiLmRvYy1zbGlkZXJcIixcclxuICAgIGl0ZW1zOiA0LFxyXG4gICAgZ3V0dGVyOiA0MCxcclxuICAgIGNvbnRyb2xzOiB0cnVlLFxyXG4gICAgY29udHJvbHNDb250YWluZXI6IFwiLmRvYy1zbGlkZXJfX2NvbnRyb2xzXCIsXHJcbiAgICBuYXY6IGZhbHNlLFxyXG4gICAgcmVzcG9uc2l2ZToge1xyXG4gICAgICBcIjEyODBcIjoge1xyXG4gICAgICAgIGl0ZW1zOiA0LFxyXG4gICAgICAgIGNvbnRyb2xzOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgIFwiOTgwXCI6IHtcclxuICAgICAgICBpdGVtczogMyxcclxuICAgICAgICBjb250cm9sczogdHJ1ZVxyXG4gICAgICB9LFxyXG4gICAgICBcIjc2M1wiOiB7XHJcbiAgICAgICAgaXRlbXM6IDJcclxuICAgICAgfSxcclxuICAgICAgXCI0ODBcIjoge1xyXG4gICAgICAgIGl0ZW1zOiAxXHJcbiAgICAgIH0sXHJcbiAgICAgIFwiMFwiOiB7XHJcbiAgICAgICAgaXRlbXM6IDFcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5cclxuaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2xpZGVyXCIpKSB7XHJcbiAgdmFyIHNsaWRlciA9IHRucyh7XHJcbiAgICBuYXZDb250YWluZXI6IFwiLnNsaWRlci1jb250cm9sc1wiLFxyXG4gICAgbmF2QXNUaHVtYm5haWxzOiB0cnVlLFxyXG4gICAgY29udHJvbHM6IGZhbHNlXHJcbiAgfSk7XHJcbn1cclxuXHJcblxyXG5cclxuLy8gT0ZGU0lERVxyXG5cclxudmFyIG15T2Zmc2lkZSA9IG9mZnNpZGUoXCIub2Zmc2lkZS1tZW51XCIsIHtcclxuICBzbGlkaW5nRWxlbWVudHNTZWxlY3RvcjogXCIub2Zmc2lkZV9fY29udGFpbmVyXCIsXHJcbiAgYnV0dG9uc1NlbGVjdG9yOiBcIi5vZmZzaWRlX19idXR0b24sIC5vZmZzaWRlX19jbG9zZVwiLFxyXG4gIGJlZm9yZU9wZW46IGZ1bmN0aW9uICgpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb2Zmc2lkZS1qcy0taW50ZXJhY3QnKTtcclxuICB9LFxyXG5cclxuICBhZnRlck9wZW46IGZ1bmN0aW9uICgpIHtcclxuICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnb3ZlcmZsb3cteScpO1xyXG4gIH0sXHJcbiAgYmVmb3JlQ2xvc2U6IGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgfSxcclxuICBhZnRlckNsb3NlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ29mZnNpZGUtanMtLWludGVyYWN0Jyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoJ292ZXJmbG93LXknKTtcclxuICB9LFxyXG59KTtcclxuXHJcbnZhciBvdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wYWdlLW92ZXJsYXlcIik7XHJcbm92ZXJsYXkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG15T2Zmc2lkZS5jbG9zZUFsbCk7XHJcblxyXG5cclxuLy8gVEFCU1xyXG5cclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAvLyBWYXJpYWJsZXNcclxuICB2YXIgdGFiTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLnRhYnNfX2xpbmtcIik7XHJcbiAgdmFyIHRhYkNvbnRlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi50YWJzX19pdGVtXCIpO1xyXG5cclxuICAvLyBMb29wIHRocm91Z2ggdGhlIHRhYiBsaW5rXHJcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB0YWJMaW5rcy5sZW5ndGg7IGkrKykge1xyXG4gICAgdGFiTGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdmFyIGlkID0gdGhpcy5oYXNoLnJlcGxhY2UoXCIjXCIsIFwiXCIpO1xyXG5cclxuICAgICAgLy8gTG9vcCB0aHJvdWdoIHRoZSB0YWIgY29udGVudFxyXG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRhYkNvbnRlbnRzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgdmFyIHRhYkNvbnRlbnQgPSB0YWJDb250ZW50c1tqXTtcclxuICAgICAgICB0YWJDb250ZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJpcy12aXNpYmxlXCIpO1xyXG4gICAgICAgIHRhYkxpbmtzW2pdLmNsYXNzTGlzdC5yZW1vdmUoXCJpcy1hY3RpdmVcIik7XHJcbiAgICAgICAgaWYgKHRhYkNvbnRlbnQuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgICB0YWJDb250ZW50LmNsYXNzTGlzdC5hZGQoXCJpcy12aXNpYmxlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgdGhpcy5jbGFzc0xpc3QuYWRkKFwiaXMtYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59O1xyXG5cclxuXHJcbi8vIE1JQ1JPTU9EQUxcclxuTWljcm9Nb2RhbC5pbml0KCk7XHJcblxyXG4vLyBpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9kYWwnKSkge1xyXG5cclxuLy8gICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCAnd3BjZjdzdWJtaXQnLCBmdW5jdGlvbiggZXZlbnQgKSB7XHJcbi8vICAgICBjb25zdCBtb2RhbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2RhbCcpO1xyXG4vLyAgICAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtb3BlbicpO1xyXG4vLyAgIH0sIGZhbHNlICk7XHJcbi8vIH1cclxuXHJcbi8vIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihlKXtcclxuXHJcbi8vIH0pIl0sInNvdXJjZVJvb3QiOiIifQ==